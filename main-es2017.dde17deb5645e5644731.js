(self.webpackChunkcitmov=self.webpackChunkcitmov||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},3036:function(t){t.exports=function(){"use strict";function t(t,r,i,o,s){!function t(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,l=r-i+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-l*u/a+h)),Math.min(o,Math.floor(r+(a-l)*u/a+h)),s)}var d=n[r],p=i,f=o;for(e(n,i,r),s(n[o],d)>0&&e(n,i,o);p<f;){for(e(n,p,f),p++,f--;s(n[p],d)<0;)p++;for(;s(n[f],d)>0;)f--}0===s(n[i],d)?e(n,i,f):e(n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(t,r,i||0,o||t.length-1,s||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=f(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(i,t.leaf?r(s):s)}return i}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function f(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,r,i,o){for(var s=[n,r];s.length;)if(!((r=s.pop())-(n=s.pop())<=i)){var a=n+Math.ceil((r-n)/i/2)*i;t(e,a,n,r,o),s.push(n,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?r(s):s;p(t,a)&&(e.leaf?n.push(s):d(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(p(t,o)){if(e.leaf||d(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=f([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,s=this.data,a=this.toBBox(t),l=[],c=[];s||l.length;){if(s||(s=l.pop(),r=l[l.length-1],n=c.pop(),o=!0),s.leaf){var u=i(t,s.children,e);if(-1!==u)return s.children.splice(u,1),l.push(s),this._condense(l),this}o||s.leaf||!d(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(l.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,s=n-e+1,a=this._maxEntries;if(s<=a)return o(i=f(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(i=f([])).leaf=!1,i.height=r;var l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));g(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var h=Math.min(u+c-1,n);g(t,u,h,l,this.compareMinY);for(var d=u;d<=h;d+=l){var p=Math.min(d+l-1,h);i.children.push(this._build(t,d,p,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var l=e.children[a],c=u(l),h=(d=t,p=l,(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-c);h<o?(o=h,i=c<i?c:i,s=l):h===o&&c<i&&(i=c,s=l)}e=s||e.children[0]}var d,p;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),a(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),a=f(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},r.prototype._splitRoot=function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,a,l,c,h,d=1/0,p=1/0,f=e;f<=n-e;f++){var g=s(t,0,f,this.toBBox),m=s(t,f,n,this.toBBox),y=(i=g,o=m,a=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),c=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,c-a)*Math.max(0,h-l)),_=u(g)+u(m);y<d?(d=y,r=f,p=_<p?_:p):y===d&&_<p&&(p=_,r=f)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:l,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),l=s(t,n-e,n,i),c=h(o)+h(l),u=e;u<n-e;u++){var d=t.children[u];a(o,t.leaf?i(d):d),c+=h(o)}for(var p=n-e-1;p>=e;p--){var f=t.children[p];a(l,t.leaf?i(f):f),c+=h(l)}return c},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)a(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},2667:function(t,e,n){"use strict";function r(t){return"function"==typeof t}let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class h{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof h)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if(r(i)){n&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){t=s instanceof u?d(s.errors):[s]}}if(l(o)){let e=-1,n=o.length;for(;++e<n;){const n=o[e];if(c(n))try{n.unsubscribe()}catch(s){t=t||[],s instanceof u?t=t.concat(d(s.errors)):t.push(s)}}}if(t)throw new u(t)}add(t){let e=t;if(!t)return h.EMPTY;switch(typeof t){case"function":e=new h(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof h)){const t=e;e=new h,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof h){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}h.EMPTY=function(t){return t.closed=!0,t}(new h);const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(t){return t}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=v(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=v(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function v(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const b=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends f{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new b;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new b;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new b;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new b;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function E(t){return t&&"function"==typeof t.schedule}function T(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new O(t,e))}}class O{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new R(t,this.project,this.thisArg))}}class R extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const P=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},I="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",A=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function k(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const F=t=>{if(t&&"function"==typeof t[m])return n=t,t=>{const e=n[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(A(t))return P(t);if(k(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[I])return e=t,t=>{const n=e[I]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function j(t,e){return new _(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function M(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(k(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(A(t))return j(t,e);if(function(t){return t&&"function"==typeof t[I]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[I](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(F(t))}class L extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class D extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function N(t,e){if(e.closed)return;if(t instanceof _)return t.subscribe(e);let n;try{n=F(t)(e)}catch(r){e.error(r)}return n}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(z((n,r)=>M(t(n,r)).pipe(T((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new V(t,this.project,this.concurrent))}}class V extends D{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new L(this),n=this.destination;n.add(e);const r=N(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function G(t=Number.POSITIVE_INFINITY){return z(y,t)}function U(t,e){return e?j(t,e):new _(P(t))}function B(){return function(t){return t.lift(new H(t))}}class H{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new W(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class W extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class X extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Y(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return B()(this)}}const Z=(()=>{const t=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Y extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function K(){return new C}function $(t){for(let e in t)if(t[e]===$)return e;throw Error("Could not find renamed property on target object.")}function J(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(J).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Q(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const tt=$({__forward_ref__:$});function et(t){return t.__forward_ref__=et,t.toString=function(){return J(this())},t}function nt(t){return"function"==typeof(e=t)&&e.hasOwnProperty(tt)&&e.__forward_ref__===et?t():t;var e}class rt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function it(t){return"string"==typeof t?t:null==t?"":String(t)}function ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():it(t)}function st(t,e){const n=e?` in ${e}`:"";throw new rt("201",`No provider for ${ot(t)} found${n}`)}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ct(t){return ut(t,dt)||ut(t,ft)}function ut(t,e){return t.hasOwnProperty(e)?t[e]:null}function ht(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(gt))?t[pt]:null}const dt=$({"\u0275prov":$}),pt=$({"\u0275inj":$}),ft=$({ngInjectableDef:$}),gt=$({ngInjectorDef:$});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let yt;function _t(t){const e=yt;return yt=t,e}function vt(t,e,n){const r=ct(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&mt.Optional?null:void 0!==e?e:void st(J(t),"Injector")}function bt(t){return{toString:t}.toString()}var wt=(()=>((wt=wt||{})[wt.OnPush=0]="OnPush",wt[wt.Default=1]="Default",wt))(),xt=(()=>((xt=xt||{})[xt.Emulated=0]="Emulated",xt[xt.None=2]="None",xt[xt.ShadowDom=3]="ShadowDom",xt))();const Ct="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,Et="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt="undefined"!=typeof global&&global,Ot=Ct||Tt||St||Et,Rt={},Pt=[],It=$({"\u0275cmp":$}),At=$({"\u0275dir":$}),kt=$({"\u0275pipe":$}),Ft=$({"\u0275mod":$}),jt=$({"\u0275loc":$}),Mt=$({"\u0275fac":$}),Lt=$({__NG_ELEMENT_ID__:$});let Dt=0;function Nt(t){return bt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Pt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||xt.Emulated,id:"c",styles:t.styles||Pt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Dt++,n.inputs=Ut(t.inputs,e),n.outputs=Ut(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(zt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(qt):null,n})}function zt(t){return Wt(t)||function(t){return t[At]||null}(t)}function qt(t){return function(t){return t[kt]||null}(t)}const Vt={};function Gt(t){return bt(()=>{const e={type:t.type,bootstrap:t.bootstrap||Pt,declarations:t.declarations||Pt,imports:t.imports||Pt,exports:t.exports||Pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Vt[t.id]=t.type),e})}function Ut(t,e){if(null==t)return Rt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Bt=Nt;function Ht(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wt(t){return t[It]||null}function Xt(t,e){const n=t[Ft]||null;if(!n&&!0===e)throw new Error(`Type ${J(t)} does not have '\u0275mod' property.`);return n}function Zt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yt(t){return Array.isArray(t)&&!0===t[1]}function Kt(t){return 0!=(8&t.flags)}function $t(t){return 2==(2&t.flags)}function Jt(t){return 1==(1&t.flags)}function Qt(t){return null!==t.template}function te(t,e){return t.hasOwnProperty(Mt)?t[Mt]:null}class ee{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ne(){const t=ie(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Rt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function re(t,e,n,r){const i=ie(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Rt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],l=s[a];o[a]=new ee(l&&l.currentValue,e,s===Rt),t[r]=e}function ie(t){return t.__ngSimpleChanges__||null}let oe;function se(t){return!!t.listen}const ae={createRenderer:(t,e)=>void 0!==oe?oe:"undefined"!=typeof document?document:void 0};function le(t){for(;Array.isArray(t);)t=t[0];return t}function ce(t,e){return le(e[t])}function ue(t,e){return le(e[t.index])}function he(t,e){return t.data[e]}function de(t,e){const n=e[t];return Zt(n)?n:n[0]}function pe(t){return 4==(4&t[2])}function fe(t){return 128==(128&t[2])}function ge(t,e){return null==e?null:t[e]}function me(t){t[18]=0}function ye(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const _e={lFrame:qe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ve(){return _e.bindingsEnabled}function be(){return _e.lFrame.lView}function we(){return _e.lFrame.tView}function xe(t){return _e.lFrame.contextLView=t,t[8]}function Ce(){let t=Se();for(;null!==t&&64===t.type;)t=t.parent;return t}function Se(){return _e.lFrame.currentTNode}function Ee(t,e){const n=_e.lFrame;n.currentTNode=t,n.isParent=e}function Te(){return _e.lFrame.isParent}function Oe(){_e.lFrame.isParent=!1}function Re(){return _e.isInCheckNoChangesMode}function Pe(t){_e.isInCheckNoChangesMode=t}function Ie(){return _e.lFrame.bindingIndex++}function Ae(t){const e=_e.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ke(t,e){const n=_e.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fe(e)}function Fe(t){_e.lFrame.currentDirectiveIndex=t}function je(){return _e.lFrame.currentQueryIndex}function Me(t){_e.lFrame.currentQueryIndex=t}function Le(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function De(t,e,n){if(n&mt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&mt.Host||(r=Le(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=_e.lFrame=ze();return r.currentTNode=e,r.lView=t,!0}function Ne(t){const e=ze(),n=t[1];_e.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ze(){const t=_e.lFrame,e=null===t?null:t.child;return null===e?qe(t):e}function qe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ve(){const t=_e.lFrame;return _e.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ge=Ve;function Ue(){const t=Ve();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Be(){return _e.lFrame.selectedIndex}function He(t){_e.lFrame.selectedIndex=t}function We(){const t=_e.lFrame;return he(t.tView,t.selectedIndex)}function Xe(){_e.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Ze(){_e.lFrame.currentNamespace=null}function Ye(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ke(t,e,n){Qe(t,e,3,n)}function $e(t,e,n,r){(3&t[2])===n&&Qe(t,e,n,r)}function Je(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Qe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(tn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function tn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}class en{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function nn(t,e,n){const r=se(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++i];on(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function rn(t){return 3===t||4===t||6===t}function on(t){return 64===t.charCodeAt(0)}function sn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||an(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function an(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ln(t){return-1!==t}function cn(t){return 32767&t}function un(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let hn=!0;function dn(t){const e=hn;return hn=t,e}let pn=0;function fn(t,e){const n=mn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,gn(r.data,t),gn(e,null),gn(r.blueprint,null));const i=yn(t,e),o=t.injectorIndex;if(ln(i)){const t=cn(i),n=un(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function gn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function yn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function _n(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Lt)&&(r=n[Lt]),null==r&&(r=n[Lt]=pn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function vn(t,e,n){if(n&mt.Optional)return t;st(e,"NodeInjector")}function bn(t,e,n,r){if(n&mt.Optional&&void 0===r&&(r=null),0==(n&(mt.Self|mt.Host))){const i=t[9],o=_t(void 0);try{return i?i.get(e,r,n&mt.Optional):vt(e,r,n&mt.Optional)}finally{_t(o)}}return vn(r,e,n)}function wn(t,e,n,r=mt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Lt)?t[Lt]:void 0;return"number"==typeof e?e>=0?255&e:Cn:e}(n);if("function"==typeof o){if(!De(e,t,r))return r&mt.Host?vn(i,n,r):bn(e,n,r,i);try{const t=o(r);if(null!=t||r&mt.Optional)return t;st(n)}finally{Ge()}}else if("number"==typeof o){let i=null,s=mn(t,e),a=-1,l=r&mt.Host?e[16][6]:null;for((-1===s||r&mt.SkipSelf)&&(a=-1===s?yn(t,e):e[s+8],-1!==a&&Rn(r,!1)?(i=e[1],s=cn(a),e=un(a,e)):s=-1);-1!==s;){const t=e[1];if(On(o,s,t.data)){const t=Sn(s,e,n,i,r,l);if(t!==xn)return t}a=e[s+8],-1!==a&&Rn(r,e[1].data[s+8]===l)&&On(o,s,e)?(i=t,s=cn(a),e=un(a,e)):s=-1}}}return bn(e,n,r,i)}const xn={};function Cn(){return new Pn(Ce(),be())}function Sn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],l=En(a,s,n,null==r?$t(a)&&hn:r!=s&&0!=(3&a.type),i&mt.Host&&o===a);return null!==l?Tn(e,s,l,a):xn}function En(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,c=o>>20,u=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<u;h++){const t=s[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=s[l];if(t&&Qt(t)&&t.type===n)return l}return null}function Tn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof en){const s=i;s.resolving&&function(t,e){throw new rt("200",`Circular dependency in DI detected for ${t}`)}(ot(o[n]));const a=dn(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?_t(s.injectImpl):null;De(t,r,mt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=((s=e).type.prototype.ngOnChanges&&(s.setInput=re),ne);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}var s;i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&_t(l),dn(a),s.resolving=!1,Ge()}}return i}function On(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Rn(t,e){return!(t&mt.Self||t&mt.Host&&e)}class Pn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return wn(this._tNode,this._lView,t,void 0,e)}}function In(t,e,n){return bt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class An{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kn=new An("AnalyzeForEntryComponents"),Fn=Function;function jn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),jn(r,e)):e!==t&&e.push(r)}return e}function Mn(t,e){t.forEach(t=>Array.isArray(t)?Mn(t,e):e(t))}function Ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Nn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function zn(t,e,n){let r=Vn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function qn(t,e){const n=Vn(t,e);if(n>=0)return t[1|n]}function Vn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Gn={},Un=/\n/gm,Bn=$({provide:String,useValue:$});let Hn;function Wn(t){const e=Hn;return Hn=t,e}function Xn(t,e=mt.Default){if(void 0===Hn)throw new Error("inject() must be called from an injection context");return null===Hn?vt(t,void 0,e):Hn.get(t,e&mt.Optional?null:void 0,e)}function Zn(t,e=mt.Default){return(yt||Xn)(nt(t),e)}function Yn(t){const e=[];for(let n=0;n<t.length;n++){const r=nt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=mt.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(Zn(t,n))}else e.push(Zn(r))}return e}function Kn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const $n=Kn(In("Inject",t=>({token:t})),-1),Jn=Kn(In("Optional"),8),Qn=Kn(In("SkipSelf"),4);class tr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function er(t){return t instanceof tr?t.changingThisBreaksApplicationSecurity:t}const nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function or(t){const e=function(){const t=be();return t&&t[12]}();return e?e.sanitize(ir.URL,t)||"":function(t,e){const n=function(t){return t instanceof tr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?er(t):(n=it(t),(n=String(n)).match(nr)||n.match(rr)?n:"unsafe:"+n);var n}function sr(t,e){t.__ngContext__=e}function ar(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function lr(t){return t.ngOriginalError}function cr(t,...e){t.error(...e)}class ur{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t&&t.ngErrorLogger||cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(lr(t)):null}_findOriginalError(t){let e=t&&lr(t);for(;e&&lr(e);)e=lr(e);return e||null}}const hr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ot))();function dr(t){return t instanceof Function?t():t}var pr=(()=>((pr=pr||{})[pr.Important=1]="Important",pr[pr.DashCase=2]="DashCase",pr))();function fr(t,e){return(void 0)(t,e)}function gr(t){const e=t[3];return Yt(e)?e[3]:e}function mr(t){return _r(t[13])}function yr(t){return _r(t[4])}function _r(t){for(;null!==t&&!Yt(t);)t=t[4];return t}function vr(t,e,n,r,i){if(null!=r){let o,s=!1;Yt(r)?o=r:Zt(r)&&(s=!0,r=r[0]);const a=le(r);0===t&&null!==n?null==i?Or(e,n,a):Tr(e,n,a,i||null,!0):1===t&&null!==n?Tr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Pr(t,e);r&&function(t,e,n,r){se(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==le(n)&&vr(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Dr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function br(t,e,n){return se(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function wr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ye(i,-1)),n.splice(r,1)}function xr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&wr(o,r),e>0&&(t[n-1][4]=r[4]);const s=Dn(t,10+e);Dr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Cr(t,e){if(!(256&e[2])){const n=e[11];se(n)&&n.destroyNode&&Dr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Sr(t[1],t);for(;e;){let n=null;if(Zt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Zt(e)&&Sr(e[1],e),e=e[3];null===e&&(e=t),Zt(e)&&Sr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Sr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof en)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):le(e[t]),a=r[i=n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&se(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Yt(e[3])){n!==e[3]&&wr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Er(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===xt.None||e===xt.Emulated)return null}return ue(r,n)}(t,e.parent,n)}function Tr(t,e,n,r,i){se(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Or(t,e,n){se(t)?t.appendChild(e,n):e.appendChild(n)}function Rr(t,e,n,r,i){null!==r?Tr(t,e,n,r,i):Or(t,e,n)}function Pr(t,e){return se(t)?t.parentNode(e):e.parentNode}function Ir(t,e,n){return Ar(t,e,n)}let Ar=function(t,e,n){return 40&t.type?ue(t,n):null};function kr(t,e,n,r){const i=Er(t,r,e),o=e[11],s=Ir(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Rr(o,i,n[a],s,!1);else Rr(o,i,n,s,!1)}function Fr(t,e){if(null!==e){const n=e.type;if(3&n)return ue(e,t);if(4&n)return Mr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Fr(t,n);{const n=t[e.index];return Yt(n)?Mr(-1,n):le(n)}}if(32&n)return fr(e,t)()||le(t[e.index]);{const n=jr(t,e);return null!==n?Array.isArray(n)?n[0]:Fr(gr(t[16]),n):Fr(t,e.next)}}return null}function jr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Mr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Fr(t,r)}return e[7]}function Lr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&sr(le(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Lr(t,e,n.child,r,i,o,!1),vr(e,t,i,a,o);else if(32&l){const s=fr(n,r);let l;for(;l=s();)vr(e,t,i,l,o);vr(e,t,i,a,o)}else 16&l?Nr(t,e,r,n,i,o):vr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Dr(t,e,n,r,i,o){Lr(n,r,t.firstChild,e,i,o,!1)}function Nr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)vr(e,t,i,a[l],o);else Lr(t,e,a,s[3],i,o,!0)}function zr(t,e,n){se(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qr(t,e,n){se(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Vr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Gr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Vr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ur(t){return 4===t.type&&"ng-template"!==t.value}function Br(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Hr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(rn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Br(t,l,n)||""===l&&1===e.length){if(Wr(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Gr(t.attrs,c,n)){if(Wr(r))return!1;s=!0}continue}const u=Xr(8&r?"class":l,i,Ur(t),n);if(-1===u){if(Wr(r))return!1;s=!0;continue}if(""!==c){let t;t=u>o?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Vr(e,c,0)||2&r&&c!==t){if(Wr(r))return!1;s=!0}}}}else{if(!s&&!Wr(r)&&!Wr(l))return!1;if(s&&Wr(l))continue;s=!1,r=l|1&r}}return Wr(r)||s}function Wr(t){return 0==(1&t)}function Xr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Zr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Hr(t,e[r],n))return!0;return!1}function Yr(t,e){return t?":not("+e.trim()+")":e}function Kr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Wr(s)||(e+=Yr(o,i),i=""),r=s,o=o||!Wr(r);n++}return""!==i&&(e+=Yr(o,i)),e}const $r={};function Jr(t){Qr(we(),be(),Be()+t,Re())}function Qr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ke(e,r,n)}else{const r=t.preOrderHooks;null!==r&&$e(e,r,0,n)}He(n)}function ti(t,e){return t<<17|e<<2}function ei(t){return t>>17&32767}function ni(t){return 2|t}function ri(t){return(131068&t)>>2}function ii(t,e){return-131069&t|e<<2}function oi(t){return 1|t}function si(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Me(i),n.contentQueries(2,e[o],o)}}}function ai(t,e,n,r,i,o,s,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,me(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function li(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Se(),s=Te(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),_e.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=_e.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Ee(o,!0),o}function ci(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ui(t,e,n){Ne(e);try{const r=t.viewQuery;null!==r&&zi(1,r,n);const i=t.template;null!==i&&pi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&si(t,e),t.staticViewQueries&&zi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)ji(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ue()}}function hi(t,e,n,r){const i=e[2];if(256==(256&i))return;Ne(e);const o=Re();try{me(e),_e.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&pi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ke(e,n,null)}else{const n=t.preOrderHooks;null!==n&&$e(e,n,0,null),Je(e,0)}if(function(t){for(let e=mr(t);null!==e;e=yr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ye(r,1),n[2]|=1024}}}(e),function(t){for(let e=mr(t);null!==e;e=yr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];fe(n)&&hi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&si(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ke(e,n)}else{const n=t.contentHooks;null!==n&&$e(e,n,1),Je(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)He(~r);else{const i=r,o=n[++t],s=n[++t];ke(o,i),s(2,e[i])}}}finally{He(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ki(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&zi(2,l,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ke(e,n)}else{const n=t.viewHooks;null!==n&&$e(e,n,2),Je(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ye(e[3],-1))}finally{Ue()}}function di(t,e,n,r){const i=e[10],o=!Re(),s=pe(e);try{o&&!s&&i.begin&&i.begin(),s&&ui(t,e,r),hi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function pi(t,e,n,r,i){const o=Be(),s=2&r;try{He(-1),s&&e.length>20&&Qr(t,e,20,Re()),n(r,i)}finally{He(o)}}function fi(t,e,n){ve()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||fn(n,e),sr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Qt(r);o&&Ri(e,n,r);const l=Tn(e,t,a,n);sr(l,e),null!==s&&Pi(0,a-i,l,r,0,s),o&&(de(n.index,e)[8]=l)}}(t,e,n,ue(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=_e.lFrame.currentDirectiveIndex;try{He(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Fe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ci(r,i)}}finally{He(-1),Fe(s)}}(t,e,n))}function gi(t,e,n=ue){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function mi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=yi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function yi(t,e,n,r,i,o,s,a,l,c){const u=20+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:$r);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function _i(t,e,n,r){const i=Vi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Gi(t).push(r,i.length-1))}function vi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function bi(t,e,n,r,i,o,s,a){const l=ue(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[r])?(Bi(t,n,c,r,i),$t(e)&&function(t,e){const n=de(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,se(o)?o.setProperty(l,r,i):on(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function wi(t,e,n,r){let i=!1;if(ve()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Zr(n,s.selectors,!1)&&(i||(i=[]),_n(fn(n,e),t,s.type),Qt(s)?(Si(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ti(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,l=ci(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=sn(n.mergedAttrs,c.hostAttrs),Oi(t,n,e,l,c),Ei(l,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,c=null===i||Ur(e)?null:Ii(n,i);o.push(c),s=vi(n,l,s),a=vi(t.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new rt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=sn(n.mergedAttrs,n.attrs),i}function xi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ci(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Si(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ei(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qt(e)&&(n[""]=t)}}function Ti(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Oi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=te(i.type)),s=new en(o,Qt(i),null);t.blueprint[r]=s,n[r]=s,xi(t,e,0,r,ci(t,n,i.hostVars,$r),i)}function Ri(t,e,n){const r=ue(e,t),i=mi(n),o=t[10],s=Mi(t,ai(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Pi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ii(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ai(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ki(t,e){const n=de(e,t);if(fe(n)){const t=n[1];80&n[2]?hi(t,n,t.template,n[8]):n[5]>0&&Fi(n)}}function Fi(t){for(let n=mr(t);null!==n;n=yr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];hi(t,e,t.template,e[8])}else e[5]>0&&Fi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=de(e[n],t);fe(r)&&r[5]>0&&Fi(r)}}function ji(t,e){const n=de(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ui(r,n,n[8])}function Mi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Li(t){for(;t;){t[2]|=64;const e=gr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Di(t,e,n){const r=e[10];r.begin&&r.begin();try{hi(t,e,t.template,n)}catch(i){throw Ui(e,i),i}finally{r.end&&r.end()}}function Ni(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ar(n),i=r[1];di(i,r,i.template,n)}}(t[8])}function zi(t,e,n){Me(0),e(t,n)}const qi=(()=>Promise.resolve(null))();function Vi(t){return t[7]||(t[7]=[])}function Gi(t){return t.cleanup||(t.cleanup=[])}function Ui(t,e){const n=t[9],r=n?n.get(ur,null):null;r&&r.handleError(e)}function Bi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],c=t.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Hi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=Q(i,t):2==o&&(r=Q(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Wi=new An("INJECTOR",-1);class Xi{get(t,e=Gn){if(e===Gn){const e=new Error(`NullInjectorError: No provider for ${J(t)}!`);throw e.name="NullInjectorError",e}return e}}const Zi=new An("Set Injector scope."),Yi={},Ki={};let $i;function Ji(){return void 0===$i&&($i=new Xi),$i}function Qi(t,e=null,n=null,r){return new to(t,n,e||Ji(),r)}class to{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Mn(e,n=>this.processProvider(n,t,e)),Mn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Wi,no(void 0,this));const o=this.records.get(Zi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:J(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Gn,n=mt.Default){this.assertNotDestroyed();const r=Wn(this),i=_t(void 0);try{if(!(n&mt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof An)&&ct(t);e=n&&this.injectableDefInScope(n)?no(eo(t),Yi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&mt.Self?Ji():this.parent).get(t,e=n&mt.Optional&&e===Gn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(J(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=J(e);if(Array.isArray(e))i=e.map(J).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):J(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Un,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{_t(i),Wn(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(J(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=nt(t)))return!1;let r=ht(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ht(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Mn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Mn(r,t=>this.processProvider(t,n,r||Pt))}}this.injectorDefTypes.add(o);const a=te(o)||(()=>new o);this.records.set(o,no(a,Yi));const l=r.providers;if(null!=l&&!s){const e=t;Mn(l,t=>this.processProvider(t,e,l))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=io(t=nt(t))?t:nt(t&&t.provide);const i=function(t,e,n){return ro(t)?no(void 0,t.useValue):no(function(t,e,n){let r;if(io(t)){const e=nt(t);return te(e)||eo(e)}if(ro(t))r=()=>nt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Yn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Zn(nt(t.useExisting));else{const e=nt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return te(e)||eo(e);r=()=>new e(...Yn(t.deps))}var i;return r}(t),Yi)}(t);if(io(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=no(void 0,Yi,!0),e.factory=()=>Yn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Yi&&(e.value=Ki,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=nt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function eo(t){const e=ct(t),n=null!==e?e.factory:te(t);if(null!==n)return n;if(t instanceof An)throw new Error(`Token ${J(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Nn(e,"?");throw new Error(`Can't resolve all parameters for ${J(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[dt]||t[ft]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function no(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ro(t){return null!==t&&"object"==typeof t&&Bn in t}function io(t){return"function"==typeof t}const oo=function(t,e,n){return function(t,e=null,n=null,r){const i=Qi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class so{static create(t,e){return Array.isArray(t)?oo(t,e,""):oo(t.providers,t.parent,t.name||"")}}function ao(t,e){Ye(ar(t)[1],Ce())}so.THROW_IF_NOT_FOUND=Gn,so.NULL=new Xi,so.\u0275prov=at({token:so,providedIn:"any",factory:()=>Zn(Wi)}),so.__NG_ELEMENT_ID__=-1;let lo=null;function co(){if(!lo){const t=Ot.Symbol;if(t&&t.iterator)lo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(lo=n)}}}return lo}class uo{constructor(t){this.wrapped=t}static wrap(t){return new uo(t)}static unwrap(t){return uo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof uo}}function ho(t){return!!po(t)&&(Array.isArray(t)||!(t instanceof Map)&&co()in t)}function po(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function fo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function go(t,e,n,r){const i=be();return fo(i,Ie(),e)&&(we(),function(t,e,n,r,i,o){const s=ue(t,e);!function(t,e,n,r,i,o,s){if(null==o)se(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?it(o):s(o,r||"",i);se(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(We(),i,t,e,n,r)),go}function mo(t,e,n,r){return fo(t,Ie(),n)?e+it(n)+r:$r}function yo(t,e,n,r,i,o,s,a){const l=be(),c=we(),u=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,l){const c=e.consts,u=li(e,t,4,s||null,ge(c,a));wi(e,n,u,ge(c,l)),Ye(e,u);const h=u.tViews=yi(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,o,s):c.data[u];Ee(h,!1);const d=l[11].createComment("");kr(c,l,d,h),sr(d,l),Mi(l,l[u]=Ai(d,l,d,h)),Jt(h)&&fi(c,l,h),null!=s&&gi(l,h,a)}function _o(t,e=mt.Default){const n=be();return null===n?Zn(t,e):wn(Ce(),n,nt(t),e)}function vo(t,e,n){const r=be();return fo(r,Ie(),e)&&bi(we(),We(),r,t,e,r[11],n,!1),vo}function bo(t,e,n,r,i){const o=i?"class":"style";Bi(t,n,e.inputs[o],o,r)}function wo(t,e,n,r){const i=be(),o=we(),s=20+t,a=i[11],l=i[s]=br(a,e,_e.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,l=li(e,t,2,i,ge(a,o));return wi(e,n,l,ge(a,s)),null!==l.attrs&&Hi(l,l.attrs,!1),null!==l.mergedAttrs&&Hi(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,0,e,n,r):o.data[s];Ee(c,!0);const u=c.mergedAttrs;null!==u&&nn(a,l,u);const h=c.classes;null!==h&&qr(a,l,h);const d=c.styles;null!==d&&zr(a,l,d),64!=(64&c.flags)&&kr(o,i,l,c),0===_e.lFrame.elementDepthCount&&sr(l,i),_e.lFrame.elementDepthCount++,Jt(c)&&(fi(o,i,c),function(t,e,n){if(Kt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&gi(i,c)}function xo(){let t=Ce();Te()?Oe():(t=t.parent,Ee(t,!1));const e=t;_e.lFrame.elementDepthCount--;const n=we();n.firstCreatePass&&(Ye(n,t),Kt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&bo(n,e,be(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&bo(n,e,be(),e.stylesWithoutHost,!1)}function Co(t,e,n,r){wo(t,e,n,r),xo()}function So(){return be()}function Eo(t){return!!t&&"function"==typeof t.then}const To=function(t){return!!t&&"function"==typeof t.subscribe};function Oo(t,e,n,r){const i=be(),o=we(),s=Ce();return function(t,e,n,r,i,o,s,a){const l=Jt(r),c=t.firstCreatePass&&Gi(t),u=Vi(e);let h=!0;if(3&r.type||a){const d=ue(r,e),p=a?a(d):d,f=u.length,g=a?t=>a(le(t[r.index])):r.index;if(se(n)){let s=null;if(!a&&l&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Po(r,e,0,o,!1);const t=n.listen(p,i,o);u.push(o,t),c&&c.push(i,g,f,f+1)}}else o=Po(r,e,0,o,!0),p.addEventListener(i,o,s),u.push(o),c&&c.push(i,g,f,s)}else o=Po(r,e,0,o,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=u.length;u.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),Oo}function Ro(t,e,n,r){try{return!1!==n(r)}catch(i){return Ui(t,i),!1}}function Po(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?de(t.index,e):e;0==(32&e[2])&&Li(s);let a=Ro(e,0,r,o),l=n.__ngNextListenerFn__;for(;l;)a=Ro(e,0,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Io(t=1){return function(t){return(_e.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,_e.lFrame.contextLView))[8]}(t)}function Ao(t,e,n,r,i){const o=be(),s=mo(o,e,n,r);return s!==$r&&bi(we(),We(),o,t,s,o[11],i,!1),Ao}function ko(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ei(o):ri(o),l=!1;for(;0!==a&&(!1===l||s);){const n=t[a+1];Fo(t[a],e)&&(l=!0,t[a+1]=r?oi(n):ni(n)),a=r?ei(n):ri(n)}l&&(t[n+1]=r?ni(o):oi(o))}function Fo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Vn(t,e)>=0}const jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mo(t){return t.substring(jo.key,jo.keyEnd)}function Lo(t){return t.substring(jo.value,jo.valueEnd)}function Do(t,e){const n=jo.textEnd;return n===e?-1:(e=jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,jo.key=e,n),qo(t,e,n))}function No(t,e){const n=jo.textEnd;let r=jo.key=qo(t,e,n);return n===r?-1:(r=jo.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=Vo(t,r,n),r=jo.value=qo(t,r,n),r=jo.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const l=t.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=Go(t,l,s,n):e===s-4&&85===o&&82===i&&76===r&&40===l?a=s=Go(t,41,s,n):l>32&&(a=s),o=i,i=r,r=-33&l}return a}(t,r,n),Vo(t,r,n))}function zo(t){jo.key=0,jo.keyEnd=0,jo.value=0,jo.valueEnd=0,jo.textEnd=t.length}function qo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Vo(t,e,n,r){return(e=qo(t,e,n))<n&&e++,e}function Go(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function Uo(t,e){return function(t,e,n,r){const i=be(),o=we(),s=Ae(2);o.firstUpdatePass&&Yo(o,t,s,true),e!==$r&&fo(i,s,e)&&Qo(o,o.data[Be()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=J(er(t))),t}(e),true,s)}(t,e),Uo}function Bo(t,e){for(let n=function(t){return zo(t),No(t,qo(t,0,jo.textEnd))}(e);n>=0;n=No(e,n))Jo(t,Mo(e),Lo(e))}function Ho(t){Xo(zn,Wo,t,!0)}function Wo(t,e){for(let n=function(t){return zo(t),Do(t,qo(t,0,jo.textEnd))}(e);n>=0;n=Do(e,n))zn(t,Mo(e),!0)}function Xo(t,e,n,r){const i=we(),o=Ae(2);i.firstUpdatePass&&Yo(i,null,o,r);const s=be();if(n!==$r&&fo(s,o,n)){const a=i.data[Be()];if(ns(a,r)&&!Zo(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=Q(t,n||"")),bo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===$r&&(i=Pt);let l=0,c=0,u=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,p=c<o.length?o[c+1]:void 0;let f,g=null;u===h?(l+=2,c+=2,d!==p&&(g=h,f=p)):null===h||null!==u&&u<h?(l+=2,g=u):(c+=2,g=h,f=p),null!==g&&Qo(t,e,n,r,g,f,s,a),u=l<i.length?i[l]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Pt;const r=[],i=er(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Zo(t,e){return e>=t.expandoStartIndex}function Yo(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Be()],s=Zo(t,n);ns(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=_e.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=$o(n=Ko(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ko(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ri(r))return t[ei(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ko(null,t,e,n[1],r),n=$o(n,e.attrs,r),function(t,e,n,r){t[ei(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=$o(r,t[o].hostAttrs,n);return $o(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ei(s),l=ri(s);t[r]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Vn(t,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const e=ei(t[a+1]);t[r+1]=ti(e,a),0!==e&&(t[e+1]=ii(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ti(a,0),0!==a&&(t[a+1]=ii(t[a+1],r)),a=r;else t[r+1]=ti(l,0),0===a?a=r:t[l+1]=ii(t[l+1],r),l=r;u&&(t[r+1]=ni(t[r+1])),ko(t,c,r,!0),ko(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Vn(o,e)>=0&&(n[r+1]=oi(n[r+1]))}(e,c,t,r,o),s=ti(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ko(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=$o(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function $o(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Jo(t,e,n){zn(t,e,er(n))}function Qo(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];es(1==(1&c)?ts(l,e,n,i,ri(c),s):void 0)||(es(o)||2==(2&c)&&(o=ts(l,null,n,i,a,s)),function(t,e,n,r,i){const o=se(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:pr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=pr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,ce(Be(),n),i,o))}function ts(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),l=o?e[1]:e,c=null===l;let u=n[i+1];u===$r&&(u=c?Pt:void 0);let h=c?qn(u,r):l===r?u:void 0;if(o&&!es(h)&&(h=qn(e,r)),es(h)&&(a=h,s))return a;const d=t[i+1];i=s?ei(d):ri(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=qn(t,r))}return a}function es(t){return void 0!==t}function ns(t,e){return 0!=(t.flags&(e?16:32))}function rs(t,e=""){const n=be(),r=we(),i=t+20,o=r.firstCreatePass?li(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return se(t)?t.createText(e):t.createTextNode(e)}(n[11],e);kr(r,n,s,o),Ee(o,!1)}function is(t){return os("",t,""),is}function os(t,e,n){const r=be(),i=mo(r,t,e,n);return i!==$r&&function(t,e,n){const r=ce(e,t);!function(t,e,n){se(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Be(),i),os}function ss(t,e,n){Xo(Jo,Bo,mo(be(),t,e,n),!1)}const as=void 0;var ls=["en",[["a","p"],["AM","PM"],as],[["AM","PM"],as,as],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],as,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",as,"{1} 'at' {0}",as],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let cs={};function us(t){return t in cs||(cs[t]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[t]),cs[t]}var hs=(()=>((hs=hs||{})[hs.LocaleId=0]="LocaleId",hs[hs.DayPeriodsFormat=1]="DayPeriodsFormat",hs[hs.DayPeriodsStandalone=2]="DayPeriodsStandalone",hs[hs.DaysFormat=3]="DaysFormat",hs[hs.DaysStandalone=4]="DaysStandalone",hs[hs.MonthsFormat=5]="MonthsFormat",hs[hs.MonthsStandalone=6]="MonthsStandalone",hs[hs.Eras=7]="Eras",hs[hs.FirstDayOfWeek=8]="FirstDayOfWeek",hs[hs.WeekendRange=9]="WeekendRange",hs[hs.DateFormat=10]="DateFormat",hs[hs.TimeFormat=11]="TimeFormat",hs[hs.DateTimeFormat=12]="DateTimeFormat",hs[hs.NumberSymbols=13]="NumberSymbols",hs[hs.NumberFormats=14]="NumberFormats",hs[hs.CurrencyCode=15]="CurrencyCode",hs[hs.CurrencySymbol=16]="CurrencySymbol",hs[hs.CurrencyName=17]="CurrencyName",hs[hs.Currencies=18]="Currencies",hs[hs.Directionality=19]="Directionality",hs[hs.PluralCase=20]="PluralCase",hs[hs.ExtraData=21]="ExtraData",hs))();let ds="en-US";function ps(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ds=t.toLowerCase().replace(/_/g,"-"))}class fs{}class gs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${J(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class ms{}function ys(...t){}function _s(t,e){return new bs(ue(t,e))}ms.NULL=new gs;const vs=function(){return _s(Ce(),be())};let bs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=vs,t})();function ws(t){return t instanceof bs?t.nativeElement:t}class xs{}let Cs=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class Ss{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Es=new Ss("12.1.5");class Ts{constructor(){}supports(t){return ho(t)}create(t){return new Rs(t)}}const Os=(t,e)=>e;class Rs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Os}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ks(n,r,i)?e:n,s=ks(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ho(t))throw new Error(`Error trying to diff '${J(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[co()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ps(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new As),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new As),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ps{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Is{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class As{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Is,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ks(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Fs{constructor(){}supports(t){return t instanceof Map||po(t)}create(){return new js}}class js{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||po(t)))throw new Error(`Error trying to diff '${J(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ms(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ms{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ls(){return new Ds([new Ts])}let Ds=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ls()),deps:[[t,new Qn,new Jn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=at({token:t,providedIn:"root",factory:Ls}),t})();function Ns(){return new zs([new Fs])}let zs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ns()),deps:[[t,new Qn,new Jn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=at({token:t,providedIn:"root",factory:Ns}),t})();function qs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(le(o)),Yt(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&qs(e[1],e,n,r)}const s=n.type;if(8&s)qs(t,e,n.child,r);else if(32&s){const t=fr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=jr(e,n);if(Array.isArray(t))r.push(...t);else{const n=gr(e[16]);qs(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Vs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return qs(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Yt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(xr(t,n),Dn(e,n))}this._attachedToViewContainer=!1}Cr(this._lView[1],this._lView)}onDestroy(t){_i(this._lView[1],this._lView,null,t)}markForCheck(){Li(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Di(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Pe(!0);try{Di(t,e,n)}finally{Pe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Dr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gs extends Vs{constructor(t){super(t),this._view=t}detectChanges(){Ni(this._view)}checkNoChanges(){!function(t){Pe(!0);try{Ni(t)}finally{Pe(!1)}}(this._view)}get context(){return null}}const Us=function(t){return function(t,e,n){if($t(t)&&!n){const n=de(t.index,e);return new Vs(n,n)}return 47&t.type?new Vs(e[16],e):null}(Ce(),be(),16==(16&t))};let Bs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Us,t})();const Hs=[new Fs],Ws=new Ds([new Ts]),Xs=new zs(Hs),Zs=function(){return Js(Ce(),be())};let Ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zs,t})();const Ks=Ys,$s=class extends Ks{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ai(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ui(e,n,t),new Vs(n)}};function Js(t,e){return 4&t.type?new $s(e,t,_s(t,e)):null}class Qs{}class ta{}const ea=function(){return aa(Ce(),be())};let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=ea,t})();const ra=na,ia=class extends ra{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return _s(this._hostTNode,this._hostLView)}get injector(){return new Pn(this._hostTNode,this._hostLView)}get parentInjector(){const t=yn(this._hostTNode,this._hostLView);if(ln(t)){const e=un(t,this._hostLView),n=cn(t);return new Pn(e[1].data[n+8],e)}return new Pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=oa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Qs,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(Yt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ia(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Ln(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Mr(i,o),a=n[11],l=Pr(a,o[7]);return null!==l&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Dr(t,r,n,1,i,o)}(r,o[6],a,n,l,s),t.attachToViewContainerRef(),Ln(sa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=oa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);n&&(Dn(sa(this._lContainer),e),Cr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);return n&&null!=Dn(sa(this._lContainer),e)?new Vs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function oa(t){return t[8]}function sa(t){return t[8]||(t[8]=[])}function aa(t,e){let n;const r=e[t.index];if(Yt(r))n=r;else{let i;if(8&t.type)i=le(r);else{const n=e[11];i=n.createComment("");const r=ue(t,e);Tr(n,Pr(n,r),i,function(t,e){return se(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ai(r,e,i,t),Mi(e,n)}return new ia(n,t,e)}const la={};class ca extends ms{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Wt(t);return new da(e,this.ngModule)}}function ua(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ha=new An("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>hr});class da extends fs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Kr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ua(this.componentDef.inputs)}get outputs(){return ua(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,la,i);return o!==la||r===la?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(xs,ae),s=i.get(Cs,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(se(t))return t.selectRootElement(e,n===xt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):br(o.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:hr,clean:qi,playerHandler:null,flags:0},d=yi(0,null,null,1,0,null,null,null,null,null),p=ai(null,d,h,u,null,null,o,a,s,i);let f,g;Ne(p);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=li(s,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(Hi(a,l,!0),null!==t&&(nn(i,t,l),null!==a.classes&&qr(i,t,a.classes),null!==a.styles&&zr(i,t,a.styles)));const c=r.createRenderer(t,e),u=ai(n,mi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(_n(fn(a,n),s,e.type),Si(s,a),Ti(a,n.length,1)),Mi(n,u),n[20]=u}(c,this.componentDef,p,o,a);if(c)if(n)nn(a,c,["ng-version",Es.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Wr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&nn(a,c,t),e&&e.length>0&&qr(a,c,e.join(" "))}if(g=he(d,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}f=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ce();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Oi(t,r,e,ci(t,e,1,null),n));const i=Tn(e,t,r.directiveStart,r);sr(i,e);const o=ue(r,e);return o&&sr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ce();e.contentQueries(1,s,t.directiveStart)}const a=Ce();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(He(a.index),xi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ci(e,s)),s}(t,this.componentDef,p,h,[ao]),ui(d,p,null)}finally{Ue()}return new pa(this.componentType,f,_s(g,p),p,g)}}class pa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Gs(r),this.componentType=t}get injector(){return new Pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const fa=new Map;class ga extends Qs{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ca(this);const n=Xt(t),r=t[jt]||null;r&&ps(r),this._bootstrapComponents=dr(n.bootstrap),this._r3Injector=Qi(t,e,[{provide:Qs,useValue:this},{provide:ms,useValue:this.componentFactoryResolver}],J(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=so.THROW_IF_NOT_FOUND,n=mt.Default){return t===so||t===Qs||t===Wi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ma extends ta{constructor(t){super(),this.moduleType=t,null!==Xt(t)&&function(t){const e=new Set;!function t(n){const r=Xt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${J(e)} vs ${J(e.name)}`)}(i,fa.get(i),n),fa.set(i,n));const o=dr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new ga(this.moduleType,t)}}function ya(t,e,n){const r=t+20,i=be(),o=function(t,e){return t[e]}(i,r);return function(t,e){return uo.isWrapped(e)&&(e=uo.unwrap(e),t[_e.lFrame.bindingIndex]=$r),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,o){const s=e+n;return fo(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===$r?void 0:n}(t,s+1)}(i,function(){const t=_e.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n))}function _a(t){return e=>{setTimeout(t,void 0,e)}}const va=class extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,i,o;let s=t,a=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;s=null===(r=e.next)||void 0===r?void 0:r.bind(e),a=null===(i=e.error)||void 0===i?void 0:i.bind(e),l=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(a=_a(a),s&&(s=_a(s)),l&&(l=_a(l)));const c=super.subscribe({next:s,error:a,complete:l});return t instanceof h&&t.add(c),c}};function ba(){return this._results[co()]()}class wa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=co(),n=wa.prototype;n[e]||(n[e]=ba)}get changes(){return this._changes||(this._changes=new va)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=jn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class xa{constructor(t){this.queryList=t,this.matches=null}clone(){return new xa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ca{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ca(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ja(t,e).matches&&this.queries[e].setDirty()}}class Sa{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ea{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ea(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ta{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ta(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Oa(e,i)),this.matchTNodeWithReadOption(t,e,En(e,t,i,!1,!1))}else n===Ys?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,En(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===bs||r===na||r===Ys&&4&e.type)this.addMatch(e.index,-2);else{const n=En(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Oa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ra(t,e,n,r){return-1===n?function(t,e){return 11&t.type?_s(t,e):4&t.type?Js(t,e):null}(e,t):-2===n?function(t,e,n){return n===bs?_s(e,t):n===Ys?Js(e,t):n===na?aa(e,t):void 0}(t,e,r):Tn(t,t[1],n,e)}function Pa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ra(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ia(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Pa(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ia(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ia(n[1],n,i,r)}}}}}return r}function Aa(t){const e=be(),n=we(),r=je();Me(r+1);const i=ja(n,r);if(t.dirty&&pe(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ia(n,e,r,[]):Pa(n,e,i,r);t.reset(o,ws),t.notifyOnChanges()}return!0}return!1}function ka(t,e,n){const r=we();r.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Ea),t.queries.track(new Ta(e,-1))}(r,new Sa(t,e,n)),2==(2&e)&&(r.staticViewQueries=!0)),function(t,e,n){const r=new wa(4==(4&n));_i(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ca),e[19].queries.push(new xa(r))}(r,be(),e)}function Fa(){return t=be(),e=je(),t[19].queries[e].queryList;var t,e}function ja(t,e){return t.queries.getByIndex(e)}const Ma=new An("Application Initializer");let La=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ys,this.reject=ys,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Eo(e))t.push(e);else if(To(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Zn(Ma,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Da=new An("AppId"),Na={provide:Da,useFactory:function(){return`${za()}${za()}${za()}`},deps:[]};function za(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qa=new An("Platform Initializer"),Va=new An("Platform ID"),Ga=new An("appBootstrapListener");let Ua=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ba=new An("LocaleId"),Ha=new An("DefaultCurrencyCode");class Wa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Xa=function(t){return new ma(t)},Za=Xa,Ya=function(t){return Promise.resolve(Xa(t))},Ka=function(t){const e=Xa(t),n=dr(Xt(t).declarations).reduce((t,e)=>{const n=Wt(e);return n&&t.push(new da(n)),t},[]);return new Wa(e,n)},$a=Ka,Ja=function(t){return Promise.resolve(Ka(t))};let Qa=(()=>{class t{constructor(){this.compileModuleSync=Za,this.compileModuleAsync=Ya,this.compileModuleAndAllComponentsSync=$a,this.compileModuleAndAllComponentsAsync=Ja}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const tl=(()=>Promise.resolve(0))();function el(t){"undefined"==typeof Zone?tl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class nl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new va(!1),this.onMicrotaskEmpty=new va(!1),this.onStable=new va(!1),this.onError=new va(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Ot.requestAnimationFrame,e=Ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ot,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ol(t),t.isCheckStableRunning=!0,il(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ol(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return sl(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),al(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return sl(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),al(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ol(t),il(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,rl,ys,ys);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const rl={};function il(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ol(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function sl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function al(t){t._nesting--,il(t)}class ll{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new va,this.onMicrotaskEmpty=new va,this.onStable=new va,this.onError=new va}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let cl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nl.assertNotInAngularZone(),el(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())el(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Zn(nl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),ul=(()=>{class t{constructor(){this._applications=new Map,pl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return pl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class hl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let dl,pl=new hl,fl=!0,gl=!1;const ml=new An("AllowMultipleToken");class yl{constructor(t,e){this.name=t,this.token=e}}function _l(t,e,n=[]){const r=`Platform: ${e}`,i=new An(r);return(e=[])=>{let o=vl();if(!o||o.injector.get(ml,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Zi,useValue:"platform"});!function(t){if(dl&&!dl.destroyed&&!dl.injector.get(ml,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dl=t.get(bl);const e=t.get(qa,null);e&&e.forEach(t=>t())}(so.create({providers:t,name:r}))}return function(t){const e=vl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function vl(){return dl&&!dl.destroyed?dl:null}let bl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ll:("zone.js"===t?void 0:t)||new nl({enableLongStackTrace:(gl=!0,fl),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:nl,useValue:n}];return n.run(()=>{const e=so.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ur,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Cl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Eo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(La);return t.runInitializers(),t.donePromise.then(()=>(ps(i.injector.get(Ba,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=wl({},e);return function(t,e,n){const r=new ma(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(xl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${J(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Zn(so))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function wl(t,e){return Array.isArray(e)?e.reduce(wl,t):Object.assign(Object.assign({},t),e)}let xl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{nl.assertNotInAngularZone(),el(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{nl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return E(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:G(e)(U(t,n))}(o,s.pipe(t=>{return B()((e=K,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Z);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof fs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Qs),i=n.create(so.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(cl,null),a=s&&i.injector.get(ul);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Cl(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Cl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ga,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Zn(nl),Zn(so),Zn(ur),Zn(ms),Zn(La))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Cl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Sl{}class El{}const Tl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ol=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Tl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Rl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Rl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Zn(Qa),Zn(El,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Rl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Pl=_l(null,"core",[{provide:Va,useValue:"unknown"},{provide:bl,deps:[so]},{provide:ul,deps:[]},{provide:Ua,deps:[]}]),Il=[{provide:xl,useClass:xl,deps:[nl,so,ur,ms,La]},{provide:ha,deps:[nl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:La,useClass:La,deps:[[new Jn,Ma]]},{provide:Qa,useClass:Qa,deps:[]},Na,{provide:Ds,useFactory:function(){return Ws},deps:[]},{provide:zs,useFactory:function(){return Xs},deps:[]},{provide:Ba,useFactory:function(t){return ps(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new $n(Ba),new Jn,new Qn]]},{provide:Ha,useValue:"USD"}];let Al=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Zn(xl))},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({providers:Il}),t})(),kl=null;function Fl(){return kl}const jl=new An("DocumentToken");let Ml=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Ll,token:t,providedIn:"platform"}),t})();function Ll(){return Zn(Nl)}const Dl=new An("Location Initialized");let Nl=(()=>{class t extends Ml{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fl().getBaseHref(this._doc)}onPopState(t){const e=Fl().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=Fl().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){zl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){zl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Zn(jl))},t.\u0275prov=at({factory:ql,token:t,providedIn:"platform"}),t})();function zl(){return!!window.history.pushState}function ql(){return new Nl(Zn(jl))}function Vl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Gl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ul(t){return t&&"?"!==t[0]?"?"+t:t}let Bl=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Hl,token:t,providedIn:"root"}),t})();function Hl(t){const e=Zn(jl).location;return new Xl(Zn(Ml),e&&e.origin||"")}const Wl=new An("appBaseHref");let Xl=(()=>{class t extends Bl{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ul(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Ul(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Ul(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(Zn(Ml),Zn(Wl,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Zl=(()=>{class t extends Bl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Vl(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Ul(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Ul(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(Zn(Ml),Zn(Wl,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Yl=(()=>{class t{constructor(t,e){this._subject=new va,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Gl($l(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ul(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,$l(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ul(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ul(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Zn(Bl),Zn(Ml))},t.normalizeQueryParams=Ul,t.joinWithSlash=Vl,t.stripTrailingSlash=Gl,t.\u0275prov=at({factory:Kl,token:t,providedIn:"root"}),t})();function Kl(){return new Yl(Zn(Bl),Zn(Ml))}function $l(t){return t.replace(/\/index.html$/,"")}var Jl=(()=>((Jl=Jl||{})[Jl.Zero=0]="Zero",Jl[Jl.One=1]="One",Jl[Jl.Two=2]="Two",Jl[Jl.Few=3]="Few",Jl[Jl.Many=4]="Many",Jl[Jl.Other=5]="Other",Jl))();class Ql{}let tc=(()=>{class t extends Ql{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=us(e);if(n)return n;const r=e.split("-")[0];if(n=us(r),n)return n;if("en"===r)return ls;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[hs.PluralCase]}(e||this.locale)(t)){case Jl.Zero:return"zero";case Jl.One:return"one";case Jl.Two:return"two";case Jl.Few:return"few";case Jl.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Zn(Ba))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class ec{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ec(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new rc(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new rc(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(_o(na),_o(Ys),_o(Ds))},t.\u0275dir=Bt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class rc{constructor(t,e){this.record=t,this.view=e}}let ic=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new oc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(_o(na),_o(Ys))},t.\u0275dir=Bt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class oc{constructor(){this.$implicit=null,this.ngIf=null}}function sc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${J(e)}'.`)}let ac=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=lc}transform(t,e=lc){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t),r=e!==this.compareFn;return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})})),(n||r)&&(this.keyValues.sort(e),this.compareFn=e),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(_o(zs,16))},t.\u0275pipe=Ht({name:"keyvalue",type:t,pure:!1}),t})();function lc(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let cc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({providers:[{provide:Ql,useClass:tc}]}),t})(),uc=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new hc(Zn(jl),window)}),t})();class hc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=dc(this.window.history)||dc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function dc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class pc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new pc,kl||(kl=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(gc=gc||document.querySelector("base"),gc?gc.getAttribute("href"):null);return null==e?null:function(t){fc=fc||document.createElement("a"),fc.setAttribute("href",t);const e=fc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let fc,gc=null;const mc=new An("TRANSITION_ID"),yc=[{provide:Ma,useFactory:function(t,e,n){return()=>{n.get(La).donePromise.then(()=>{const n=Fl();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[mc,jl,so],multi:!0}];class _c{static init(){var t;t=new _c,pl=t}addToWindow(t){Ot.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t=>{const e=Ot.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Fl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let vc=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const bc=new An("EventManagerPlugins");let wc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Zn(bc),Zn(nl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class xc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Fl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Cc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t extends Cc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Ec),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ec))}}return t.\u0275fac=function(e){return new(e||t)(Zn(jl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Ec(t){Fl().remove(t)}const Tc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Oc=/%COMP%/g;function Rc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Rc(t,i,n):(i=i.replace(Oc,t),n.push(i))}return n}function Pc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ic=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ac(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case xt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new kc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case xt.ShadowDom:return new Fc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Rc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Zn(wc),Zn(Sc),Zn(Da))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Ac{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Tc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Tc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Tc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(pr.DashCase|pr.Important)?t.style.setProperty(e,n,r&pr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&pr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Pc(n)):this.eventManager.addEventListener(t,e,Pc(n))}}class kc extends Ac{constructor(t,e,n,r){super(t),this.component=n;const i=Rc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Oc,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Oc,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Fc extends Ac{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Rc(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jc=(()=>{class t extends xc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Zn(jl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Mc=["alt","control","meta","shift"],Lc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let zc=(()=>{class t extends xc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fl().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Mc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Dc.hasOwnProperty(e)&&(e=Dc[e]))}return Lc[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Mc.forEach(r=>{r!=n&&(0,Nc[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Zn(jl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const qc=_l(Pl,"browser",[{provide:Va,useValue:"browser"},{provide:qa,useValue:function(){pc.makeCurrent(),_c.init()},multi:!0},{provide:jl,useFactory:function(){return function(t){oe=t}(document),document},deps:[]}]),Vc=[[],{provide:Zi,useValue:"root"},{provide:ur,useFactory:function(){return new ur},deps:[]},{provide:bc,useClass:jc,multi:!0,deps:[jl,nl,Va]},{provide:bc,useClass:zc,multi:!0,deps:[jl]},[],{provide:Ic,useClass:Ic,deps:[wc,Sc,Da]},{provide:xs,useExisting:Ic},{provide:Cc,useExisting:Sc},{provide:Sc,useClass:Sc,deps:[jl]},{provide:cl,useClass:cl,deps:[nl]},{provide:wc,useClass:wc,deps:[bc,nl]},{provide:class{},useClass:vc,deps:[]},[]];let Gc=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Da,useValue:e.appId},{provide:mc,useExisting:Da},yc]}}}return t.\u0275fac=function(e){return new(e||t)(Zn(t,12))},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({providers:Vc,imports:[cc,Al]}),t})();function Uc(...t){let e=t[t.length-1];return E(e)?(t.pop(),j(t,e)):U(t)}"undefined"!=typeof window&&window;class Bc extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(t){super.next(this._value=t)}}class Hc extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Wc extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Xc(t,e,n,r,i=new Wc(t,n,r)){if(!i.closed)return e instanceof _?e.subscribe(i):F(e)(i)}const Zc={};class Yc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Kc(t,this.resultSelector))}}class Kc extends Hc{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Zc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Xc(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Zc?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const $c=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Jc(...t){return G(1)(Uc(...t))}const Qc=new _(t=>t.complete());function tu(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):Qc}function eu(t){return new _(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?M(n):tu()).subscribe(e)})}function nu(t,e){return"function"==typeof e?n=>n.pipe(nu((n,r)=>M(t(n,r)).pipe(T((t,i)=>e(n,t,r,i))))):e=>e.lift(new ru(t))}class ru{constructor(t){this.project=t}call(t,e){return e.subscribe(new iu(t,this.project))}}class iu extends D{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new L(this),r=this.destination;r.add(n),this.innerSubscription=N(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ou=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function su(t){return e=>0===t?tu():e.lift(new au(t))}class au{constructor(t){if(this.total=t,this.total<0)throw new ou}call(t,e){return e.subscribe(new lu(t,this.total))}}class lu extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function cu(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new uu(t,e,n))}}class uu{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new hu(t,this.accumulator,this.seed,this.hasSeed))}}class hu extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function du(t,e){return function(n){return n.lift(new pu(t,e))}}class pu{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new fu(t,this.predicate,this.thisArg))}}class fu extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function gu(t){return function(e){const n=new mu(t),r=e.lift(n);return n.caught=r}}class mu{constructor(t){this.selector=t}call(t,e){return e.subscribe(new yu(t,this.selector,this.caught))}}class yu extends D{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new L(this);this.add(r);const i=N(n,r);i!==r&&this.add(i)}}}function _u(t,e){return z(t,e,1)}function vu(t){return function(e){return 0===t?tu():e.lift(new bu(t))}}class bu{constructor(t){if(this.total=t,this.total<0)throw new ou}call(t,e){return e.subscribe(new wu(t,this.total))}}class wu extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function xu(t=Eu){return e=>e.lift(new Cu(t))}class Cu{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Su(t,this.errorFactory))}}class Su extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Eu(){return new $c}function Tu(t=null){return e=>e.lift(new Ou(t))}class Ou{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ru(t,this.defaultValue))}}class Ru extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Pu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?du((e,n)=>t(e,n,r)):y,su(1),n?Tu(e):xu(()=>new $c))}function Iu(){}function Au(t,e,n){return function(r){return r.lift(new ku(t,e,n))}}class ku{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Fu(t,this.nextOrObserver,this.error,this.complete))}}class Fu extends f{constructor(t,e,n,i){super(t),this._tapNext=Iu,this._tapError=Iu,this._tapComplete=Iu,this._tapError=n||Iu,this._tapComplete=i||Iu,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Iu,this._tapError=e.error||Iu,this._tapComplete=e.complete||Iu)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class ju{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Mu(t,this.callback))}}class Mu extends f{constructor(t,e){super(t),this.add(new h(e))}}class Lu{constructor(t,e){this.id=t,this.url=e}}class Du extends Lu{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nu extends Lu{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zu extends Lu{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qu extends Lu{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vu extends Lu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gu extends Lu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uu extends Lu{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bu extends Lu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hu extends Lu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wu{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xu{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zu{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ku{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $u{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ju{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function th(t){return new Qu(t)}function eh(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function nh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rh(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ih(t[i],e[i]))return!1;return!0}function ih(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function oh(t){return Array.prototype.concat.apply([],t)}function sh(t){return t.length>0?t[t.length-1]:null}function ah(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function lh(t){return To(t)?t:Eo(t)?M(Promise.resolve(t)):Uc(t)}const ch={exact:function t(e,n,r){if(!_h(e.segments,n.segments))return!1;if(!fh(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:dh},uh={exact:function(t,e){return rh(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ih(t[n],e[n]))},ignored:()=>!0};function hh(t,e,n){return ch[n.paths](t.root,e.root,n.matrixParams)&&uh[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function dh(t,e,n){return ph(t,e,e.segments,n)}function ph(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!_h(i,n)&&!e.hasChildren()&&!!fh(i,n,r)}if(t.segments.length===n.length){if(!_h(t.segments,n))return!1;if(!fh(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!dh(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!_h(t.segments,i)&&!!fh(t.segments,i,r)&&!!t.children.primary&&ph(t.children.primary,e,o,r)}}function fh(t,e,n){return e.every((e,r)=>uh[n](t[r].parameters,e.parameters))}class gh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=th(this.queryParams)),this._queryParamMap}toString(){return wh.serialize(this)}}class mh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ah(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xh(this)}}class yh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=th(this.parameters)),this._parameterMap}toString(){return Ph(this)}}function _h(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class vh{}class bh{parse(t){const e=new jh(t);return new gh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Ch(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Eh(e)}=${Eh(t)}`).join("&"):`${Eh(e)}=${Eh(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const wh=new bh;function xh(t){return t.segments.map(t=>Ph(t)).join("/")}function Ch(t,e){if(!t.hasChildren())return xh(t);if(e){const e=t.children.primary?Ch(t.children.primary,!1):"",n=[];return ah(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${Ch(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ah(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),ah(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[Ch(t.children.primary,!1)]:[`${n}:${Ch(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${xh(t)}/${e[0]}`:`${xh(t)}/(${e.join("//")})`}}function Sh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eh(t){return Sh(t).replace(/%3B/gi,";")}function Th(t){return Sh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oh(t){return decodeURIComponent(t)}function Rh(t){return Oh(t.replace(/\+/g,"%20"))}function Ph(t){return`${Th(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Th(t)}=${Th(e[t])}`).join("")}`;var e}const Ih=/^[^\/()?;=#]+/;function Ah(t){const e=t.match(Ih);return e?e[0]:""}const kh=/^[^=?&#]+/,Fh=/^[^?&#]+/;class jh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mh([],{}):new mh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new mh(t,e)),n}parseSegment(){const t=Ah(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new yh(Oh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ah(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ah(this.remaining);t&&(n=t,this.capture(n))}t[Oh(e)]=Oh(n)}parseQueryParam(t){const e=function(t){const e=t.match(kh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Fh);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Rh(e),i=Rh(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ah(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new mh([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Mh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Lh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Lh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Dh(t,this._root).map(t=>t.value)}}function Lh(t,e){if(t===e.value)return e;for(const n of e.children){const e=Lh(t,n);if(e)return e}return null}function Dh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Dh(t,n);if(r.length)return r.unshift(e),r}return[]}class Nh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function zh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class qh extends Mh{constructor(t,e){super(t),this.snapshot=e,Wh(this,t)}toString(){return this.snapshot.toString()}}function Vh(t,e){const n=function(t,e){const n=new Bh([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Hh("",new Nh(n,[]))}(t,e),r=new Bc([new yh("",{})]),i=new Bc({}),o=new Bc({}),s=new Bc({}),a=new Bc(""),l=new Gh(r,i,s,a,o,"primary",e,n.root);return l.snapshot=n.root,new qh(new Nh(l,[]),n)}class Gh{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(T(t=>th(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(T(t=>th(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Bh{constructor(t,e,n,r,i,o,s,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=th(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=th(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hh extends Mh{constructor(t,e){super(e),this.url=t,Wh(this,e)}toString(){return Xh(this._root)}}function Wh(t,e){e.value._routerState=t,e.children.forEach(e=>Wh(t,e))}function Xh(t){const e=t.children.length>0?` { ${t.children.map(Xh).join(", ")} } `:"";return`${t.value}${e}`}function Zh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),rh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),rh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Yh(t,e){var n,r;return rh(t.params,e.params)&&_h(n=t.url,r=e.url)&&n.every((t,e)=>rh(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Yh(t.parent,e.parent))}function Kh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Kh(t,e,r);return Kh(t,e)})}(t,e,n);return new Nh(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return $h(e,t),t}}const n=new Gh(new Bc((r=e.value).url),new Bc(r.params),new Bc(r.queryParams),new Bc(r.fragment),new Bc(r.data),r.outlet,r.component,r),i=e.children.map(e=>Kh(t,e));return new Nh(n,i)}var r}function $h(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)$h(t.children[n],e.children[n])}function Jh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qh(t){return"object"==typeof t&&null!=t&&t.outlets}function td(t,e,n,r,i){let o={};return r&&ah(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new gh(n.root===t?e:ed(n.root,t,e),o,i)}function ed(t,e,n){const r={};return ah(t.children,(t,i)=>{r[i]=t===e?n:ed(t,e,n)}),new mh(t.segments,r)}class nd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Jh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Qh);if(r&&r!==sh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rd{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function id(t,e,n){if(t||(t=new mh([],{})),0===t.segments.length&&t.hasChildren())return od(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Qh(s))break;const a=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!cd(a,l,e))return o;r+=2}else{if(!cd(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new mh(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new mh(t.segments.slice(r.pathIndex),t.children),od(e,0,i)}return r.match&&0===i.length?new mh(t.segments,{}):r.match&&!t.hasChildren()?sd(t,e,n):r.match?od(t,0,i):sd(t,e,n)}function od(t,e,n){if(0===n.length)return new mh(t.segments,{});{const r=function(t){return Qh(t[0])?t[0].outlets:{primary:t}}(n),i={};return ah(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=id(t.children[r],e,n))}),ah(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new mh(t.segments,i)}}function sd(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Qh(o)){const t=ad(o.outlets);return new mh(r,t)}if(0===i&&Jh(n[0])){r.push(new yh(t.segments[e].path,ld(n[0]))),i++;continue}const s=Qh(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Jh(a)?(r.push(new yh(s,ld(a))),i+=2):(r.push(new yh(s,{})),i++)}return new mh(r,{})}function ad(t){const e={};return ah(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=sd(new mh([],{}),0,t))}),e}function ld(t){const e={};return ah(t,(t,n)=>e[n]=`${t}`),e}function cd(t,e,n){return t==n.path&&rh(e,n.parameters)}class ud{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=zh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ah(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=zh(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=zh(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new $u(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Yu(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Zh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),hd(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function hd(t){Zh(t.value),t.children.forEach(hd)}class dd{constructor(t,e){this.routes=t,this.module=e}}function pd(t){return"function"==typeof t}function fd(t){return t instanceof gh}const gd=Symbol("INITIAL_VALUE");function md(){return nu(t=>function(...t){let e,n;return E(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),U(t,n).lift(new Yc(e))}(t.map(t=>t.pipe(su(1),function(...t){const e=t[t.length-1];return E(e)?(t.pop(),n=>Jc(t,n,e)):e=>Jc(t,e)}(gd)))).pipe(cu((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==gd)return t;if(r===gd&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||fd(r))return r}return t},t)},gd),du(t=>t!==gd),T(t=>fd(t)?t:!0===t),su(1)))}let yd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Co(0,"router-outlet")},directives:function(){return[hp]},encapsulation:2}),t})();function _d(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];vd(r,bd(e,r))}}function vd(t,e){t.children&&_d(t.children,e)}function bd(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function wd(t){const e=t.children&&t.children.map(wd),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=yd),n}function xd(t){return t.outlet||"primary"}function Cd(t,e){const n=t.filter(t=>xd(t)===e);return n.push(...t.filter(t=>xd(t)!==e)),n}const Sd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ed(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Sd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||nh)(n,t,e);if(!i)return Object.assign({},Sd);const o={};ah(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Td(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Od(t,e,n)&&"primary"!==xd(n))}(t,n,r)){const i=new mh(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==xd(o)){const n=new mh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[xd(o)]=n}return i}(t,e,r,new mh(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Od(t,e,n))}(t,n,r)){const o=new mh(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Od(t,n,a)&&!i[xd(a)]){const n=new mh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[xd(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new mh(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Od(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Rd(t,e,n,r){return!!(xd(t)===r||"primary"!==r&&Od(e,n,t))&&("**"===t.path||Ed(e,t,n).matched)}function Pd(t,e,n){return 0===e.length&&!t.children[n]}class Id{constructor(t){this.segmentGroup=t||null}}class Ad{constructor(t){this.urlTree=t}}function kd(t){return new _(e=>e.error(new Id(t)))}function Fd(t){return new _(e=>e.error(new Ad(t)))}function jd(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Md{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Qs)}apply(){const t=Td(this.urlTree.root,[],[],this.config).segmentGroup,e=new mh(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(T(t=>this.createUrlTree(Ld(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gu(t=>{if(t instanceof Ad)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Id)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(T(e=>this.createUrlTree(Ld(e),t.queryParams,t.fragment))).pipe(gu(t=>{if(t instanceof Id)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new mh([],{primary:t}):t;return new gh(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(T(t=>new mh([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return M(r).pipe(_u(r=>{const i=n.children[r],o=Cd(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(T(t=>({segment:t,outlet:r})))}),cu((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?du((e,n)=>t(e,n,r)):y,vu(1),n?Tu(e):xu(()=>new $c))}())}expandSegment(t,e,n,r,i,o){return M(n).pipe(_u(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(gu(t=>{if(t instanceof Id)return Uc(null);throw t}))),Pu(t=>!!t),gu((t,n)=>{if(t instanceof $c||"EmptyError"===t.name){if(Pd(e,r,i))return Uc(new mh([],{}));throw new Id(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Rd(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):kd(e):kd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Fd(i):this.lineralizeSegments(n,i).pipe(z(n=>{const i=new mh(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Ed(e,r,i);if(!s)return kd(e);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Fd(u):this.lineralizeSegments(r,u).pipe(z(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Uc(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(T(t=>(n._loadedConfig=t,new mh(r,{})))):Uc(new mh(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Ed(e,n,r);if(!o)return kd(e);const l=r.slice(a);return this.getChildConfig(t,n,r).pipe(z(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Td(e,s,l,o),u=new mh(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(r,o,u).pipe(T(t=>new mh(s,t)));if(0===o.length&&0===c.length)return Uc(new mh(s,{}));const h=xd(n)===i;return this.expandSegment(r,u,o,c,h?"primary":i,!0).pipe(T(t=>new mh(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Uc(new dd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Uc(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(z(n=>n?this.configLoader.load(t.injector,e).pipe(T(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(eh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Uc(new dd([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Uc(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&pd(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!pd(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return lh(o)})).pipe(md(),Au(t=>{if(!fd(t))return;const e=eh(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),T(t=>!0===t)):Uc(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Uc(n);if(r.numberOfChildren>1||!r.children.primary)return jd(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new gh(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ah(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return ah(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new mh(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ld(t){const e={};for(const n of Object.keys(t.children)){const r=Ld(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new mh(t.segments.concat(e.segments),e.children)}return t}(new mh(t.segments,e))}class Dd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Nd{constructor(t,e){this.component=t,this.route=e}}function zd(t,e,n){const r=t._root;return Vd(r,e?e._root:null,n,[r.value])}function qd(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Vd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=zh(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_h(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_h(t.url,e.url)||!rh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yh(t,e)||!rh(t.queryParams,e.queryParams);case"paramsChange":default:return!Yh(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Dd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Vd(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nd(a.outlet.component,s))}else s&&Gd(e,a,i),i.canActivateChecks.push(new Dd(r)),Vd(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),ah(o,(t,e)=>Gd(t,n.getContext(e),i)),i}function Gd(t,e,n){const r=zh(t),i=t.value;ah(r,(t,r)=>{Gd(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Nd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ud{}function Bd(t){return new _(e=>e.error(t))}class Hd{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Td(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new Bh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nh(n,e),i=new Hh(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Uh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Cd(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Xd(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Pd(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Rd(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?sh(n).parameters:{};i=new Bh(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Kd(t),xd(t),t.component,t,Zd(e),Yd(e)+n.length,$d(t))}else{const r=Ed(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Bh(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Kd(t),xd(t),t.component,t,Zd(e),Yd(e)+o.length,$d(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Td(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new Nh(i,t)]}if(0===a.length&&0===c.length)return[new Nh(i,[])];const u=xd(t)===r,h=this.processSegment(a,l,c,u?"primary":r);return null===h?null:[new Nh(i,h)]}}function Wd(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Xd(t){const e=[],n=new Set;for(const r of t){if(!Wd(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Xd(r.children);e.push(new Nh(r.value,t))}return e.filter(t=>!n.has(t))}function Zd(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Yd(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Kd(t){return t.data||{}}function $d(t){return t.resolve||{}}function Jd(t){return nu(e=>{const n=t(e);return n?M(n).pipe(T(()=>e)):Uc(e)})}class Qd extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const tp=new An("ROUTES");class ep{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(T(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new dd(oh(r.injector.get(tp,void 0,mt.Self|mt.Optional)).map(wd),r)}),gu(t=>{throw e._loader$=void 0,t}));return e._loader$=new X(n,()=>new C).pipe(B()),e._loader$}loadModuleFactory(t){return"string"==typeof t?M(this.loader.load(t)):lh(t()).pipe(z(t=>t instanceof ta?Uc(t):M(this.compiler.compileModuleAsync(t))))}}class np{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rp,this.attachRef=null}}class rp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new np,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ip{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function op(t){throw t}function sp(t,e,n){return e.parse("/")}function ap(t,e){return Uc(null)}const lp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let up=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=op,this.malformedUriErrorHandler=sp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ap,afterPreactivation:ap},this.urlHandlingStrategy=new ip,this.routeReuseStrategy=new Qd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(Qs),this.console=i.get(Ua);const l=i.get(nl);this.isNgZoneEnabled=l instanceof nl&&nl.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new gh(new mh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ep(o,s,t=>this.triggerEvent(new Wu(t)),t=>this.triggerEvent(new Xu(t))),this.routerState=Vh(this.currentUrlTree,this.rootComponentType),this.transitions=new Bc({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(du(t=>0!==t.id),T(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),nu(t=>{let n=!1,r=!1;return Uc(t).pipe(Au(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nu(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Uc(t).pipe(nu(t=>{const n=this.transitions.getValue();return e.next(new Du(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Qc:Promise.resolve(t)}),function(t,e,n,r){return nu(i=>function(t,e,n,r,i){return new Md(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(T(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Au(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return z(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Hd(t,e,n,r,i,o).recognize();return null===s?Bd(new Ud):Uc(s)}catch(s){return Bd(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(T(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Au(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Vu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Du(n,this.serializeUrl(r),i,o);e.next(a);const l=Vh(r,this.rootComponentType).snapshot;return Uc(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Qc}),Jd(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Au(t=>{const e=new Gu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),T(t=>Object.assign(Object.assign({},t),{guards:zd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return z(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Uc(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return M(t).pipe(z(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Uc(o.map(o=>{const s=qd(o,e,i);let a;if(function(t){return t&&pd(t.canDeactivate)}(s))a=lh(s.canDeactivate(t,e,n,r));else{if(!pd(s))throw new Error("Invalid CanDeactivate guard");a=lh(s(t,e,n,r))}return a.pipe(Pu())})).pipe(md()):Uc(!0)}(t.component,t.route,n,e,r)),Pu(t=>!0!==t,!0))}(s,r,i,t).pipe(z(n=>n&&"boolean"==typeof n?function(t,e,n,r){return M(e).pipe(_u(e=>Jc(function(t,e){return null!==t&&e&&e(new Zu(t)),Uc(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Ku(t)),Uc(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>eu(()=>Uc(e.guards.map(i=>{const o=qd(i,e.node,n);let s;if(function(t){return t&&pd(t.canActivateChild)}(o))s=lh(o.canActivateChild(r,t));else{if(!pd(o))throw new Error("Invalid CanActivateChild guard");s=lh(o(r,t))}return s.pipe(Pu())})).pipe(md())));return Uc(i).pipe(md())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Uc(r.map(r=>eu(()=>{const i=qd(r,e,n);let o;if(function(t){return t&&pd(t.canActivate)}(i))o=lh(i.canActivate(e,t));else{if(!pd(i))throw new Error("Invalid CanActivate guard");o=lh(i(e,t))}return o.pipe(Pu())}))).pipe(md()):Uc(!0)}(t,e.route,n))),Pu(t=>!0!==t,!0))}(r,o,t,e):Uc(n)),T(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Au(t=>{if(fd(t.guardsResult)){const e=eh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Uu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),du(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),Jd(t=>{if(t.guards.canActivateChecks.length)return Uc(t).pipe(Au(t=>{const e=new Bu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),nu(t=>{let e=!1;return Uc(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,z(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return Uc(t);let o=0;return M(i).pipe(_u(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Uc({});const o={};return M(i).pipe(z(i=>function(t,e,n,r){const i=qd(t,e,r);return lh(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Au(t=>{o[i]=t}))),vu(1),z(()=>Object.keys(o).length===i.length?Uc(o):Qc))}(t._resolve,t,e,r).pipe(T(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Uh(t,n).resolve),null)))}(t.route,e,n,r)),Au(()=>o++),vu(1),z(e=>o===i.length?Uc(t):Qc))})),Au({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}));var n,r}),Au(t=>{const e=new Hu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Jd(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),T(t=>{const e=function(t,e,n){const r=Kh(t,e._root,n?n._root:void 0);return new qh(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Au(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),T(t=>(new ud(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Au({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}this.currentNavigation=null},t=>t.lift(new ju(i))),gu(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=fd(n.url);r||(this.navigated=!0,this.restoreHistory(t,!0));const i=new zu(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const r=new qu(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Qc}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_d(t),this.config=t.map(wd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return td(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new nd(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ah(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new nd(n,e,r)}(n);if(o.toRoot())return td(e.root,new mh([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new rd(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new rd(t,t===e.root,0)}const r=Jh(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new rd(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?od(s.segmentGroup,s.index,o.commands):id(s.segmentGroup,s.index,o.commands);return td(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=fd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},lp):!1===e?Object.assign({},cp):e,fd(t))return hh(this.currentUrlTree,t,n);const r=this.parseUrl(t);return hh(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Nu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==e&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(l&&c)return Promise.resolve(!0);let u,h,d;i?(u=i.resolve,h=i.reject,d=i.promise):d=new Promise((t,e)=>{u=t,h=e});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(t,e=!1){var n,r;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new zu(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(Zn(Fn),Zn(vh),Zn(rp),Zn(Yl),Zn(so),Zn(Sl),Zn(Qa),Zn(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),hp=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new va,this.deactivateEvents=new va,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new dp(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(_o(rp),_o(na),_o(ms),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let e=0;for(;e<t;){const r=n[e];if(rn(r))break;if(0===r)e+=2;else if("number"==typeof r)for(e++;e<t&&"string"==typeof n[e];)e++;else{if("name"===r)return n[e+1];e+=2}}}return null}(Ce())),_o(Bs))},t.\u0275dir=Bt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class dp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gh?this.route:t===rp?this.childContexts:this.parent.get(t,e)}}class pp{}class fp{preload(t,e){return Uc(null)}}let gp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ep(e,n,e=>t.triggerEvent(new Wu(e)),e=>t.triggerEvent(new Xu(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(du(t=>t instanceof Nu),_u(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Qs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return M(n).pipe(G(),T(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Uc(e._loadedConfig):this.loader.load(t.injector,e)).pipe(z(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Zn(up),Zn(Sl),Zn(Qa),Zn(so),Zn(pp))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),mp=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Du?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ju&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ju(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Zn(up),Zn(uc),Zn(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const yp=new An("ROUTER_CONFIGURATION"),_p=new An("ROUTER_FORROOT_GUARD"),vp=[Yl,{provide:vh,useClass:bh},{provide:up,useFactory:function(t,e,n,r,i,o,s,a={},l,c){const u=new up(null,t,e,n,r,i,o,oh(s));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[vh,rp,Yl,so,Sl,Qa,tp,yp,[class{},new Jn],[class{},new Jn]]},rp,{provide:Gh,useFactory:function(t){return t.routerState.root},deps:[up]},{provide:Sl,useClass:Ol},gp,fp,class{preload(t,e){return e().pipe(gu(()=>Uc(null)))}},{provide:yp,useValue:{enableTracing:!1}}];function bp(){return new yl("Router",up)}let wp=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[vp,Ep(e),{provide:_p,useFactory:Sp,deps:[[up,new Jn,new Qn]]},{provide:yp,useValue:n||{}},{provide:Bl,useFactory:Cp,deps:[Ml,[new $n(Wl),new Jn],yp]},{provide:mp,useFactory:xp,deps:[up,uc,yp]},{provide:pp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:fp},{provide:yl,multi:!0,useFactory:bp},[Tp,{provide:Ma,multi:!0,useFactory:Op,deps:[Tp]},{provide:Pp,useFactory:Rp,deps:[Tp]},{provide:Ga,multi:!0,useExisting:Pp}]]}}static forChild(e){return{ngModule:t,providers:[Ep(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Zn(_p,8),Zn(up,8))},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({}),t})();function xp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new mp(t,e,n)}function Cp(t,e,n={}){return n.useHash?new Zl(t,e):new Xl(t,e)}function Sp(t){return"guarded"}function Ep(t){return[{provide:kn,multi:!0,useValue:t},{provide:tp,multi:!0,useValue:t}]}let Tp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(Dl,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(up),r=this.injector.get(yp);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Uc(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(yp),n=this.injector.get(gp),r=this.injector.get(mp),i=this.injector.get(up),o=this.injector.get(xl);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(Zn(so))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Op(t){return t.appInitializer.bind(t)}function Rp(t){return t.bootstrapListener.bind(t)}const Pp=new An("Router Initializer"),Ip=[];let Ap=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[wp.forRoot(Ip)],wp]}),t})();var kp=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Fp(t,e){return t>e?1:t<e?-1:0}function jp(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return"function"==typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function Mp(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Lp(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]}function Dp(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Np(){return!0}function zp(){return!1}function qp(){}function Vp(){return function(){throw new Error("Unimplemented abstract method.")}()}var Gp=0;function Up(t){return t.ol_uid||(t.ol_uid=String(++Gp))}var Bp,Hp,Wp="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",Xp=-1!==Wp.indexOf("firefox"),Zp=(-1!==Wp.indexOf("safari")&&Wp.indexOf("chrom"),-1!==Wp.indexOf("webkit")&&-1==Wp.indexOf("edge")),Yp=-1!==Wp.indexOf("macintosh"),Kp="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,$p="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Jp="undefined"!=typeof Image&&Image.prototype.decode,Qp=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}(),tf=(Bp=function(t,e){return(Bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Bp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ef=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/v"+"6.6.1".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return tf(e,t),e}(Error);function nf(t,e){if(!t)throw new ef(e)}function rf(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function of(t,e,n,r,i,o,s,a){var l=Math.sin(o),c=Math.cos(o);return t[0]=r*c,t[1]=i*l,t[2]=-r*l,t[3]=i*c,t[4]=s*r*c-a*r*l+e,t[5]=s*i*l+a*i*c+n,t}function sf(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];nf(0!==r,32);var i=e[0],o=e[1],s=e[2],a=e[3],l=e[4],c=e[5];return t[0]=a/r,t[1]=-o/r,t[2]=-s/r,t[3]=i/r,t[4]=(s*c-a*l)/r,t[5]=-(i*c-o*l)/r,t}function af(t){var e="matrix("+t.join(", ")+")";if($p)return e;var n=Hp||(Hp=document.createElement("div"));return n.style.transform=e,n.style.transform}function lf(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,r=t.length;n<r;++n)wf(e,t[n]);return e}function cf(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function uf(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function hf(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function df(t,e){return ff(t,e[0],e[1])}function pf(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function ff(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function gf(t,e){var n=e[0],r=e[1],i=0;return n<t[0]?i|=16:n>t[2]&&(i|=4),r<t[1]?i|=8:r>t[3]&&(i|=2),0===i&&(i=1),i}function mf(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function yf(t){return mf(1/0,1/0,-1/0,-1/0,t)}function _f(t,e,n,r,i){return xf(yf(i),t,e,n,r)}function vf(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function bf(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function wf(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function xf(t,e,n,r,i){for(;n<r;n+=i)Cf(t,e[n],e[n+1]);return t}function Cf(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Sf(t,e){var n;return(n=e(Tf(t)))||(n=e(Of(t)))||(n=e(jf(t)))?n:(n=e(Ff(t)))||!1}function Ef(t){var e=0;return Df(t)||(e=Mf(t)*Af(t)),e}function Tf(t){return[t[0],t[1]]}function Of(t){return[t[2],t[1]]}function Rf(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Pf(t,e){var n;return"bottom-left"===e?n=Tf(t):"bottom-right"===e?n=Of(t):"top-left"===e?n=Ff(t):"top-right"===e?n=jf(t):nf(!1,13),n}function If(t,e,n,r,i){var o=e*r[0]/2,s=e*r[1]/2,a=Math.cos(n),l=Math.sin(n),c=o*a,u=o*l,h=s*a,d=s*l,p=t[0],f=t[1],g=p-c+d,m=p-c-d,y=p+c-d,_=p+c+d,v=f-u-h,b=f-u+h,w=f+u+h,x=f+u-h;return mf(Math.min(g,m,y,_),Math.min(v,b,w,x),Math.max(g,m,y,_),Math.max(v,b,w,x),i)}function Af(t){return t[3]-t[1]}function kf(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return Lf(t,e)?(r[0]=t[0]>e[0]?t[0]:e[0],r[1]=t[1]>e[1]?t[1]:e[1],r[2]=t[2]<e[2]?t[2]:e[2],r[3]=t[3]<e[3]?t[3]:e[3]):yf(r),r}function Ff(t){return[t[0],t[3]]}function jf(t){return[t[2],t[3]]}function Mf(t){return t[2]-t[0]}function Lf(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Df(t){return t[2]<t[0]||t[3]<t[1]}function Nf(t,e,n){return Math.min(Math.max(t,e),n)}new Array(6);var zf="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},qf="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function Vf(t,e,n,r,i,o){var s=i-n,a=o-r;if(0!==s||0!==a){var l=((t-n)*s+(e-r)*a)/(s*s+a*a);l>1?(n=i,r=o):l>0&&(n+=s*l,r+=a*l)}return Gf(t,e,n,r)}function Gf(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}function Uf(t){return t*Math.PI/180}function Bf(t,e){var n=t%e;return n*e<0?n+e:n}function Hf(t,e,n){return t+n*(e-t)}var Wf=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Xf=/^([a-z]*)$|^hsla?\(.*\)$/i;function Zf(t){return"string"==typeof t?t:Jf(t)}var Yf=function(){var t={},e=0;return function(n){var r;if(t.hasOwnProperty(n))r=t[n];else{if(e>=1024){var i=0;for(var o in t)0==(3&i++)&&(delete t[o],--e)}r=function(t){var e,n,r,i,o;if(Xf.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),Wf.exec(t)){var s,a=t.length-1;s=a<=4?1:2;var l=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),i=l?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,l&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?$f(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),$f(o)):nf(!1,14);return o}(n),t[n]=r,++e}return r}}();function Kf(t){return Array.isArray(t)?t:Yf(t)}function $f(t){return t[0]=Nf(t[0]+.5|0,0,255),t[1]=Nf(t[1]+.5|0,0,255),t[2]=Nf(t[2]+.5|0,0,255),t[3]=Nf(t[3],0,1),t}function Jf(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}function Qf(t,e,n){return e+":"+t+":"+(n?Zf(n):"null")}var tg=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_)0!=(3&t++)||this.cache_[e].hasListener()||(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(t,e,n){var r=Qf(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var i=Qf(t,e,n);this.cache_[i]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}()),eg=function(){function t(t){this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),ng="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n};function rg(t){for(var e in t)delete t[e]}var ig="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function og(t){var e;for(e in t)return!1;return!e}var sg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ag=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return sg(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new eg(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,i=this.listeners_&&this.listeners_[n];if(i){var o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,s[n]=0),++o[n];for(var a=0,l=i.length;a<l;++a)if(!1===(r="handleEvent"in i[a]?i[a].handleEvent(e):i[a].call(this,e))||e.propagationStopped){r=!1;break}if(--o[n],0===o[n]){var c=s[n];for(delete s[n];c--;)this.removeEventListener(n,qp);delete o[n]}return r}},e.prototype.disposeInternal=function(){this.listeners_&&rg(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=qp,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(kp);function lg(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function cg(t,e,n,r){return lg(t,e,n,r,!0)}function ug(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),rg(t))}var hg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dg=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return hg(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=lg(this,t[i],e);return r}return lg(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var i=0;i<r;++i)n[i]=cg(this,t[i],e)}else n=cg(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)ug(t[e]);else ug(t)}(n);else if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(ag),pg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fg=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return pg(e,t),e}(eg),gg=function(t){function e(e){var n=t.call(this)||this;return Up(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return pg(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&ng({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){this.dispatchEvent(new fg("change:"+t,t,e)),this.dispatchEvent(new fg("propertychange",t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:"+t,e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:"+t,e)},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var i=r[t];r[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&ng(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],og(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(dg),mg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yg=function(t){function e(e){var n=t.call(this)||this,r=ng({},e);return"object"==typeof e.properties&&(delete r.properties,ng(r,e.properties)),r.opacity=void 0!==e.opacity?e.opacity:1,nf("number"==typeof r.opacity,64),r.visible=void 0===e.visible||e.visible,r.zIndex=e.zIndex,r.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,r.minResolution=void 0!==e.minResolution?e.minResolution:0,r.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,r.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return mg(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Nf(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Vp()},e.prototype.getLayerStatesArray=function(t){return Vp()},e.prototype.getExtent=function(){return this.get("extent")},e.prototype.getMaxResolution=function(){return this.get("maxResolution")},e.prototype.getMinResolution=function(){return this.get("minResolution")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.getOpacity=function(){return this.get("opacity")},e.prototype.getSourceState=function(){return Vp()},e.prototype.getVisible=function(){return this.get("visible")},e.prototype.getZIndex=function(){return this.get("zIndex")},e.prototype.setExtent=function(t){this.set("extent",t)},e.prototype.setMaxResolution=function(t){this.set("maxResolution",t)},e.prototype.setMinResolution=function(t){this.set("minResolution",t)},e.prototype.setMaxZoom=function(t){this.set("maxZoom",t)},e.prototype.setMinZoom=function(t){this.set("minZoom",t)},e.prototype.setOpacity=function(t){nf("number"==typeof t,64),this.set("opacity",t)},e.prototype.setVisible=function(t){this.set("visible",t)},e.prototype.setZIndex=function(t){this.set("zIndex",t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(gg),_g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function vg(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}var bg=function(t){function e(e){var n=this,r=ng({},e);return delete r.source,(n=t.call(this,r)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener("source",n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return _g(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get("source")||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ug(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=lg(t,"change",this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(t){return t([])})},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(ug(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(ug(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=lg(t,"precompose",function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);nf(!e.some(function(t){return t.layer===n.layer}),67),e.push(n)},this),this.mapRenderKey_=lg(this,"change",t.render,t),this.changed())},e.prototype.setSource=function(t){this.set("source",t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(yg);function wg(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function xg(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[1]*n+t[0]*r;return t[0]=t[0]*n-t[1]*r,t[1]=i,t}function Cg(t,e){if(e.canWrapX()){var n=Mf(e.getExtent()),r=function(t,e,n){var r=e.getExtent(),i=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var o=n||Mf(r);i=Math.floor((t[0]-r[0])/o)}return i}(t,e,n);r&&(t[0]-=r*n)}return t}var Sg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Eg(t,e){tg.expire()}var Tg=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return Sg(e,t),e.prototype.dispatchRenderEvent=function(t,e){Vp()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;of(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),sf(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,s,a){var l,c=e.viewState;function u(t,e,n,r){return i.call(o,e,t?n:null,r)}var h=c.projection,d=Cg(t.slice(),h),p=[[0,0]];if(h.canWrapX()&&r){var f=Mf(h.getExtent());p.push([-f,0],[f,0])}for(var g=e.layerStatesArray,m=g.length,y=[],_=[],v=0;v<p.length;v++)for(var b=m-1;b>=0;--b){var w=g[b],x=w.layer;if(x.hasRenderer()&&vg(w,c)&&s.call(a,x)){var C=x.getRenderer(),S=x.getSource();if(C&&S){var E=S.getWrapX()?d:t,T=u.bind(null,w.managed);_[0]=E[0]+p[v][0],_[1]=E[1]+p[v][1],l=C.forEachFeatureAtCoordinate(_,e,n,T,y)}if(l)return l}}if(0!==y.length){var O=1/y.length;return y.forEach(function(t,e){return t.distanceSq+=e*O}),y.sort(function(t,e){return t.distanceSq-e.distanceSq}),y.some(function(t){return l=t.callback(t.feature,t.layer,t.geometry)}),l}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){return Vp()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,Np,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Vp()},e.prototype.scheduleExpireIconCache=function(t){tg.canExpireCache()&&t.postRenderFunctions.push(Eg)},e}(kp),Og=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rg=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return Og(e,t),e}(eg),Pg=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Ig=["style","variant","weight","size","lineHeight","family"],Ag=function(t){var e=t.match(Pg);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=Ig.length;r<i;++r){var o=e[r+1];void 0!==o&&(n[Ig[r]]=o)}return n.families=n.family.split(/,\s?/),n};function kg(t,e,n,r){var i=n&&n.length?n.shift():$p?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function Fg(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function jg(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function Mg(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Lg(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Dg(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var Ng=[],zg=[0,0,0,0],qg=new gg;(new ag).setSize=function(){console.warn("labelCache is deprecated.")};var Vg,Gg,Ug=null,Bg={},Hg=function(){var t,e,n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";function o(t,o,s){for(var a=!0,l=0;l<r;++l){var c=n[l];if(e=Xg(t+" "+o+" 32px "+c,i),s!=c){var u=Xg(t+" "+o+" 32px "+s+","+c,i);a=a&&u!=e}}return!!a}function s(){for(var e=!0,n=qg.getKeys(),r=0,i=n.length;r<i;++r){var s=n[r];qg.get(s)<100&&(o.apply(this,s.split("\n"))?(rg(Bg),Ug=null,Vg=void 0,qg.set(s,100)):(qg.set(s,qg.get(s)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=Ag(e);if(n)for(var r=n.families,i=0,a=r.length;i<a;++i){var l=r[i],c=n.style+"\n"+n.weight+"\n"+l;void 0===qg.get(c)&&(qg.set(c,100,!0),o(n.style,n.weight,l)||(qg.set(c,0,!0),void 0===t&&(t=setInterval(s,32))))}}}();function Wg(t,e){return Ug||(Ug=kg(1,1)),t!=Vg&&(Ug.font=t,Vg=Ug.font),Ug.measureText(e)}function Xg(t,e){return Wg(t,e).width}function Zg(t,e,n){if(e in n)return n[e];var r=Xg(t,e);return n[e]=r,r}var Yg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kg=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=lg(qg,"propertychange",e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className="ol-unselectable ol-layers";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return Yg(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new Rg(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){ug(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent("precompose",t);var e=t.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),n=t.viewState;this.children_.length=0;for(var r=[],i=null,o=0,s=e.length;o<s;++o){var a=e[o];if(t.layerIndex=o,vg(a,n)&&("ready"==a.sourceState||"undefined"==a.sourceState)){var l=a.layer,c=l.render(t,i);c&&(c!==i&&(this.children_.push(c),i=c),"getDeclutter"in l&&r.push(l))}}for(o=r.length-1;o>=0;--o)r[o].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){for(var o=e.viewState,s=e.layerStatesArray,a=s.length-1;a>=0;--a){var l=s[a],c=l.layer;if(c.hasRenderer()&&vg(l,o)&&i(c)){var u=c.getRenderer().getDataAtPixel(t,e,n);if(u){var h=r(c,u);if(h)return h}}}},e}(Tg),$g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jg=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return $g(e,t),e}(eg),Qg=function(t){function e(e,n){var r=t.call(this)||this;if(r.unique_=!!(n||{}).unique,r.array_=e||[],r.unique_)for(var i=0,o=r.array_.length;i<o;++i)r.assertUnique_(r.array_[i],i);return r.updateLength_(),r}return $g(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get("length")},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Jg("add",e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Jg("remove",e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Jg("remove",r,t)),this.dispatchEvent(new Jg("add",e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set("length",this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new ef(58)},e}(gg),tm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),em=function(t){function e(e){var n=this,r=e||{},i=ng({},r);delete i.layers;var o=r.layers;return(n=t.call(this,i)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener("layers",n.handleLayersChanged_),o?Array.isArray(o)?o=new Qg(o.slice(),{unique:!0}):nf("function"==typeof o.getArray,43):o=new Qg(void 0,{unique:!0}),n.setLayers(o),n}return tm(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(ug),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(lg(t,"add",this.handleLayersAdd_,this),lg(t,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(ug);rg(this.listenerKeys_);for(var n=t.getArray(),r=0,i=n.length;r<i;r++){var o=n[r];this.listenerKeys_[Up(o)]=[lg(o,"propertychange",this.handleLayerChange_,this),lg(o,"change",this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Up(e)]=[lg(e,"propertychange",this.handleLayerChange_,this),lg(e,"change",this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=Up(t.element);this.listenerKeys_[e].forEach(ug),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get("layers")},e.prototype.setLayers=function(t){this.set("layers",t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});var r=this.getLayerState(),i=r.zIndex;t||void 0!==r.zIndex||(i=0);for(var o=n,s=e.length;o<s;o++){var a=e[o];a.opacity*=r.opacity,a.visible=a.visible&&r.visible,a.maxResolution=Math.min(a.maxResolution,r.maxResolution),a.minResolution=Math.max(a.minResolution,r.minResolution),a.minZoom=Math.max(a.minZoom,r.minZoom),a.maxZoom=Math.min(a.maxZoom,r.maxZoom),void 0!==r.extent&&(a.extent=void 0!==a.extent?kf(a.extent,r.extent):r.extent),void 0===a.zIndex&&(a.zIndex=i)}return e},e.prototype.getSourceState=function(){return"ready"},e}(yg),nm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rm=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return nm(e,t),e}(eg),im=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),om=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,o)||this;return s.originalEvent=r,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==i&&i,s}return im(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(rm),sm={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},am=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lm=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=lg(i,"pointerdown",r.handlePointerDown_,r),r.relayedListenerKey_=lg(i,"pointermove",r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener("touchmove",r.boundHandleTouchMove_,!!Qp&&{passive:!1}),r}return am(e,t),e.prototype.emulateClick_=function(t){var e=new om(sm.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new om(sm.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var e=new om(sm.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==sm.POINTERUP||e.type==sm.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==sm.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new om(sm.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(ug),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new om(sm.POINTERDOWN,this.map_,t);for(var n in this.dispatchEvent(e),this.down_={},t){var r=t[n];this.down_[n]="function"==typeof r?qp:r}if(0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(lg(i,sm.POINTERMOVE,this.handlePointerMove_,this),lg(i,sm.POINTERUP,this.handlePointerUp_,this),lg(this.element_,sm.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(lg(this.element_.getRootNode(),sm.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new om(sm.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new om(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ug(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ug(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ug),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(ag),cm=1/0,um=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,rg(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){nf(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=cm&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],s=t;t<r>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),c=l<r&&n[l]<n[a]?l:a;e[t]=e[c],n[t]=n[c],t=c}e[t]=i,n[t]=o,this.siftDown_(s,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var s=this.getParentIndex_(e);if(!(r[s]>o))break;n[e]=n[s],r[e]=r[s],e=s}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,s=0,a=i.length;for(e=0;e<a;++e)(n=r(t=i[e]))==cm?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,i[s++]=t);i.length=s,o.length=s,this.heapify_()},t}(),hm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dm=function(t){function e(e,n){var r=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return hm(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(2===n||3===n||4===n){e.removeEventListener("change",this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,i=0;this.tilesLoading_<t&&i<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),0!==n.getState()||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,n.load())},e}(um),pm={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},fm={};fm[pm.DEGREES]=2*Math.PI*6370997/360,fm[pm.FEET]=.3048,fm[pm.METERS]=1,fm[pm.USFEET]=1200/3937;var gm,mm,ym,_m=pm,vm=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||fm[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),bm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wm=6378137*Math.PI,xm=[-wm,-wm,wm,wm],Cm=[-180,-85,180,85],Sm=6378137*Math.log(Math.tan(Math.PI/2)),Em=function(t){function e(e){return t.call(this,{code:e,units:_m.METERS,extent:xm,global:!0,worldExtent:Cm,getPointResolution:function(t,e){return t/zf(e[1]/6378137)}})||this}return bm(e,t),e}(vm),Tm=[new Em("EPSG:3857"),new Em("EPSG:102100"),new Em("EPSG:102113"),new Em("EPSG:900913"),new Em("http://www.opengis.net/gml/srs/epsg.xml#3857")],Om=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rm=[-180,-90,180,90],Pm=6378137*Math.PI/180,Im=function(t){function e(e,n){return t.call(this,{code:e,units:_m.DEGREES,extent:Rm,axisOrientation:n,global:!0,metersPerUnit:Pm,worldExtent:Rm})||this}return Om(e,t),e}(vm),Am=[new Im("CRS:84"),new Im("EPSG:4326","neu"),new Im("urn:ogc:def:crs:OGC:1.3:CRS84"),new Im("urn:ogc:def:crs:OGC:2:84"),new Im("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],km={},Fm={};function jm(t,e,n){var r=t.getCode(),i=e.getCode();r in Fm||(Fm[r]={}),Fm[r][i]=n}function Mm(t,e,n){var r=n||6371008.8,i=Uf(t[1]),o=Uf(e[1]),s=(o-i)/2,a=Uf(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Lm(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function Dm(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function Nm(t){!function(t,e){km[t]=e}(t.getCode(),t),jm(t,t,Lm)}function zm(t){return"string"==typeof t?km[e=t]||km[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function qm(t,e,n,r){var i,o=(t=zm(t)).getPointResolutionFunc();if(o)i=o(e,n),r&&r!==t.getUnits()&&(a=t.getMetersPerUnit())&&(i=i*a/fm[r]);else{var s=t.getUnits();if(s==_m.DEGREES&&!r||r==_m.DEGREES)i=e;else{var a,l=Bm(t,zm("EPSG:4326"));if(l===Dm&&s!==_m.DEGREES)i=e*t.getMetersPerUnit();else{var c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];i=(Mm((c=l(c,c,2)).slice(0,2),c.slice(2,4))+Mm(c.slice(4,6),c.slice(6,8)))/2}void 0!==(a=r?fm[r]:t.getMetersPerUnit())&&(i/=a)}}return i}function Vm(t){!function(t){t.forEach(Nm)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&jm(e,t,Lm)})})}function Gm(t,e){return t?"string"==typeof t?zm(t):t:zm(e)}function Um(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Bm(t,e)===Lm)&&n}function Bm(t,e){var n=function(t,e){var n;return t in Fm&&e in Fm[t]&&(n=Fm[t][e]),n}(t.getCode(),e.getCode());return n||(n=Dm),n}function Hm(t,e){return Bm(zm(t),zm(e))}function Wm(t,e,n){return Hm(e,n)(t,void 0,t.length)}function Xm(t,e){return t}function Zm(t,e){return t}function Ym(t,e){return t}function Km(t,e){return t}function $m(t,e,n){return function(r,i,o,s,a){if(r){var l=e?0:o[0]*i,c=e?0:o[1]*i,u=a?a[0]:0,h=a?a[1]:0,d=t[0]+l/2+u,p=t[2]-l/2+u,f=t[1]+c/2+h,g=t[3]-c/2+h;d>p&&(p=d=(p+d)/2),f>g&&(g=f=(g+f)/2);var m=Nf(r[0],d,p),y=Nf(r[1],f,g),_=30*i;return s&&n&&(m+=-_*Math.log(1+Math.max(0,d-r[0])/_)+_*Math.log(1+Math.max(0,r[0]-p)/_),y+=-_*Math.log(1+Math.max(0,f-r[1])/_)+_*Math.log(1+Math.max(0,r[1]-g)/_)),[m,y]}}}function Jm(t){return t}function Qm(t,e,n,r){var i=Mf(e)/n[0],o=Af(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function ty(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Nf(r,n/2,2*e)}function ey(t,e,n,r,i){return function(o,s,a,l){if(void 0!==o){var c=r?Qm(t,r,a,i):t;return(void 0===n||n)&&l?ty(o,c,e):Nf(o,e,c)}}}function ny(t){return void 0!==t?0:void 0}function ry(t){return void 0!==t?t:void 0}function iy(t){return Math.pow(t,3)}function oy(t){return 1-iy(1-t)}function sy(t){return 3*t*t-2*t*t*t}function ay(t){return t}function ly(t,e,n,r,i,o){for(var s=o||[],a=0,l=e;l<n;l+=r){var c=t[l],u=t[l+1];s[a++]=i[0]*c+i[2]*u+i[4],s[a++]=i[1]*c+i[3]*u+i[5]}return o&&s.length!=a&&(s.length=a),s}function cy(t,e,n,r,i,o,s){for(var a=s||[],l=Math.cos(i),c=Math.sin(i),u=o[0],h=o[1],d=0,p=e;p<n;p+=r){var f=t[p]-u,g=t[p+1]-h;a[d++]=u+f*l-g*c,a[d++]=h+f*c+g*l;for(var m=p+2;m<p+r;++m)a[d++]=t[m]}return s&&a.length!=d&&(a.length=d),a}Vm(Tm),Vm(Am),gm=Tm,mm=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var s=0;s<r;s+=i){o[s]=wm*t[s]/180;var a=6378137*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>Sm?a=Sm:a<-Sm&&(a=-Sm),o[s+1]=a}return o},ym=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var s=0;s<r;s+=i)o[s]=180*t[s]/wm,o[s+1]=360*Math.atan(Math.exp(t[s+1]/6378137))/Math.PI-90;return o},Am.forEach(function(t){gm.forEach(function(e){jm(t,e,mm),jm(e,t,ym)})});var uy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hy=[1,0,0,1,0,0],dy=function(t){function e(){var e,n,r,i,o,s=t.call(this)||this;return s.extent_=[1/0,1/0,-1/0,-1/0],s.extentRevision_=-1,s.simplifiedGeometryMaxMinSquaredTolerance=0,s.simplifiedGeometryRevision=0,s.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)},o=!1,function(){var t=Array.prototype.slice.call(arguments);return o&&this===i&&Dp(t,r)||(o=!0,i=this,r=t,n=e.apply(this,arguments)),n}),s}return uy(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Vp()},e.prototype.closestPointXY=function(t,e,n,r){return Vp()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Vp()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&yf(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){Vp()},e.prototype.scale=function(t,e,n){Vp()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Vp()},e.prototype.getType=function(){return Vp()},e.prototype.applyTransform=function(t){Vp()},e.prototype.intersectsExtent=function(t){return Vp()},e.prototype.translate=function(t,e){Vp()},e.prototype.transform=function(t,e){var n=zm(t),r=n.getUnits()==_m.TILE_PIXELS?function(t,r,i){var o=n.getExtent(),s=n.getWorldExtent(),a=Af(s)/Af(o);return of(hy,s[0],s[3],a,-a,0,0,0),ly(t,0,t.length,i,hy,r),Hm(n,e)(t,r,i)}:Hm(n,e);return this.applyTransform(r),this},e}(gg),py=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function fy(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}var gy=function(t){function e(){var e=t.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return py(e,t),e.prototype.computeExtent=function(t){return _f(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Vp()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=fy(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Vp()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=fy(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();cy(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=Rf(this.getExtent()));var o=this.getFlatCoordinates();if(o){var s=this.getStride();!function(t,e,n,r,i,o,s,a){for(var l=a||[],c=s[0],u=s[1],h=0,d=0;d<n;d+=r){var p=t[d+1]-u;l[h++]=c+i*(t[d]-c),l[h++]=u+o*p;for(var f=d+2;f<d+r;++f)l[h++]=t[f]}a&&l.length!=h&&(l.length=h)}(o,0,o.length,s,t,r,i,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();!function(t,e,n,r,i,o,s){for(var a=s||[],l=0,c=0;c<n;c+=r){a[l++]=t[c]+i,a[l++]=t[c+1]+o;for(var u=c+2;u<c+r;++u)a[l++]=t[u]}s&&a.length!=l&&(a.length=l)}(n,0,n.length,r,t,e,n),this.changed()}},e}(dy);function my(t,e,n,r,i,o,s){var a,l=t[e],c=t[e+1],u=t[n]-l,h=t[n+1]-c;if(0===u&&0===h)a=e;else{var d=((i-l)*u+(o-c)*h)/(u*u+h*h);if(d>1)a=n;else{if(d>0){for(var p=0;p<r;++p)s[p]=Hf(t[e+p],t[n+p],d);return void(s.length=r)}a=e}}for(p=0;p<r;++p)s[p]=t[a+p];s.length=r}function yy(t,e,n,r,i){var o=t[e],s=t[e+1];for(e+=r;e<n;e+=r){var a=t[e],l=t[e+1],c=Gf(o,s,a,l);c>i&&(i=c),o=a,s=l}return i}function _y(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];i=yy(t,e,a,r,i),e=a}return i}function vy(t,e,n,r,i,o,s,a,l,c,u){if(e==n)return c;var h,d;if(0===i){if((d=Gf(s,a,t[e],t[e+1]))<c){for(h=0;h<r;++h)l[h]=t[e+h];return l.length=r,d}return c}for(var p=u||[NaN,NaN],f=e+r;f<n;)if(my(t,f-r,f,r,s,a,p),(d=Gf(s,a,p[0],p[1]))<c){for(c=d,h=0;h<r;++h)l[h]=p[h];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(d)-Math.sqrt(c))/i|0,1);if(o&&(my(t,n-r,e,r,s,a,p),(d=Gf(s,a,p[0],p[1]))<c)){for(c=d,h=0;h<r;++h)l[h]=p[h];l.length=r}return c}function by(t,e,n,r,i,o,s,a,l,c,u){for(var h=u||[NaN,NaN],d=0,p=n.length;d<p;++d){var f=n[d];c=vy(t,e,f,r,i,o,s,a,l,c,h),e=f}return c}function wy(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var s=n[i],a=0;a<r;++a)t[e++]=s[a];return e}function xy(t,e,n,r,i){for(var o=i||[],s=0,a=0,l=n.length;a<l;++a){var c=wy(t,e,n[a],r);o[s++]=c,e=c}return o.length=s,o}function Cy(t,e,n,r,i,o,s){var a=(n-e)/r;if(a<3){for(;e<n;e+=r)o[s++]=t[e],o[s++]=t[e+1];return s}var l=new Array(a);l[0]=1,l[a-1]=1;for(var c=[e,n-r],u=0;c.length>0;){for(var h=c.pop(),d=c.pop(),p=0,f=t[d],g=t[d+1],m=t[h],y=t[h+1],_=d+r;_<h;_+=r){var v=Vf(t[_],t[_+1],f,g,m,y);v>p&&(u=_,p=v)}p>i&&(l[(u-e)/r]=1,d+r<u&&c.push(d,u),u+r<h&&c.push(u,h))}for(_=0;_<a;++_)l[_]&&(o[s++]=t[e+_*r],o[s++]=t[e+_*r+1]);return s}function Sy(t,e){return e*Math.round(t/e)}function Ey(t,e,n,r,i,o,s){if(e==n)return s;var a,l,c=Sy(t[e],i),u=Sy(t[e+1],i);e+=r,o[s++]=c,o[s++]=u;do{if(a=Sy(t[e],i),l=Sy(t[e+1],i),(e+=r)==n)return o[s++]=a,o[s++]=l,s}while(a==c&&l==u);for(;e<n;){var h=Sy(t[e],i),d=Sy(t[e+1],i);if(e+=r,h!=a||d!=l){var p=a-c,f=l-u,g=h-c,m=d-u;p*m==f*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(f<0&&m<f||f==m||f>0&&m>f)?(a=h,l=d):(o[s++]=a,o[s++]=l,c=a,u=l,a=h,l=d)}}return o[s++]=a,o[s++]=l,s}function Ty(t,e,n,r,i,o,s,a){for(var l=0,c=n.length;l<c;++l){var u=n[l];s=Ey(t,e,u,r,i,o,s),a.push(s),e=u}return s}function Oy(t,e,n,r,i){for(var o=void 0!==i?i:[],s=0,a=e;a<n;a+=r)o[s++]=t.slice(a,a+r);return o.length=s,o}function Ry(t,e,n,r,i){for(var o=void 0!==i?i:[],s=0,a=0,l=n.length;a<l;++a){var c=n[a];o[s++]=Oy(t,e,c,r,o[s]),e=c}return o.length=s,o}function Py(t,e,n,r,i){for(var o=void 0!==i?i:[],s=0,a=0,l=n.length;a<l;++a){var c=n[a];o[s++]=Ry(t,e,c,r,o[s]),e=c[c.length-1]}return o.length=s,o}function Iy(t,e,n,r){for(var i=0,o=t[n-r],s=t[n-r+1];e<n;e+=r){var a=t[e],l=t[e+1];i+=s*a-o*l,o=a,s=l}return i/2}function Ay(t,e,n,r){for(var i=0,o=0,s=n.length;o<s;++o){var a=n[o];i+=Iy(t,e,a,r),e=a}return i}var ky=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fy=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return ky(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<hf(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(yy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return Iy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Oy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Cy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wy(this.flatCoordinates,0,t,this.stride),this.changed()},e}(gy),jy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),My=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return jy(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=Gf(t,e,i[0],i[1]);if(o<r){for(var s=this.stride,a=0;a<s;++a)n[a]=i[a];return n.length=s,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return mf(n=(e=this.flatCoordinates)[0],r=e[1],n,r,t);var e,n,r},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return ff(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t),this.changed()},e}(gy);function Ly(t,e,n,r,i){return!Sf(i,function(i){return!Dy(t,e,n,r,i[0],i[1])})}function Dy(t,e,n,r,i,o){for(var s=0,a=t[n-r],l=t[n-r+1];e<n;e+=r){var c=t[e],u=t[e+1];l<=o?u>o&&(c-a)*(o-l)-(i-a)*(u-l)>0&&s++:u<=o&&(c-a)*(o-l)-(i-a)*(u-l)<0&&s--,a=c,l=u}return 0!==s}function Ny(t,e,n,r,i,o){if(0===n.length)return!1;if(!Dy(t,e,n[0],r,i,o))return!1;for(var s=1,a=n.length;s<a;++s)if(Dy(t,n[s-1],n[s],r,i,o))return!1;return!0}function zy(t,e,n,r,i,o,s){for(var a,l,c,u,h,d,p,f=i[o+1],g=[],m=0,y=n.length;m<y;++m){var _=n[m];for(u=t[_-r],d=t[_-r+1],a=e;a<_;a+=r)h=t[a],p=t[a+1],(f<=d&&p<=f||d<=f&&f<=p)&&g.push(c=(f-d)/(p-d)*(h-u)+u),u=h,d=p}var v=NaN,b=-1/0;for(g.sort(Fp),u=g[0],a=1,l=g.length;a<l;++a){h=g[a];var w=Math.abs(h-u);w>b&&Ny(t,e,n,r,c=(u+h)/2,f)&&(v=c,b=w),u=h}return isNaN(v)&&(v=i[o]),s?(s.push(v,f,b),s):[v,f,b]}function qy(t,e,n,r,i){for(var o,s=[t[e],t[e+1]],a=[];e+r<n;e+=r){if(a[0]=t[e+r],a[1]=t[e+r+1],o=i(s,a))return o;s[0]=a[0],s[1]=a[1]}return!1}function Vy(t,e,n,r,i){var o=xf([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!Lf(i,o)&&(!!pf(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]||qy(t,e,n,r,function(t,e){return function(t,e,n){var r=!1,i=gf(t,e),o=gf(t,n);if(1===i||1===o)r=!0;else{var s=t[0],a=t[1],l=t[2],c=t[3],u=n[0],h=n[1],d=(h-e[1])/(u-e[0]),p=void 0,f=void 0;2&o&&!(2&i)&&(r=(p=u-(h-c)/d)>=s&&p<=l),r||!(4&o)||4&i||(r=(f=h-(u-l)*d)>=a&&f<=c),r||!(8&o)||8&i||(r=(p=u-(h-a)/d)>=s&&p<=l),r||!(16&o)||16&i||(r=(f=h-(u-s)*d)>=a&&f<=c)}return r}(i,t,e)}))}function Gy(t,e,n,r,i){if(!function(t,e,n,r,i){return!!(Vy(t,e,n,r,i)||Dy(t,e,n,r,i[0],i[1])||Dy(t,e,n,r,i[0],i[3])||Dy(t,e,n,r,i[2],i[1])||Dy(t,e,n,r,i[2],i[3]))}(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(var o=1,s=n.length;o<s;++o)if(Ly(t,n[o-1],n[o],r,i)&&!Vy(t,n[o-1],n[o],r,i))return!1;return!0}function Uy(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function By(t,e,n,r){for(var i=0,o=t[n-r],s=t[n-r+1];e<n;e+=r){var a=t[e],l=t[e+1];i+=(a-o)*(l+s),o=a,s=l}return 0===i?void 0:i>0}function Hy(t,e,n,r,i){for(var o=void 0!==i&&i,s=0,a=n.length;s<a;++s){var l=n[s],c=By(t,e,l,r);if(0===s){if(o&&c||!o&&!c)return!1}else if(o&&!c||!o&&c)return!1;e=l}return!0}function Wy(t,e,n,r,i){for(var o=void 0!==i&&i,s=0,a=n.length;s<a;++s){var l=n[s],c=By(t,e,l,r);(0===s?o&&c||!o&&!c:o&&!c||!o&&c)&&Uy(t,e,l,r),e=l}return e}function Xy(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o)e=Wy(t,e,n[o],r,i);return e}var Zy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yy=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return Zy(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Lp(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<hf(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_y(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),by(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return Ny(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Ay(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Wy(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Ry(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Rf(this.getExtent());this.flatInteriorPoint_=zy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new My(this.getFlatInteriorPoint(),"XYM")},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Fy(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,s=n.length;o<s;++o){var a=n[o],l=new Fy(e.slice(i,a),t);r.push(l),i=a}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Hy(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Wy(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Ty(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,"XY",r)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return Gy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=xy(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(gy),Ky=Yy;function $y(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new Yy(o,"XY",[o.length])}var Jy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Qy(t,e){setTimeout(function(){t(e)},0)}function t_(t){return!(t.sourceCenter&&t.targetCenter&&!wg(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function e_(t,e,n,r,i){var o=Math.cos(-i),s=Math.sin(-i),a=t[0]*o-t[1]*s,l=t[1]*o+t[0]*s;return[(a+=(e[0]/2-n[0])*r)*o-(l+=(n[1]-e[1]/2)*r)*(s=-s),l*o+a*s]}var n_=function(t){function e(e){var n=t.call(this)||this,r=ng({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=Gm(r.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,r.center&&(r.center=Zm(r.center)),r.extent&&(r.extent=Km(r.extent)),n.applyOptions_(r),n}return Jy(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,r,i=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2,a=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,c=void 0!==t.showFullExtent&&t.showFullExtent,u=Gm(t.projection,"EPSG:3857"),h=u.getExtent(),d=t.constrainOnlyCenter,p=t.extent;if(a||p||!u.isGlobal()||(d=!1,p=h),void 0!==t.resolutions){var f=t.resolutions;n=f[i],r=void 0!==f[o]?f[o]:f[f.length-1],e=t.constrainResolution?function(t,e,n,r){return function(i,o,s,a){if(void 0!==i){var l=t[0],c=t[t.length-1],u=n?Qm(l,n,s,r):l;if(a)return void 0===e||e?ty(i,u,c):Nf(i,c,u);var h=Math.min(u,i),d=Math.floor(jp(t,h,o));return t[d]>u&&d<t.length-1?t[d+1]:t[d]}}}(f,l,!d&&p,c):ey(n,r,l,!d&&p,c)}else{var g=(h?Math.max(Mf(h),Af(h)):360*fm[_m.DEGREES]/u.getMetersPerUnit())/256/Math.pow(2,0),m=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?i=0:n=g/Math.pow(s,i),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,o):g/Math.pow(s,o):m),o=i+Math.floor(Math.log(n/r)/Math.log(s)),r=n/Math.pow(s,o-i),e=t.constrainResolution?function(t,e,n,r,i,o){return function(s,a,l,c){if(void 0!==s){var u=i?Qm(e,i,l,o):e,h=void 0!==n?n:0;if(c)return void 0===r||r?ty(s,u,h):Nf(s,h,u);var d=Math.ceil(Math.log(e/u)/Math.log(t)-1e-9),p=-a*(.5-1e-9)+.5,f=Math.min(u,s),g=Math.floor(Math.log(e/f)/Math.log(t)+p),m=Math.max(d,g);return Nf(e/Math.pow(t,m),h,u)}}}(s,n,r,l,!d&&p,c):ey(n,r,l,!d&&p,c)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:s}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent)return $m(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=Gm(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,$m(n,!1,!1)}return Jm}(t),r=e.constraint,i=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(r=Uf(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=r?0:t:void 0}):!1===e?ry:"number"==typeof e?(n=2*Math.PI/e,function(t,e){return e?t:void 0!==t?t=Math.floor(t/n+.5)*n:void 0}):ry}return ny;var n,r}(t);this.constraints_={center:n,resolution:r,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var r=t||[0,0,0,0];e=e||[0,0,0,0];var i=this.getResolution();this.setCenterInternal([n[0]+i/2*(r[3]-e[3]+e[1]-r[1]),n[1]-i/2*(r[0]-e[0]+e[2]-r[2])])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=ng({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),ng({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=ng({},r)).center=Zm(r.center,this.getProjection())),r.anchor&&((r=ng({},r)).anchor=Zm(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&Qy(e,!0))}for(var i=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_,l=[],c=0;c<n;++c){var u=arguments[c],h={start:i,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||sy,callback:e};if(u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),void 0!==u.zoom?(h.sourceResolution=s,h.targetResolution=this.getResolutionForZoom(u.zoom),s=h.targetResolution):u.resolution&&(h.sourceResolution=s,h.targetResolution=u.resolution,s=h.targetResolution),void 0!==u.rotation){h.sourceRotation=a;var d=Bf(u.rotation-a+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=a+d,a=h.targetRotation}t_(h)?h.complete=!0:i+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(0,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&Qy(r[0].callback,!1),!t)for(var i=0,o=r.length;i<o;++i){var s=r[i];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,s=r.length;o<s;++o){var a=r[o];if(!a.complete){var l=a.duration>0?(t-a.start)/a.duration:1;l>=1?(a.complete=!0,l=1):i=!1;var c=a.easing(l);if(a.sourceCenter){var u=a.sourceCenter[0],h=a.sourceCenter[1];this.targetCenter_=[u+c*(a.targetCenter[0]-u),h+c*(a.targetCenter[1]-h)]}if(a.sourceResolution&&a.targetResolution){var d=1===c?a.targetResolution:a.sourceResolution+c*(a.targetResolution-a.sourceResolution);if(a.anchor){var p=this.getViewportSize_(this.getRotation()),f=this.constraints_.resolution(d,0,p,!0);this.targetCenter_=this.calculateCenterZoom(f,a.anchor)}this.targetResolution_=d,this.applyTargetState_(!0)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var g=1===c?Bf(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+c*(a.targetRotation-a.sourceRotation);if(a.anchor){var m=this.constraints_.rotation(g,!0);this.targetCenter_=this.calculateCenterRotate(m,a.anchor)}this.targetRotation_=g}if(this.applyTargetState_(!0),e=!0,!a.complete)break}}if(i){this.animations_[n]=null,this.setHint(0,-1);var y=r[0].callback;y&&Qy(y,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r,i,o=this.getCenterInternal();return void 0!==o&&(xg(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),(r=n)[0]+=+(i=e)[0],r[1]+=+i[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Xm(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get("center")},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return Ym(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();nf(n,1);var r=this.getResolution();nf(void 0!==r,2);var i=this.getRotation();return nf(void 0!==i,3),If(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get("resolution")},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Km(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),r=Mf(t)/n[0],i=Af(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get("rotation")},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=Math.log(n/this.minResolution_)/e;return function(t){return Math.log(n/t)/e/r}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),i=this.padding_;if(i){var o=this.getViewportSizeMinusPadding_();r=e_(r,this.getViewportSize_(),[o[0]/2+i[3],o[1]/2+i[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=jp(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Nf(Math.floor(t),0,this.resolutions_.length-2);return this.resolutions_[e]/Math.pow(this.resolutions_[e]/this.resolutions_[e+1],Nf(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(nf(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))nf(!Df(t),25),n=$y(r=Km(t,this.getProjection()));else if("Circle"===t.getType()){var r;(n=$y(r=Km(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),Rf(r))}else n=t;this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),i=t.getFlatCoordinates(),o=t.getStride(),s=1/0,a=1/0,l=-1/0,c=-1/0,u=0,h=i.length;u<h;u+=o){var d=i[u]*n-i[u+1]*r,p=i[u]*r+i[u+1]*n;s=Math.min(s,d),a=Math.min(a,p),l=Math.max(l,d),c=Math.max(c,p)}return[s,a,l,c]},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSizeMinusPadding_());var i,o=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var a=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(a,[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]);l=isNaN(l)?i:Math.max(l,i),l=this.getConstrainedResolution(l,s?0:1);var c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),d=Rf(a);d[0]+=(o[1]-o[3])/2*l,d[1]+=(o[0]-o[2])/2*l;var p=this.getConstrainedCenter([d[0]*h-d[1]*u,d[1]*h+d[0]*u],l),f=n.callback?n.callback:qp;void 0!==n.duration?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},f):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),Qy(f,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Zm(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(e_(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,r){var i,o=this.padding_;if(o&&t){var s=this.getViewportSizeMinusPadding_(-n),a=e_(t,r,[s[0]/2+o[3],s[1]/2+o[0]],e,n);i=[t[0]-a[0],t[1]-a[1]]}return i},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Xm(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Zm(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Zm(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(Zm(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),s=this.constraints_.center(this.targetCenter_,o,i,n,this.calculateCenterShift(this.targetCenter_,o,r,i));this.get("rotation")!==r&&this.set("rotation",r),this.get("resolution")!==o&&this.set("resolution",o),this.get("center")&&wg(this.get("center"),s)||this.set("center",s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,i,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(0===r&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();var c=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===o&&this.getCenterInternal()&&wg(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:r,easing:oy,anchor:c}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&Zm(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(gg);function r_(t){return t[0]>0&&t[1]>0}function i_(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var o_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s_=function(t){function e(e){var n=t.call(this)||this,r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,i,o={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new em({layers:t.layers});return o.layergroup=s,o.target=t.target,o.view=void 0!==t.view?t.view:new n_,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Qg(t.controls.slice()):(nf("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new Qg(t.interactions.slice()):(nf("function"==typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?i=new Qg(t.overlays.slice()):(nf("function"==typeof t.overlays.getArray,49),i=t.overlays):i=new Qg,{controls:n,interactions:r,keyboardEventTarget:e,overlays:i,values:o}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Kp,n.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=r.controls||new Qg,n.interactions=r.interactions||new Qg,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new dm(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener("layergroup",n.handleLayerGroupChanged_),n.addChangeListener("view",n.handleViewChanged_),n.addChangeListener("size",n.handleSizeChanged_),n.addChangeListener("target",n.handleTargetChanged_),n.setProperties(r.values),n.controls.forEach((function(t){t.setMap(this)}).bind(n)),n.controls.addEventListener("add",(function(t){t.element.setMap(this)}).bind(n)),n.controls.addEventListener("remove",(function(t){t.element.setMap(null)}).bind(n)),n.interactions.forEach((function(t){t.setMap(this)}).bind(n)),n.interactions.addEventListener("add",(function(t){t.element.setMap(this)}).bind(n)),n.interactions.addEventListener("remove",(function(t){t.element.setMap(null)}).bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener("add",(function(t){this.addOverlayInternal_(t.element)}).bind(n)),n.overlays_.addEventListener("remove",(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}).bind(n)),n}return o_(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t);return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,e,null,void 0!==n.layerFilter?n.layerFilter:Np,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{};return this.renderer_.forEachLayerAtPixel(t,this.frameState_,void 0!==r.hitTolerance?r.hitTolerance:0,e,r.layerFilter||Np)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance:0,!1!==e.checkWrapped,void 0!==e.layerFilter?e.layerFilter:Np,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get("target")},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Xm(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?rf(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get("layergroup")},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer.getSource();if(r&&r.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Zm(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?rf(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get("size")},e.prototype.getView=function(){return this.get("view")},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,r){return function(t,e,n,r,i){if(!t||!(n in t.wantedTiles))return cm;if(!t.wantedTiles[n][e.getKey()])return cm;var o=t.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=new om(e||t.type,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if("pointerdown"===n||"wheel"===n||"keydown"===n){var r=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=e.target;if(this.overlayContainerStopEvent_.contains(o)||!(i===r?r.documentElement:i).contains(o))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var s=this.getInteractions().getArray().slice(),a=s.length-1;a>=0;a--){var l=s[a];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()&&(!l.handleEvent(t)||t.propagationStopped))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[0]||i[1]){var o=Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}!t||!this.hasListener("rendercomplete")||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent("rendercomplete",t);for(var s=this.postRenderFunctions_,a=0,l=s.length;a<l;++a)s[a](this,t);s.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)ug(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Lg(this.viewport_)}if(t){for(var r in t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new lm(this,this.moveTolerance_),sm)this.mapBrowserEventHandler_.addEventListener(sm[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!Qp&&{passive:!1});var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[lg(i,"keydown",this.handleBrowserEvent,this),lg(i,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ug(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ug(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=lg(t,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=lg(t,"change",this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ug),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[lg(t,"propertychange",this.render,this),lg(t,"change",this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),r=this.getView(),i=this.frameState_,o=null;if(void 0!==n&&r_(n)&&r&&r.isDef()){var s=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:If(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{}}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i&&(!this.previousExtent_||!Df(this.previousExtent_)&&!vf(o.extent,this.previousExtent_))&&(this.dispatchEvent(new rm("movestart",this,i)),this.previousExtent_=yf(this.previousExtent_)),this.previousExtent_&&!o.viewHints[0]&&!o.viewHints[1]&&!vf(o.extent,this.previousExtent_)&&(this.dispatchEvent(new rm("moveend",this,o)),uf(o.extent,this.previousExtent_))),this.dispatchEvent(new rm("postrender",this,o)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){this.set("layergroup",t)},e.prototype.setSize=function(t){this.set("size",t)},e.prototype.setTarget=function(t){this.set("target",t)},e.prototype.setView=function(t){this.set("view",t)},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),i=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(i)||r_(e=[r,i])||console.warn("No map visible because the map container's width or height are 0.")}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(gg),a_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l_=function(t){function e(e){var n=t.call(this)||this,r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return a_(e,t),e.prototype.disposeInternal=function(){Lg(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Lg(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)ug(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==qp&&this.listenerKeys.push(lg(t,"postrender",this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(gg),c_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u_=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",o=void 0!==r.tipLabel?r.tipLabel:"Attributions",s=void 0!==r.expandClassName?r.expandClassName:i+"-expand",a=void 0!==r.collapseLabel?r.collapseLabel:"\xbb",l=void 0!==r.collapseClassName?r.collapseClassName:i+"-collpase";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a,n.collapseLabel_.className=l):n.collapseLabel_=a;var c=void 0!==r.label?r.label:"i";"string"==typeof c?(n.label_=document.createElement("span"),n.label_.textContent=c,n.label_.className=s):n.label_=c;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=o,n.toggleButton_.appendChild(u),n.toggleButton_.addEventListener("click",n.handleClick_.bind(n),!1);var h=n.element;return h.className=i+" ol-unselectable ol-control"+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),h.appendChild(n.toggleButton_),h.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return c_(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=!0,i=t.layerStatesArray,o=0,s=i.length;o<s;++o){var a=i[o];if(vg(a,t.viewState)){var l=a.layer.getSource();if(l){var c=l.getAttributions();if(c){var u=c(t);if(u)if(r=r&&!1!==l.getAttributionsCollapsible(),Array.isArray(u))for(var h=0,d=u.length;h<d;++h)u[h]in e||(n.push(u[h]),e[u[h]]=!0);else u in e||(n.push(u),e[u]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Dp(e,this.renderedAttributions_)){Dg(this.ulElement_);for(var r=0,i=e.length;r<i;++r){var o=document.createElement("li");o.innerHTML=e[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?Mg(this.collapseLabel_,this.label_):Mg(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(l_),h_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d_=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var i=void 0!==r.className?r.className:"ol-rotate",o=void 0!==r.label?r.label:"\u21e7",s=void 0!==r.compassClassName?r.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(s));var a=r.tipLabel?r.tipLabel:"Reset rotation",l=document.createElement("button");l.className=i+"-reset",l.setAttribute("type","button"),l.title=a,l.appendChild(n.label_),l.addEventListener("click",n.handleClick_.bind(n),!1);var c=n.element;return c.className=i+" ol-unselectable ol-control",c.appendChild(l),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add("ol-hidden"),n}return h_(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:oy}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains("ol-hidden");i||0!==n?i&&0!==n&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.label_.style.transform=r}this.rotation_=n}},e}(l_),p_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f_=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var i=void 0!==r.className?r.className:"ol-zoom",o=void 0!==r.delta?r.delta:1,s=void 0!==r.zoomInClassName?r.zoomInClassName:i+"-in",a=void 0!==r.zoomOutClassName?r.zoomOutClassName:i+"-out",l=void 0!==r.zoomInLabel?r.zoomInLabel:"+",c=void 0!==r.zoomOutLabel?r.zoomOutLabel:"\u2212",u=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=u,d.appendChild("string"==typeof l?document.createTextNode(l):l),d.addEventListener("click",n.handleClick_.bind(n,o),!1);var p=document.createElement("button");p.className=a,p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof c?document.createTextNode(c):c),p.addEventListener("click",n.handleClick_.bind(n,-o),!1);var f=n.element;return f.className=i+" ol-unselectable ol-control",f.appendChild(d),f.appendChild(p),n.duration_=void 0!==r.duration?r.duration:250,n}return p_(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:oy})):e.setZoom(r)}}},e}(l_),g_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function m_(t,e,n,r){var i=t.getZoom();if(void 0!==i){var o=t.getConstrainedZoom(i+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:oy})}}var y_=function(t){function e(e){var n=t.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return g_(e,t),e.prototype.getActive=function(){return this.get("active")},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set("active",t)},e.prototype.setMap=function(t){this.map_=t},e}(gg),__=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v_=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return __(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==sm.DBLCLICK){var n=t.originalEvent,r=t.coordinate,i=n.shiftKey?-this.delta_:this.delta_;m_(t.map.getView(),i,r,this.duration_),n.preventDefault(),e=!0}return!e},e}(y_),b_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function w_(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}var x_=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return b_(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==sm.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==sm.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==sm.POINTERDOWN){var r=this.handleDownEvent(t);this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==sm.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===sm.POINTERDOWN||e===sm.POINTERDRAG||e===sm.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==sm.POINTERUP?delete this.trackedPointers_[n]:(t.type==sm.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=ig(this.trackedPointers_)}},e}(y_);function C_(t){var e=arguments;return function(t){for(var n=!0,r=0,i=e.length;r<i&&(n=n&&e[r](t));++r);return n}}var S_=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},E_=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},T_=Np,O_=function(t){var e=t.originalEvent;return 0==e.button&&!(Zp&&Yp&&e.ctrlKey)},R_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},P_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},I_=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},A_=function(t){var e=t.originalEvent;return nf(void 0!==e,56),"mouse"==e.pointerType},k_=function(t){var e=t.originalEvent;return nf(void 0!==e,56),e.isPrimary&&0===e.button},F_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j_=function(t){function e(e){var n=t.call(this,{stopDown:zp})||this,r=e||{};n.kinetic_=r.kinetic,n.lastCentroid=null,n.panning_=!1;var i=r.condition?r.condition:C_(R_,k_);return n.condition_=r.onFocusOnly?C_(E_,i):i,n.noKinetic_=!1,n}return F_(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,r=this.targetPointers,i=w_(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=t.map.getView();e=o,n=s.getResolution(),e[0]*=n,e[1]*=n,xg(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(o),a=e.getCoordinateFromPixelInternal([s[0]-r*Math.cos(i),s[1]-r*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(a),duration:500,easing:oy})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(x_),M_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L_=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:zp})||this).condition_=r.condition?r.condition:S_,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return M_(e,t),e.prototype.handleDragEvent=function(t){if(A_(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==ny){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);void 0!==this.lastAngle_&&n.adjustRotationInternal(-(o-this.lastAngle_)),this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!A_(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!A_(t)||!O_(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(x_),D_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N_=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return D_(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Ky([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(kp),z_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q_=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return z_(e,t),e}(eg),V_=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.box_=new N_(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(n.onBoxEnd=r.onBoxEnd),n.startPixel_=null,n.condition_=r.condition?r.condition:O_,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return z_(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new q_("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new q_(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new q_("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(x_),G_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U_=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{condition:r.condition?r.condition:P_,className:r.className||"ol-dragzoom",minArea:r.minArea})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return G_(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var r=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(r),o=e.getResolution()/i;(n=n.clone()).scale(o*o)}e.fitInternal(n,{duration:this.duration_,easing:oy})},e}(V_),B_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H_=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.defaultCondition_=function(t){return R_(t)&&I_(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return B_(e,t),e.prototype.handleEvent=function(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent,r=n.keyCode;if(this.condition_(t)&&(40==r||37==r||39==r||38==r)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,s=0,a=0;40==r?a=-o:37==r?s=-o:39==r?s=o:a=o;var l=[s,a];xg(l,i.getRotation()),function(t,e,n){var r=t.getCenterInternal();r&&t.animateInternal({duration:void 0!==n?n:250,easing:ay,center:t.getConstrainedCenter([r[0]+e[0],r[1]+e[1]])})}(i,l,this.duration_),n.preventDefault(),e=!0}}return!e},e}(y_),W_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X_=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.condition_=r.condition?r.condition:I_,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return W_(e,t),e.prototype.handleEvent=function(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent,r=n.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=t.map,o=r=="+".charCodeAt(0)?this.delta_:-this.delta_;m_(i.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(y_),Z_=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),Y_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K_=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var i=r.condition?r.condition:T_;return n.condition_=r.onFocusOnly?C_(E_,i):i,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return Y_(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if("wheel"!==t.type)return!0;var e,n=t.map,r=t.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),"wheel"==t.type&&(e=r.deltaY,Xp&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=Kp),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?"trackpad":"wheel");var o=n.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-Nf(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),m_(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(y_),$_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J_=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=zp),(n=t.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return $_(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==ny){var l=s.getViewport().getBoundingClientRect(),c=w_(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(c),this.rotating_&&(s.render(),a.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(x_),Q_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tv=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=zp),(n=t.call(this,i)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Q_(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,s=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e);var c=a.getViewport().getBoundingClientRect(),u=w_(this.targetPointers);u[0]-=c.left,u[1]-=c.top,this.anchor_=a.getCoordinateFromPixelInternal(u),a.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(x_),ev=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nv=function(t){function e(e){return(e=ng({},e)).controls||(e.controls=function(t){var e={},n=new Qg;return(void 0===e.zoom||e.zoom)&&n.push(new f_(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new d_(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new u_(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e={onFocusOnly:!0}||{},n=new Qg,r=new Z_(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new L_),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new v_({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new j_({onFocusOnly:e.onFocusOnly,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new J_),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new tv({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new H_),n.push(new X_({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new K_({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new U_({duration:e.zoomDuration})),n}()),t.call(this,e)||this}return ev(e,t),e.prototype.createRenderer=function(){return new Kg(this)},e}(s_),rv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iv=function(t){function e(e){var n=this,r=e||{},i=ng({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return rv(e,t),e.prototype.getPreload=function(){return this.get("preload")},e.prototype.setPreload=function(t){this.set("preload",t)},e.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},e.prototype.setUseInterimTilesOnError=function(t){this.set("useInterimTilesOnError",t)},e}(bg),ov=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sv=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return ov(e,t),e.prototype.getFeatures=function(t){return Vp()},e.prototype.prepareFrame=function(t){return Vp()},e.prototype.renderFrame=function(t,e){return Vp()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return(function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}).bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return Vp()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){2===t.target.getState()&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return 2!=e&&3!=e&&t.addEventListener("change",this.boundHandleImageChange_),0==e&&(t.load(),e=t.getState()),2==e},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&"ready"==t.getSourceState()&&t.changed()},e}(dg),av=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lv=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return av(e,t),e.prototype.useContainer=function(t,e,n){var r,i,o=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===o&&(s=t.firstElementChild)instanceof HTMLCanvasElement&&(i=s.getContext("2d")),!i||0!==i.canvas.width&&i.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=i,this.containerReused=!0),!this.container){(r=document.createElement("div")).className=o;var s,a=r.style;a.position="absolute",a.width="100%",a.height="100%",i=kg(),r.appendChild(s=i.canvas),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=i}},e.prototype.clipUnrotated=function(t,e,n){var r=Ff(n),i=jf(n),o=Of(n),s=Tf(n);rf(e.coordinateToPixelTransform,r),rf(e.coordinateToPixelTransform,i),rf(e.coordinateToPixelTransform,o),rf(e.coordinateToPixelTransform,s);var a=this.inversePixelTransform;rf(a,r),rf(a,i),rf(a,o),rf(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new Rg(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,s){var a=r/e;return of(this.tempTransform,i/2,o/2,a,-a,-n,-t[0]+s,-t[1])},e.prototype.getDataAtPixel=function(t,e,n){var r,i=rf(this.inversePixelTransform,t.slice()),o=this.context,s=this.getLayer().getExtent();if(s&&!df(s,rf(e.pixelToCoordinateTransform,t.slice())))return null;try{var a=Math.round(i[0]),l=Math.round(i[1]),c=document.createElement("canvas"),u=c.getContext("2d");c.width=1,c.height=1,u.clearRect(0,0,1,1),u.drawImage(o.canvas,a,l,1,1,0,0,1,1),r=u.getImageData(0,0,1,1).data}catch(h){return"SecurityError"===h.name?new Uint8Array:r}return 0===r[3]?null:r},e}(sv),cv=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function uv(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new cv(t,e,n,r)}var hv=cv,dv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pv=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new hv(0,0,0,0),n}return dv(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return 2==n||4==n||3==n&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,s=this.getLayer(),a=s.getSource().getTile(t,e,n,i,o);return 3==a.getState()&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(2)),this.isDrawableTile(a)||(a=a.getInterimTile()),a},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,i=r.projection,o=r.resolution,s=r.center,a=r.rotation,l=t.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getRevision(),d=u.getTileGridForProjection(i),p=d.getZForResolution(o,u.zDirection),f=d.getResolution(p),g=t.extent,m=n.extent&&Km(n.extent);m&&(g=kf(g,Km(n.extent)));var y=u.getTilePixelRatio(l),_=Math.round(t.size[0]*y),v=Math.round(t.size[1]*y);if(a){var b=Math.round(Math.sqrt(_*_+v*v));_=b,v=b}var w=f*_/2/y,x=f*v/2/y,C=[s[0]-w,s[1]-x,s[0]+w,s[1]+x],S=d.getTileRangeForExtentAndZ(g,p),E={};E[p]={};var T=this.createLoadedTileFinder(u,i,E),O=this.tmpExtent,R=this.tmpTileRange_;this.newTiles_=!1;for(var P=S.minX;P<=S.maxX;++P)for(var I=S.minY;I<=S.maxY;++I){var A=this.getTile(p,P,I,t);if(this.isDrawableTile(A)){var k=Up(this);if(2==A.getState()){E[p][A.tileCoord.toString()]=A;var F=A.inTransition(k);this.newTiles_||!F&&-1!==this.renderedTiles.indexOf(A)||(this.newTiles_=!0)}if(1===A.getAlpha(k,t.time))continue}var j=d.getTileCoordChildTileRange(A.tileCoord,R,O),M=!1;j&&(M=T(p+1,j)),M||d.forEachTileCoordParentTileRange(A.tileCoord,T,R,O)}var L=f/o;of(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/y,1/y,a,-_/2,-v/2);var D=af(this.pixelTransform);this.useContainer(e,D,n.opacity);var N=this.context,z=N.canvas;sf(this.inversePixelTransform,this.pixelTransform),of(this.tempTransform,_/2,v/2,L,L,0,-_/2,-v/2),z.width!=_||z.height!=v?(z.width=_,z.height=v):this.containerReused||N.clearRect(0,0,_,v),m&&this.clipUnrotated(N,t,m),ng(N,u.getContextOptions()),this.preRender(N,t),this.renderedTiles.length=0;var q,V,G,U=Object.keys(E).map(Number);U.sort(Fp),1!==n.opacity||this.containerReused&&!u.getOpaque(t.viewState.projection)?(q=[],V=[]):U=U.reverse();for(var B=U.length-1;B>=0;--B){var H=U[B],W=u.getTilePixelSize(H,l,i),X=d.getResolution(H)/f,Z=W[0]*X*L,Y=W[1]*X*L,K=d.getTileCoordForCoordAndZ(Ff(C),H),$=d.getTileCoordExtent(K),J=rf(this.tempTransform,[y*($[0]-C[0])/f,y*(C[3]-$[3])/f]),Q=y*u.getGutterForProjection(i),tt=E[H];for(var et in tt){var nt=(A=tt[et]).tileCoord,rt=K[1]-nt[1],it=Math.round(J[0]-(rt-1)*Z),ot=K[2]-nt[2],st=Math.round(J[1]-(ot-1)*Y),at=it-(P=Math.round(J[0]-rt*Z)),lt=st-(I=Math.round(J[1]-ot*Y)),ct=p===H;if(!(F=ct&&1!==A.getAlpha(Up(this),t.time)))if(q){N.save(),G=[P,I,P+at,I,P+at,I+lt,P,I+lt];for(var ut=0,ht=q.length;ut<ht;++ut)if(p!==H&&H<V[ut]){var dt=q[ut];N.beginPath(),N.moveTo(G[0],G[1]),N.lineTo(G[2],G[3]),N.lineTo(G[4],G[5]),N.lineTo(G[6],G[7]),N.moveTo(dt[6],dt[7]),N.lineTo(dt[4],dt[5]),N.lineTo(dt[2],dt[3]),N.lineTo(dt[0],dt[1]),N.clip()}q.push(G),V.push(H)}else N.clearRect(P,I,at,lt);this.drawTileImage(A,t,P,I,at,lt,Q,ct,n.opacity),q&&!F?(N.restore(),this.renderedTiles.unshift(A)):this.renderedTiles.push(A),this.updateUsedTiles(t.usedTiles,u,A)}}return this.renderedRevision=h,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!vf(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=l,this.renderedProjection=i,this.manageTilePyramid(t,u,d,l,i,g,p,c.getPreload()),this.scheduleExpireCache(t,u),this.postRender(N,t),n.extent&&N.restore(),D!==z.style.transform&&(z.style.transform=D),this.container},e.prototype.drawTileImage=function(t,e,n,r,i,o,s,a,l){var c=this.getTileImage(t);if(c){var u=Up(this),h=a?t.getAlpha(u,e.time):1,d=l*h,p=d!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(c,s,s,c.width-2*s,c.height-2*s,n,r,i,o),p&&this.context.restore(),1!==h?e.animate=!0:a&&t.endTransition(u)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=(function(t,e,n){var r=Up(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}).bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=Up(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,r,i,o,s,a,l){var c=Up(e);c in t.wantedTiles||(t.wantedTiles[c]={});var u,h,d,p,f,g,m=t.wantedTiles[c],y=t.tileQueue,_=0;for(g=n.getMinZoom();g<=s;++g)for(h=n.getTileRangeForExtentAndZ(o,g,h),d=n.getResolution(g),p=h.minX;p<=h.maxX;++p)for(f=h.minY;f<=h.maxY;++f)s-g<=a?(++_,0==(u=e.getTile(g,p,f,r,i)).getState()&&(m[u.getKey()]=!0,y.isKeyQueued(u.getKey())||y.enqueue([u,c,n.getTileCoordCenter(u.tileCoord),d])),void 0!==l&&l(u)):e.useTile(g,p,f,i);e.updateCacheSize(_,i)},e}(lv),fv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gv=function(t){function e(e){return t.call(this,e)||this}return fv(e,t),e.prototype.createRenderer=function(){return new pv(this)},e}(iv),mv=n(3036),yv=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=i_(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Vp()},t.prototype.getImage=function(t){return Vp()},t.prototype.getHitDetectionImage=function(){return Vp()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Vp()},t.prototype.getImageSize=function(){return Vp()},t.prototype.getOrigin=function(){return Vp()},t.prototype.getSize=function(){return Vp()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=i_(t)},t.prototype.listenImageChange=function(t){Vp()},t.prototype.load=function(){Vp()},t.prototype.unlistenImageChange=function(t){Vp()},t}();function _v(t){return Array.isArray(t)?Jf(t):t}var vv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bv=function(t){function e(e){var n=this;return(n=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.renderOptions_=null,n.render(),n}return vv(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,r=kg(n.size*t,n.size*t);this.draw_(n,r,t),this.canvas_[t]=e=r.canvas}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return 2},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var r=this.radius_,i=void 0===this.radius2_?r:this.radius2_;if(r<i){var o=r;r=i,i=o}var s=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),a=i*Math.sin(s),l=r-Math.sqrt(i*i-a*a),c=Math.sqrt(a*a+l*l),u=c/a;if("miter"===t&&u<=n)return u*e;var h=e/2/u,d=e/2*(l/c),p=Math.sqrt((r+h)*(r+h)+d*d)-r;if(void 0===this.radius2_||"bevel"===t)return 2*p;var f=r*Math.sin(s),g=i-Math.sqrt(r*r-f*f),m=Math.sqrt(f*f+g*g)/f;return m<=n?2*Math.max(p,m*e/2-i-r):2*p},e.prototype.createRenderOptions=function(){var t,e="round",n=0,r=null,i=0,o=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=_v(t),void 0===(o=this.stroke_.getWidth())&&(o=1),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e="round"),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var s=this.calculateLineJoinSize_(e,o,n),a=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*a+s),lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size,e=this.getDisplacement();this.canvas_={},this.anchor_=[t/2-e[0],t/2+e[1]],this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r="#000"),e.fillStyle=_v(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=Kf(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=kg(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var i=this.angle_-Math.PI/2,o=2*Math.PI/e,s=0;s<e;s++){var a=i+s*o,l=s%2==0?n:r;t.lineTo(l*Math.cos(a),l*Math.sin(a))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(yv),wv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xv=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return wv(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(bv),Cv=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),Sv=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),Ev=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Rv,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Rv,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),Tv=null;function Ov(t,e){if(!Tv){var n=new Cv({color:"rgba(255,255,255,0.4)"}),r=new Sv({color:"#3399CC",width:1.25});Tv=[new Ev({image:new xv({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Tv}function Rv(t){return t.getGeometry()}var Pv=Ev,Iv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Av=function(t){function e(e){var n=this,r=e||{},i=ng({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(n=t.call(this,i)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return Iv(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get("renderOrder")},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new mv(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set("renderOrder",t)},e.prototype.setStyle=function(t){var e,n,r;this.style_=void 0!==t?t:Ov,this.styleFunction_=null===t?void 0:("function"==typeof(e=this.style_)?n=e:(Array.isArray(e)?r=e:(nf("function"==typeof e.getZIndex,41),r=[e]),n=function(){return r}),n),this.changed()},e}(bg),kv={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Fv=[kv.FILL],jv=[kv.STROKE],Mv=[kv.BEGIN_PATH],Lv=[kv.CLOSE_PATH],Dv=kv,Nv=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),zv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qv=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return zv(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates,o=i.length,s=0,a=t.length;s<a;s+=e)r[0]=t[s],r[1]=t[s+1],df(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,n,r,i,o){var s=this.coordinates,a=s.length,l=this.getBufferedMaxExtent();o&&(e+=r);var c,u,h,d=t[e],p=t[e+1],f=this.tmpCoordinate_,g=!0;for(c=e+r;c<n;c+=r)f[0]=t[c],f[1]=t[c+1],(h=gf(l,f))!==u?(g&&(s[a++]=d,s[a++]=p,g=!1),s[a++]=f[0],s[a++]=f[1]):1===h?(s[a++]=f[0],s[a++]=f[1],g=!1):g=!0,d=f[0],p=f[1],u=h;return(i&&g||c===e+r)&&(s[a++]=d,s[a++]=p),a},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o],l=this.appendFlatLineCoordinates(t,e,a,r,!1,!1);i.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,s,a,l=t.getType(),c=t.getStride(),u=this.coordinates.length;if("MultiPolygon"==l){r=t.getOrientedFlatCoordinates(),s=[];var h=t.getEndss();a=0;for(var d=0,p=h.length;d<p;++d){var f=[];a=this.drawCustomCoordinates_(r,a,h[d],c,f),s.push(f)}this.instructions.push([Dv.CUSTOM,u,s,t,n,Py])}else"Polygon"==l||"MultiLineString"==l?(o=[],r="Polygon"==l?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(r,0,t.getEnds(),c,o),this.instructions.push([Dv.CUSTOM,u,o,t,n,Ry])):"LineString"==l||"Circle"==l?(r=t.getFlatCoordinates(),i=this.appendFlatLineCoordinates(r,0,r.length,c,!1,!1),this.instructions.push([Dv.CUSTOM,u,i,t,n,Oy])):"MultiPoint"==l?(r=t.getFlatCoordinates(),(i=this.appendFlatPointCoordinates(r,c))>u&&this.instructions.push([Dv.CUSTOM,u,i,t,n,Oy])):"Point"==l&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),this.instructions.push([Dv.CUSTOM,u,i=this.coordinates.length,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Dv.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Dv.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==Dv.END_GEOMETRY?o=t:r==Dv.BEGIN_GEOMETRY&&(n[2]=t,Mp(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=_v(r||"#000")}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=_v(i||"#000");var o=e.getLineCap();n.lineCap=void 0!==o?o:"round";var s=e.getLineDash();n.lineDash=s?s.slice():Ng;var a=e.getLineDashOffset();n.lineDashOffset=a||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:"round";var c=e.getWidth();n.lineWidth=void 0!==c?c:1;var u=e.getMiterLimit();n.miterLimit=void 0!==u?u:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Dv.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Dv.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!Dp(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Dv.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){return this.bufferedMaxExtent_||(this.bufferedMaxExtent_=uf(this.maxExtent),this.maxLineWidth>0&&cf(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_)),this.bufferedMaxExtent_},e}(Nv),Vv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gv=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return Vv(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([Dv.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Dv.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([Dv.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Dv.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterImageWithText_=e},e}(qv),Uv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bv=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Uv(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),s=[Dv.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Dv.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Ng,0],Mv);var r=t.getFlatCoordinates(),i=t.getStride();this.drawFlatCoordinates_(r,0,r.length,i),this.hitDetectionInstructions.push(jv),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Dv.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Mv);for(var r=t.getEnds(),i=t.getFlatCoordinates(),o=t.getStride(),s=0,a=0,l=r.length;a<l;++a)s=this.drawFlatCoordinates_(i,s,r[a],o);this.hitDetectionInstructions.push(jv),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(jv),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(jv),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Mv)},e}(qv),Hv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wv=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Hv(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,a=n.length;this.instructions.push(Mv),this.hitDetectionInstructions.push(Mv);for(var l=0;l<a;++l){var c=n[l],u=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,c,r,!0,!s),d=[Dv.MOVE_TO_LINE_TO,u,h];this.instructions.push(d),this.hitDetectionInstructions.push(d),s&&(this.instructions.push(Lv),this.hitDetectionInstructions.push(Lv)),e=c}return o&&(this.instructions.push(Fv),this.hitDetectionInstructions.push(Fv)),s&&(this.instructions.push(jv),this.hitDetectionInstructions.push(jv)),e},e.prototype.drawCircle=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Dv.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Dv.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,i,!1,!1);var s=[Dv.CIRCLE,o];this.instructions.push(Mv,s),this.hitDetectionInstructions.push(Mv,s),void 0!==n.fillStyle&&(this.instructions.push(Fv),this.hitDetectionInstructions.push(Fv)),void 0!==n.strokeStyle&&(this.instructions.push(jv),this.hitDetectionInstructions.push(jv)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Dv.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Dv.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),i=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(i,0,r,o),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Dv.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Dv.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var r=t.getEndss(),i=t.getOrientedFlatCoordinates(),o=t.getStride(),s=0,a=0,l=r.length;a<l;++a)s=this.drawFlatCoordinatess_(i,s,r[a],o);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,i=n.length;r<i;++r)n[r]=Sy(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(qv);function Xv(t,e,n,r,i){var o,s,a,l,c,u,h,d,p,f=n,g=n,m=0,y=0,_=n;for(o=n;o<r;o+=i){var v=e[o],b=e[o+1];void 0!==l&&(d=v-l,p=b-c,a=Math.sqrt(d*d+p*p),void 0!==u&&(y+=s,Math.acos((u*d+h*p)/(s*a))>t&&(y>m&&(m=y,f=_,g=o),y=0,_=o-i)),s=a,u=d,h=p),l=v,c=b}return(y+=a)>m?[_,o]:[f,g]}var Zv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yv={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Kv={Circle:Wv,Default:qv,Image:Gv,LineString:Bv,Polygon:Wv,Text:function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return Zv(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textState_;if(""!==this.text_&&n&&(this.textFillState_||this.textStrokeState_)){var r=this.coordinates,i=r.length,o=t.getType(),s=null,a=t.getStride();if("line"!==n.placement||"LineString"!=o&&"MultiLineString"!=o&&"Polygon"!=o&&"MultiPolygon"!=o){var l=n.overflow?null:[];switch(o){case"Point":case"MultiPoint":s=t.getFlatCoordinates();break;case"LineString":s=t.getFlatMidpoint();break;case"Circle":s=t.getCenter();break;case"MultiLineString":s=t.getFlatMidpoints(),a=2;break;case"Polygon":s=t.getFlatInteriorPoint(),n.overflow||l.push(s[2]/this.resolution),a=3;break;case"MultiPolygon":var c=t.getFlatInteriorPoints();for(s=[],b=0,w=c.length;b<w;b+=3)n.overflow||l.push(c[b+2]/this.resolution),s.push(c[b],c[b+1]);if(0===s.length)return;a=2}if((R=this.appendFlatPointCoordinates(s,a))===i)return;if(l&&(R-i)/2!=s.length/a){var u=i/2;l=l.filter(function(t,e){var n=r[2*(u+e)]===s[e*a]&&r[2*(u+e)+1]===s[e*a+1];return n||--u,n})}this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var h=n.padding;if(h!=zg&&(n.scale[0]<0||n.scale[1]<0)){var d=n.padding[0],p=n.padding[1],f=n.padding[2],g=n.padding[3];n.scale[0]<0&&(p=-p,g=-g),n.scale[1]<0&&(d=-d,f=-f),h=[d,p,f,g]}var m=this.pixelRatio;this.instructions.push([Dv.DRAW_IMAGE,i,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,h==zg?zg:h.map(function(t){return t*m}),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,l]);var y=1/m;this.hitDetectionInstructions.push([Dv.DRAW_IMAGE,i,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,this.declutterImageWithText_,h,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,l]),this.endGeometry(e)}else{if(!Lf(this.getBufferedMaxExtent(),t.getExtent()))return;var _=void 0;if(s=t.getFlatCoordinates(),"LineString"==o)_=[s.length];else if("MultiLineString"==o)_=t.getEnds();else if("Polygon"==o)_=t.getEnds().slice(0,1);else if("MultiPolygon"==o){var v=t.getEndss();_=[];for(var b=0,w=v.length;b<w;++b)_.push(v[b][0])}this.beginGeometry(t,e);for(var x=n.textAlign,C=0,S=void 0,E=0,T=_.length;E<T;++E){if(null==x){var O=Xv(n.maxAngle,s,C,_[E],a);C=O[0],S=O[1]}else S=_[E];for(b=C;b<S;b+=a)r.push(s[b],s[b+1]);var R;C=_[E],this.drawChars_(i,R=r.length),i=R}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||"center",textBaseline:e.textBaseline||"middle",scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,l=Yv[r.textBaseline],c=this.textOffsetY_*a,u=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Dv.DRAW_CHARS,t,e,l,r.overflow,s,r.maxAngle,a,c,i,h*a,u,o,1]),this.hitDetectionInstructions.push([Dv.DRAW_CHARS,t,e,l,r.overflow,s,r.maxAngle,1,c,i,h,u,o,1/a])},e.prototype.setTextStyle=function(t,e){var n,r,i;if(t){var o=t.getFill();o?((r=this.textFillState_)||(this.textFillState_=r={}),r.fillStyle=_v(o.getColor()||"#000")):this.textFillState_=r=null;var s=t.getStroke();if(s){(i=this.textStrokeState_)||(this.textStrokeState_=i={});var a=s.getLineDash(),l=s.getLineDashOffset(),c=s.getWidth(),u=s.getMiterLimit();i.lineCap=s.getLineCap()||"round",i.lineDash=a?a.slice():Ng,i.lineDashOffset=void 0===l?0:l,i.lineJoin=s.getLineJoin()||"round",i.lineWidth=void 0===c?1:c,i.miterLimit=void 0===u?10:u,i.strokeStyle=_v(s.getColor()||"#000")}else this.textStrokeState_=i=null;n=this.textState_;var h=t.getFont()||"10px sans-serif";Hg(h);var d=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||zg,n.scale=void 0===d?[1,1]:d;var p=t.getOffsetX(),f=t.getOffsetY(),g=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===m?0:m,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:Up(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Up(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(qv)},$v=function(){function t(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(this.buildersByZIndex_[n]=r={});var i=r[e];return void 0===i&&(i=new(0,Kv[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i),i},t}();function Jv(t,e,n,r,i,o,s,a,l,c,u,h){var d=t[e],p=t[e+1],f=0,g=0,m=0,y=0;function _(){f=d,g=p,d=t[e+=r],p=t[e+1],y+=m,m=Math.sqrt((d-f)*(d-f)+(p-g)*(p-g))}do{_()}while(e<n-r&&y+m<o);for(var v=(o-y)/m,b=Hf(f,d,v),w=Hf(g,p,v),x=e-r,C=y,S=o+a*l(c,i,u);e<n-r&&y+m<S;)_();var E,T=Hf(f,d,v=(S-y)/m),O=Hf(g,p,v);if(h){var R=[b,w,T,O];cy(R,0,4,2,h,R,R),E=R[0]>R[2]}else E=b>T;var P,I=Math.PI,A=[],k=x+r===e;if(m=0,y=C,d=t[e=x],p=t[e+1],k){_();var F=Math.atan2(p-g,d-f);return E&&(F+=F>0?-I:I),A[0]=[G=(T+b)/2,U=(O+w)/2,(S-o)/2,F,i],A}for(var j=0,M=i.length;j<M;){_();var L=Math.atan2(p-g,d-f);if(E&&(L+=L>0?-I:I),void 0!==P){var D=L-P;if(D+=D>I?-2*I:D<-I?2*I:0,Math.abs(D)>s)return null}P=L;for(var N=j,z=0;j<M;++j){var q=a*l(c,i[E?M-j-1:j],u);if(e+r<n&&y+m<o+z+q/2)break;z+=q}if(j!==N){var V=E?i.substring(M-N,M-j):i.substring(N,j),G=Hf(f,d,v=(o+z/2-y)/m),U=Hf(g,p,v);A.push([G,U,z/2,L,V]),o+=z}}return A}function Qv(t,e,n,r){for(var i=t[e],o=t[e+1],s=0,a=e+r;a<n;a+=r){var l=t[a],c=t[a+1];s+=Math.sqrt((l-i)*(l-i)+(c-o)*(c-o)),i=l,o=c}return s}var tb=[1/0,1/0,-1/0,-1/0],eb=[],nb=[],rb=[],ib=[];function ob(t){return t[3].declutterBox}var sb=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function ab(t,e){return"start"!==e&&"end"!==e||sb.test(t)||(e="start"===e?"left":"right"),Yv[e]}var lb=function(){function t(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var i=t+e+n+r;if(this.labels_[i])return this.labels_[i];var o=r?this.strokeStates[r]:null,s=n?this.fillStates[n]:null,a=this.textStates[e],l=this.pixelRatio,c=[a.scale[0]*l,a.scale[1]*l],u=ab(t,a.textAlign||"center"),h=r&&o.lineWidth?o.lineWidth:0,d=t.split("\n"),p=d.length,f=[],g=function(t,e,n){for(var r=e.length,i=0,o=0;o<r;++o){var s=Xg(t,e[o]);i=Math.max(i,s),n.push(s)}return i}(a.font,d,f),m=function(t){var e=Bg[t];if(null==e){if($p){var n=Ag(t),r=Wg(t,"\u017dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else Gg||((Gg=document.createElement("div")).innerHTML="M",Gg.style.minHeight="0",Gg.style.maxHeight="none",Gg.style.height="auto",Gg.style.padding="0",Gg.style.border="none",Gg.style.position="absolute",Gg.style.display="block",Gg.style.left="-99999px"),Gg.style.font=t,document.body.appendChild(Gg),e=Gg.offsetHeight,document.body.removeChild(Gg);Bg[t]=e}return e}(a.font),y=g+h,_=[],v=(y+2)*c[0],b=(m*p+h)*c[1],w={width:v<0?Math.floor(v):Math.ceil(v),height:b<0?Math.floor(b):Math.ceil(b),contextInstructions:_};1==c[0]&&1==c[1]||_.push("scale",c),_.push("font",a.font),r&&(_.push("strokeStyle",o.strokeStyle),_.push("lineWidth",h),_.push("lineCap",o.lineCap),_.push("lineJoin",o.lineJoin),_.push("miterLimit",o.miterLimit),($p?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(_.push("setLineDash",[o.lineDash]),_.push("lineDashOffset",o.lineDashOffset))),n&&_.push("fillStyle",s.fillStyle),_.push("textBaseline","middle"),_.push("textAlign","center");var x,C=.5-u,S=u*y+C*h;if(r)for(x=0;x<p;++x)_.push("strokeText",[d[x],S+C*f[x],.5*(h+m)+x*m]);if(n)for(x=0;x<p;++x)_.push("fillText",[d[x],S+C*f[x],.5*(h+m)+x*m]);return this.labels_[i]=w,w},t.prototype.replayTextBackground_=function(t,e,n,r,i,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,r,i,o,s,a,l,c,u,h,d,p,f,g){var m,y=n-(s*=h[0]),_=r-(a*=h[1]),v=i+l>t?t-l:i,b=o+c>e?e-c:o,w=p[3]+v*h[0]+p[1],x=p[0]+b*h[1]+p[2],C=y-p[3],S=_-p[0];return(f||0!==u)&&(eb[0]=C,ib[0]=C,eb[1]=S,nb[1]=S,nb[0]=C+w,rb[0]=nb[0],rb[1]=S+x,ib[1]=rb[1]),0!==u?(rf(m=of([1,0,0,1,0,0],n,r,1,1,u,-n,-r),eb),rf(m,nb),rf(m,rb),rf(m,ib),mf(Math.min(eb[0],nb[0],rb[0],ib[0]),Math.min(eb[1],nb[1],rb[1],ib[1]),Math.max(eb[0],nb[0],rb[0],ib[0]),Math.max(eb[1],nb[1],rb[1],ib[1]),tb)):mf(Math.min(C,C+w),Math.min(S,S+x),Math.max(C,C+w),Math.max(S,S+x),tb),d&&(y=Math.round(y),_=Math.round(_)),{drawImageX:y,drawImageY:_,drawImageW:v,drawImageH:b,originX:l,originY:c,declutterBox:{minX:tb[0],minY:tb[1],maxX:tb[2],maxY:tb[3],value:g},canvasTransform:m,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,r,i,o,s){var a=r.declutterBox,l=t.canvas,c=s?s[2]*r.scale[0]/2:0;return a.minX-c<=l.width/e&&a.maxX+c>=0&&a.minY-c<=l.height/e&&a.maxY+c>=0&&(!(!o&&!s)&&this.replayTextBackground_(t,eb,nb,rb,ib,o,s),function(t,e,n,r,i,o,s,a,l,c,u){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),function(t,e){for(var n=t.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}(r,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(r,i,o,s,a,0,0,s,a)):t.drawImage(r,i,o,s,a,l,c,s*u[0],a*u[1]),t.restore()}(t,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=rf(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.createLabel(t,e,r,n),s=this.strokeStates[n],a=this.pixelRatio,l=ab(t,i.textAlign||"center"),c=Yv[i.textBaseline||"middle"],u=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*i.scale[0])+2*(.5-l)*u,anchorY:c*o.height/a+2*(.5-c)*u}},t.prototype.execute_=function(t,e,n,r,i,o,s,a){var l,c,u;this.pixelCoordinates_&&Dp(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=ly(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(c=this.renderedTransform_)[0]=(u=n)[0],c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5]);for(var h,d,p,f,g,m,y,_,v,b,w,x,C,S,E,T,O=0,R=r.length,P=0,I=0,A=0,k=null,F=null,j=this.coordinateCache_,M=this.viewRotation_,L=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,D={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:M},N=this.instructions!=r||this.overlaps?0:200;O<R;){var z=r[O];switch(z[0]){case Dv.BEGIN_GEOMETRY:T=z[3],(C=z[1]).getGeometry()?void 0===s||Lf(s,T.getExtent())?++O:O=z[2]+1:O=z[2];break;case Dv.BEGIN_PATH:I>N&&(this.fill_(t),I=0),A>N&&(t.stroke(),A=0),I||A||(t.beginPath(),f=NaN,g=NaN),++O;break;case Dv.CIRCLE:var q=l[P=z[1]],V=l[P+1],G=l[P+2]-q,U=l[P+3]-V,B=Math.sqrt(G*G+U*U);t.moveTo(q+B,V),t.arc(q,V,B,0,2*Math.PI,!0),++O;break;case Dv.CLOSE_PATH:t.closePath(),++O;break;case Dv.CUSTOM:P=z[1],h=z[2];var H=z[4],W=6==z.length?z[5]:void 0;D.geometry=z[3],D.feature=C,O in j||(j[O]=[]);var X=j[O];W?W(l,P,h,2,X):(X[0]=l[P],X[1]=l[P+1],X.length=2),H(X,D),++O;break;case Dv.DRAW_IMAGE:P=z[1],h=z[2],d=z[4],p=z[5];var Z=z[6],Y=z[7],K=z[8],$=z[9],J=z[10],Q=z[11],tt=z[12],et=z[13],nt=z[14];if(!(_=z[3])&&z.length>=19){var rt=this.drawLabelWithPointPlacement_(v=z[18],b=z[19],w=z[20],x=z[21]);z[3]=_=rt.label,z[4]=d=(rt.anchorX-z[22])*this.pixelRatio,z[5]=p=(rt.anchorY-z[23])*this.pixelRatio,z[6]=Z=_.height,z[13]=et=_.width}var it=void 0;z.length>24&&(it=z[24]);var ot=void 0,st=void 0,at=void 0;z.length>16?(ot=z[15],st=z[16],at=z[17]):(ot=zg,st=!1,at=!1),J&&L?Q+=M:J||L||(Q-=M);for(var lt=0;P<h;P+=2)if(!(it&&it[lt++]<et/this.pixelRatio)){var ct=[t,e,_,jt=this.calculateImageOrLabelDimensions_(_.width,_.height,l[P],l[P+1],et,Z,d,p,K,$,Q,tt,i,ot,st||at,C),Y,st?k:null,at?F:null],ut=void 0,ht=void 0;if(a&&nt){var dt=h-P;if(!nt[dt]){nt[dt]=ct;continue}if(ut=nt[dt],delete nt[dt],ht=ob(ut),a.collides(ht))continue}a&&a.collides(jt.declutterBox)||(ut&&(a&&a.insert(ht),this.replayImageOrLabel_.apply(this,ut)),a&&a.insert(jt.declutterBox),this.replayImageOrLabel_.apply(this,ct))}++O;break;case Dv.DRAW_CHARS:var pt=z[1],ft=z[2],gt=z[3],mt=z[4];x=z[5];var yt=z[6],_t=z[7],vt=z[8];w=z[9];var bt=z[10];v=z[11];var wt=[z[13],z[13]],xt=this.textStates[b=z[12]],Ct=xt.font,St=[xt.scale[0]*_t,xt.scale[1]*_t],Et=void 0;Ct in this.widths_?Et=this.widths_[Ct]:this.widths_[Ct]=Et={};var Tt=Qv(l,pt,ft,2),Ot=Math.abs(St[0])*Zg(Ct,v,Et);if(mt||Ot<=Tt){var Rt=Jv(l,pt,ft,2,v,(Tt-Ot)*Yv[this.textStates[b].textAlign],yt,Math.abs(St[0]),Zg,Ct,Et,L?0:this.viewRotation_);t:if(Rt){var Pt=[],It=void 0,At=void 0,kt=void 0,Ft=void 0;if(w)for(It=0,At=Rt.length;It<At;++It){kt=this.createLabel((Ft=Rt[It])[4],b,"",w);var jt=this.calculateImageOrLabelDimensions_(kt.width,kt.height,Ft[0],Ft[1],kt.width,kt.height,d=Ft[2]+(St[0]<0?-bt:bt),p=gt*kt.height+2*(.5-gt)*bt*St[1]/St[0]-vt,0,0,Ft[3],wt,!1,zg,!1,C);if(a&&a.collides(jt.declutterBox))break t;Pt.push([t,e,kt,jt,1,null,null])}if(x)for(It=0,At=Rt.length;It<At;++It){if(kt=this.createLabel((Ft=Rt[It])[4],b,x,""),jt=this.calculateImageOrLabelDimensions_(kt.width,kt.height,Ft[0],Ft[1],kt.width,kt.height,d=Ft[2],p=gt*kt.height-vt,0,0,Ft[3],wt,!1,zg,!1,C),a&&a.collides(jt.declutterBox))break t;Pt.push([t,e,kt,jt,1,null,null])}a&&a.load(Pt.map(ob));for(var Mt=0,Lt=Pt.length;Mt<Lt;++Mt)this.replayImageOrLabel_.apply(this,Pt[Mt])}}++O;break;case Dv.END_GEOMETRY:if(void 0!==o){var Dt=o(C=z[1],T);if(Dt)return Dt}++O;break;case Dv.FILL:N?I++:this.fill_(t),++O;break;case Dv.MOVE_TO_LINE_TO:for(h=z[2],y=(E=l[(P=z[1])+1])+.5|0,(m=(S=l[P])+.5|0)===f&&y===g||(t.moveTo(S,E),f=m,g=y),P+=2;P<h;P+=2)m=(S=l[P])+.5|0,y=(E=l[P+1])+.5|0,P!=h-2&&m===f&&y===g||(t.lineTo(S,E),f=m,g=y);++O;break;case Dv.SET_FILL_STYLE:k=z,this.alignFill_=z[2],I&&(this.fill_(t),I=0,A&&(t.stroke(),A=0)),t.fillStyle=z[1],++O;break;case Dv.SET_STROKE_STYLE:F=z,A&&(t.stroke(),A=0),this.setStrokeStyle_(t,z),++O;break;case Dv.STROKE:N?A++:t.stroke(),++O;break;default:++O}}I&&this.fill_(t),A&&t.stroke()},t.prototype.execute=function(t,e,n,r,i,o){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,i,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,i)},t}(),cb=["Polygon","Circle","LineString","Image","Text","Default"],ub=function(){function t(t,e,n,r,i,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(i)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var r=t[e];for(var i in r)n[i]=new lb(this.resolution_,this.pixelRatio_,this.overlaps_,r[i])}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o){var s=2*(r=Math.round(r))+1,a=of(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=kg(s,s));var c,u=this.hitDetectionContext_;u.canvas.width!==s||u.canvas.height!==s?(u.canvas.width=s,u.canvas.height=s):l||u.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(wf(c=[1/0,1/0,-1/0,-1/0],t),cf(c,e*(this.renderBuffer_+r),c));var h,d=function(t){if(void 0!==hb[t])return hb[t];for(var e=2*t+1,n=t*t,r=new Array(n+1),i=0;i<=t;++i)for(var o=0;o<=t;++o){var s=i*i+o*o;if(s>n)break;var a=r[s];a||(r[s]=a=[]),a.push(4*((t+i)*e+(t+o))+3),i>0&&a.push(4*((t-i)*e+(t+o))+3),o>0&&(a.push(4*((t+i)*e+(t-o))+3),i>0&&a.push(4*((t-i)*e+(t-o))+3))}for(var l=[],c=(i=0,r.length);i<c;++i)r[i]&&l.push.apply(l,r[i]);return hb[t]=l,l}(r);function p(t,e){for(var n=u.getImageData(0,0,s,s).data,a=0,l=d.length;a<l;a++)if(n[d[a]]>0){if(!o||"Image"!==h&&"Text"!==h||-1!==o.indexOf(t)){var c=(d[a]-3)/4,p=r-c%s,f=r-(c/s|0),g=i(t,e,p*p+f*f);if(g)return g}u.clearRect(0,0,s,s);break}}var f,g,m,y,_,v=Object.keys(this.executorsByZIndex_).map(Number);for(v.sort(Fp),f=v.length-1;f>=0;--f){var b=v[f].toString();for(m=this.executorsByZIndex_[b],g=cb.length-1;g>=0;--g)if(void 0!==(y=m[h=cb[g]])&&(_=y.executeHitDetection(u,a,n,p,c)))return _}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],s=[n,r,n,o,i,o,i,r];return ly(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return og(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,r,i,o,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(Fp),this.maxExtent_&&(t.save(),this.clip(t,n));var l,c,u,h,d,p,f=o||cb;for(s&&a.reverse(),l=0,c=a.length;l<c;++l){var g=a[l].toString();for(d=this.executorsByZIndex_[g],u=0,h=f.length;u<h;++u)void 0!==(p=d[f[u]])&&p.execute(t,e,n,r,i,s)}this.maxExtent_&&t.restore()},t}(),hb={},db=ub,pb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fb=function(t){function e(e,n,r,i,o,s,a){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=r,l.transform_=i,l.viewRotation_=o,l.squaredTolerance_=s,l.userTransform_=a,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return pb(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=ly(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,u=i.length;c<u;c+=2){var h=i[c]-this.imageAnchorX_,d=i[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=h+this.imageAnchorX_,f=d+this.imageAnchorY_;of(s,p,f,1,1,l,-p,-f),o.setTransform.apply(o,s),o.translate(p,f),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,d,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=ly(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=r){var a=i[e]+this.textOffsetX_,l=i[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var c=of(this.tmpLocalTransform_,a,l,1,1,s,-a,-l);o.setTransform.apply(o,c),o.translate(a,l),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,a,l),this.textFillState_&&o.fillText(this.text_,a,l)}}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,s=ly(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;i&&(a-=2);for(var l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if(Lf(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return ly(r,0,r.length,i,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Lf(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Lf(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Lf(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var a=0,l=o.length;a<l;++a)i=this.moveToLineTo_(r,i,o[a],s,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Lf(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Lf(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=i.length;s<a;++s)r=this.drawRings_(n,r,i[s],o);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Dp(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var r=t.getColor();this.fillState_={fillStyle:_v(r||"#000")}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),l=e.getLineJoin(),c=e.getWidth(),u=e.getMiterLimit(),h=s||Ng;this.strokeState_={lineCap:void 0!==o?o:"round",lineDash:1===this.pixelRatio_?h:h.map(function(t){return t*n.pixelRatio_}),lineDashOffset:(a||0)*this.pixelRatio_,lineJoin:void 0!==l?l:"round",lineWidth:(void 0!==c?c:1)*this.pixelRatio_,miterLimit:void 0!==u?u:10,strokeStyle:_v(i||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:_v(n||"#000")}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),s=r.getLineDash(),a=r.getLineDashOffset(),l=r.getLineJoin(),c=r.getWidth(),u=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:s||Ng,lineDashOffset:a||0,lineJoin:void 0!==l?l:"round",lineWidth:void 0!==c?c:1,miterLimit:void 0!==u?u:10,strokeStyle:_v(i||"#000")}}else this.textStrokeState_=null;var h=t.getFont(),d=t.getOffsetX(),p=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation(),m=t.getScaleArray(),y=t.getText(),_=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==_?_:"center",textBaseline:void 0!==v?v:"middle"},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}else this.text_=""},e}(Nv),gb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mb=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return gb(e,t),e.prototype.changed=function(){this.dispatchEvent("change")},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Vp()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Vp()},e}(ag),yb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function _b(t,e,n){var r=t;if(r.src&&Jp){var i=r.decode(),o=!0;return i.then(function(){o&&e()}).catch(function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){o=!1}}var s=[cg(r,"load",e),cg(r,"error",n)];return function(){s.forEach(ug)}}!function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n,r,0)||this;return a.src_=i,a.image_=new Image,null!==o&&(a.image_.crossOrigin=o),a.unlisten_=null,a.state=0,a.imageLoadFunction_=s,a}yb(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Af(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},e.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=_b(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Af(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(mb);var vb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bb=null,wb=function(t){function e(e,n,r,i,o,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==i&&(a.image_.crossOrigin=i),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=o,a.size_=r,a.src_=n,a}return vb(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){bb||(bb=kg(1,1)),bb.drawImage(this.image_,0,0);try{bb.getImageData(0,0,1,1),this.tainted_=!1}catch(t){bb=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},e.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=kg(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=_b(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=Zf(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,o=this.color_[0]/255,s=this.color_[1]/255,a=this.color_[2]/255,l=this.color_[3],c=0,u=i.length;c<u;c+=4)i[c]*=o,i[c+1]*=s,i[c+2]*=a,i[c+3]*=l;n.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ag),xb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cb=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{opacity:void 0!==r.opacity?r.opacity:1,rotation:void 0!==r.rotation?r.rotation:0,scale:void 0!==r.scale?r.scale:1,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:"fraction",n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var i=void 0!==r.img?r.img:null,o=void 0!==r.imgSize?r.imgSize:null,s=r.src;nf(!(void 0!==s&&i),4),nf(!i||i&&o,5),void 0!==s&&0!==s.length||!i||(s=i.src||Up(i)),nf(void 0!==s&&s.length>0,6);var a=void 0!==r.src?0:2;return n.color_=void 0!==r.color?Kf(r.color):null,n.iconImage_=function(t,e,n,r,i,o){var s=tg.get(e,r,o);return s||(s=new wb(t,e,n,r,i,o),tg.set(e,r,o,s)),s}(i,s,o,n.crossOrigin_,a,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return xb(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}var n=this.getDisplacement();return t[0]-=n[0],t[1]+=n[1],this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if("top-left"!=this.offsetOrigin_){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener("change",t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener("change",t)},e}(yv),Sb={Point:function(t,e,n,r,i){var o,s=n.getImage(),a=n.getText();if(i&&(t=i,o=s&&a&&a.getText()?{}:void 0),s){if(2!=s.getImageState())return;var l=t.getBuilder(n.getZIndex(),"Image");l.setImageStyle(s,o),l.drawPoint(e,r)}if(a&&a.getText()){var c=t.getBuilder(n.getZIndex(),"Text");c.setTextStyle(a,o),c.drawText(e,r)}},LineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,r)}var a=n.getText();if(a&&a.getText()){var l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r)}},Polygon:function(t,e,n,r,i){var o=n.getFill(),s=n.getStroke();if(o||s){var a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,r)}var l=n.getText();if(l&&l.getText()){var c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}},MultiPoint:function(t,e,n,r,i){var o,s=n.getImage(),a=n.getText();if(i&&(t=i,o=s&&a&&a.getText()?{}:void 0),s){if(2!=s.getImageState())return;var l=t.getBuilder(n.getZIndex(),"Image");l.setImageStyle(s,o),l.drawMultiPoint(e,r)}if(a&&a.getText()){var c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(a,o),c.drawText(e,r)}},MultiLineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,r)}var a=n.getText();if(a&&a.getText()){var l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r)}},MultiPolygon:function(t,e,n,r,i){var o=n.getFill(),s=n.getStroke();if(s||o){var a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,r)}var l=n.getText();if(l&&l.getText()){var c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}},GeometryCollection:function(t,e,n,r,i){var o,s,a=e.getGeometriesArray();for(o=0,s=a.length;o<s;++o)(0,Sb[a[o].getType()])(t,a[o],n,r,i)},Circle:function(t,e,n,r,i){var o=n.getFill(),s=n.getStroke();if(o||s){var a=t.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(e,r)}var l=n.getText();if(l&&l.getText()){var c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}};function Eb(t,e){return parseInt(Up(t),10)-parseInt(Up(e),10)}function Tb(t,e){return.5*t/e}function Ob(t,e,n,r,i,o,s){var a=!1,l=n.getImage();if(l){var c=l.getImageState();2==c||3==c?l.unlistenImageChange(i):(0==c&&l.load(),c=l.getImageState(),l.listenImageChange(i),a=!0)}return function(t,e,n,r,i,o){var s=n.getGeometryFunction()(e);if(s){var a=s.simplifyTransformed(r,i);n.getRenderer()?Rb(t,a,n,e):(0,Sb[a.getType()])(t,a,n,e,o)}}(t,e,n,r,o,s),a}function Rb(t,e,n,r){if("GeometryCollection"!=e.getType())t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer());else for(var i=e.getGeometries(),o=0,s=i.length;o<s;++o)Rb(t,i[o],n,r)}var Pb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ib=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return Pb(e,t),e.prototype.useContainer=function(e,n,r){r<1&&(e=null),t.prototype.useContainer.call(this,e,n,r)},e.prototype.renderWorlds=function(t,e,n){var r=e.extent,i=e.viewState,o=i.center,s=i.resolution,a=i.projection,l=i.rotation,c=a.getExtent(),u=this.getLayer().getSource(),h=e.pixelRatio,d=e.viewHints,p=!(d[0]||d[1]),f=this.context,g=Math.round(e.size[0]*h),m=Math.round(e.size[1]*h),y=u.getWrapX()&&a.canWrapX(),_=y?Mf(c):null,v=y?Math.ceil((r[2]-c[2])/_)+1:1,b=y?Math.floor((r[0]-c[0])/_):0;do{var w=this.getRenderTransform(o,s,l,h,g,m,b*_);t.execute(f,1,w,l,p,void 0,n)}while(++b<v)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];!function(t,e,n){!function(t,e,n,r,i,o,s){t[0]=e,t[1]=0,t[2]=0,t[3]=i,t[4]=0,t[5]=0}(t,e,0,0,n)}(this.pixelTransform,1/n,1/n),sf(this.inversePixelTransform,this.pixelTransform);var i=af(this.pixelTransform);this.useContainer(e,i,r.opacity);var o=this.context,s=o.canvas,a=this.replayGroup_,l=this.declutterExecutorGroup;if((!a||a.isEmpty())&&(!l||l.isEmpty()))return!this.containerReused&&s.width>0&&(s.width=0),this.container;var c=Math.round(t.size[0]*n),u=Math.round(t.size[1]*n);s.width!=c||s.height!=u?(s.width=c,s.height=u,s.style.transform!==i&&(s.style.transform=i)):this.containerReused||o.clearRect(0,0,c,u),this.preRender(o,t);var h=t.viewState,d=!1,p=!0;if(r.extent&&this.clipping){var f=Km(r.extent);(d=(p=Lf(f,t.extent))&&!pf(f,t.extent))&&this.clipUnrotated(o,t,f)}p&&this.renderWorlds(a,t),d&&o.restore(),this.postRender(o,t);var g=r.opacity,m=this.container;return g!==parseFloat(m.style.opacity)&&(m.style.opacity=1===g?"":String(g)),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise((function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];rf(this.pixelTransform,n);var r=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,a=this.wrappedRenderedExtent_,l=this.getLayer(),c=[],u=.5*n[0],h=.5*n[1];c.push(this.getRenderTransform(r,i,o,.5,u,h,0).slice());var d=l.getSource(),p=s.getExtent();if(d.getWrapX()&&s.canWrapX()&&!pf(p,a)){for(var f=a[0],g=Mf(p),m=0;f<p[0];)--m,c.push(this.getRenderTransform(r,i,o,.5,u,h,g*m).slice()),f+=g;for(m=0,f=a[2];f>p[2];)++m,c.push(this.getRenderTransform(r,i,o,.5,u,h,g*m).slice()),f-=g}this.hitDetectionImageData_=function(t,e,n,r,i,o,s){var a=kg(.5*t[0],.5*t[1]);a.imageSmoothingEnabled=!1;for(var l=a.canvas,c=new fb(a,.5,i,null,s),u=n.length,h=Math.floor(16777215/u),d={},p=1;p<=u;++p){var f=n[p-1],g=f.getStyleFunction()||r;if(r){var m=g(f,o);if(m){Array.isArray(m)||(m=[m]);for(var y="#"+("000000"+(p*h).toString(16)).slice(-6),_=0,v=m.length;_<v;++_){var b=m[_],w=b.getGeometryFunction()(f);if(w&&Lf(i,w.getExtent())){var x=b.clone(),C=x.getFill();C&&C.setColor(y);var S=x.getStroke();S&&(S.setColor(y),S.setLineDash(null)),x.setText(void 0);var E=b.getImage();if(E&&0!==E.getOpacity()){var T=E.getImageSize();if(!T)continue;var O=kg(T[0],T[1],void 0,{alpha:!1}),R=O.canvas;O.fillStyle=y,O.fillRect(0,0,R.width,R.height),x.setImage(new Cb({img:R,imgSize:T,anchor:E.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:E.getOrigin(),opacity:1,size:E.getSize(),scale:E.getScale(),rotation:E.getRotation(),rotateWithView:E.getRotateWithView()}))}var P=x.getZIndex()||0;(k=d[P])||(d[P]=k={},k.Polygon=[],k.Circle=[],k.LineString=[],k.Point=[]),k[w.getType().replace("Multi","")].push(w,x)}}}}}for(var I=Object.keys(d).map(Number).sort(Fp),A=(p=0,I.length);p<A;++p){var k=d[I[p]];for(var F in k){var j=k[F];for(_=0,v=j.length;_<v;_+=2){c.setStyle(j[_+1]);for(var M=0,L=e.length;M<L;++M)c.setTransform(e[M]),c.drawGeometry(j[_])}}}return a.getImageData(0,0,l.width,l.height)}(n,c,this.renderedFeatures_,l.getStyleFunction(),a,i,o)}e(function(t,e,n){var r=[];if(n){var i=Math.floor(.5*Math.round(t[0])),o=Math.floor(.5*Math.round(t[1])),s=4*(Nf(i,0,n.width-1)+Nf(o,0,n.height-1)*n.width),a=n.data[s+2]+256*(n.data[s+1]+256*n.data[s]),l=Math.floor(16777215/e.length);a&&a%l==0&&r.push(e[a/l-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this;if(this.replayGroup_){var s,a=e.viewState.resolution,l=e.viewState.rotation,c=this.getLayer(),u={},h=function(t,e,n){var o=Up(t),s=u[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return u[o]=!0,i.splice(i.lastIndexOf(s),1),r(t,c,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return u[o]=!0,r(t,c,e);i.push(u[o]={feature:t,layer:c,geometry:e,distanceSq:n,callback:r})}},d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some(function(r){return s=r.forEachFeatureAtCoordinate(t,a,l,n,h,r===o.declutterExecutorGroup?e.declutterTree.all().map(function(t){return t.value}):null)}),s}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[0],i=t.viewHints[1],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!s&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var a=t.extent,l=t.viewState,c=l.projection,u=l.resolution,h=t.pixelRatio,d=e.getRevision(),p=e.getRenderBuffer(),f=e.getRenderOrder();void 0===f&&(f=Eb);var g=l.center.slice(),m=cf(a,p*u),y=m.slice(),_=[m.slice()],v=c.getExtent();if(n.getWrapX()&&c.canWrapX()&&!pf(v,t.extent)){var b=Mf(v),w=Math.max(Mf(m)/2,b);m[0]=v[0]-w,m[2]=v[2]+w,Cg(g,c);var x=function(t,e){var n=e.getExtent(),r=Rf(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=Mf(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}(_[0],c);x[0]<v[0]&&x[2]<v[2]?_.push([x[0]+b,x[1],x[2]+b,x[3]]):x[0]>v[0]&&x[2]>v[2]&&_.push([x[0]-b,x[1],x[2]-b,x[3]])}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==f&&pf(this.wrappedRenderedExtent_,m))return Dp(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var C,S,E,T=new $v(Tb(u,h),m,u,h);for(this.getLayer().getDeclutter()&&(C=new $v(Tb(u,h),m,u,h)),S=0,E=_.length;S<E;++S)n.loadFeatures(_[S],u,c);var O=function(t,e){var n=Tb(t,e);return n*n}(u,h),R=(function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,u)),n){var i=this.renderFeature(t,O,n,T,undefined,C);this.dirty_=this.dirty_||i}}).bind(this),P=Ym(m),I=n.getFeaturesInExtent(P);for(f&&I.sort(f),S=0,E=I.length;S<E;++S)R(I[S]);this.renderedFeatures_=I;var A=T.finish(),k=new db(m,u,h,n.getOverlaps(),A,e.getRenderBuffer());return C&&(this.declutterExecutorGroup=new db(m,u,h,n.getOverlaps(),C.finish(),e.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=f,this.renderedExtent_=y,this.wrappedRenderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=c,this.replayGroup_=k,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i,o){if(!n)return!1;var s=!1;if(Array.isArray(n))for(var a=0,l=n.length;a<l;++a)s=Ob(r,t,n[a],e,this.boundHandleStyleImageChange_,i,o)||s;else s=Ob(r,t,n,e,this.boundHandleStyleImageChange_,i,o);return s},e}(lv),Ab=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kb=function(t){function e(e){return t.call(this,e)||this}return Ab(e,t),e.prototype.createRenderer=function(){return new Ib(this)},e}(Av),Fb=function(){function t(t){this.rbush_=new mv(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Up(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],s=e[r],a={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[r]=a,this.items_[Up(s)]=a}this.rbush_.load(n)},t.prototype.remove=function(t){var e=Up(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[Up(e)];vf([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return og(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return mf(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),jb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Mb(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var Lb=function(t){function e(e){var n=t.call(this)||this;return n.projection=zm(e.projection),n.attributions_=Mb(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return jb(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Vp()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Mb(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(gg);function Db(t,e){return[[-1/0,-1/0,1/0,1/0]]}function Nb(t,e){return function(n,r,i,o,s){var a=this;!function(t,e,n,r,i,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,r,i):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=!1,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r=e.getType(),l=void 0;"json"==r||"text"==r?l=a.responseText:"xml"==r?(l=a.responseXML)||(l=(new DOMParser).parseFromString(a.responseText,"application/xml")):"arraybuffer"==r&&(l=a.response),l?o(e.readFeatures(l,{extent:n,featureProjection:i}),e.readProjection(l)):s()}else s()},a.onerror=s,a.send()}(t,e,n,r,i,function(t,e){a.addFeatures(t),void 0!==o&&o(t)},s||qp)}}var zb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qb=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.feature=n,i.features=r,i}return zb(e,t),e}(eg),Vb=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,projection:void 0,state:"ready",wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=qp,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(nf(n.format_,7),n.loader_=Nb(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:Db;var i,o,s=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=s?new Fb:null,n.loadedExtentsRtree_=new Fb,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(i=r.features).getArray()),s||void 0!==i||(i=new Qg(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==i&&n.bindFeaturesCollection_(i),n}return zb(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Up(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new qb("addfeature",t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[lg(e,"change",this.handleFeatureChange_,this),lg(e,"propertychange",this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(nf(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],i=0,o=t.length;i<o;i++){var s=Up(l=t[i]);this.addToIndex_(s,l)&&n.push(l)}i=0;for(var a=n.length;i<a;i++){var l;s=Up(l=n[i]),this.setupChangeEvents_(s,l);var c=l.getGeometry();if(c){var u=c.getExtent();e.push(u),r.push(l)}else this.nullGeometryFeatures_[s]=l}this.featuresRtree_&&this.featuresRtree_.load(e,r),i=0;for(var h=n.length;i<h;i++)this.dispatchEvent(new qb("addfeature",n[i]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener("addfeature",function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener("removefeature",function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener("add",(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}).bind(this)),t.addEventListener("remove",(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}).bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(ug);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new qb("clear");this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){return this.forEachFeatureInExtent([t[0],t[1],t[0],t[1]],function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),og(this.nullGeometryFeatures_)||Lp(t,ig(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||Np;return this.featuresRtree_.forEachInExtent(a,function(t){if(l(t)){var e=t.getGeometry(),c=s;if((s=e.closestPointXY(n,r,o,s))<c){i=t;var u=Math.sqrt(s);a[0]=n-u,a[1]=r-u,a[2]=n+u,a[3]=r+u}}}),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Up(e),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var s=o.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new qb("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Up(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&og(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){for(var r=this.loadedExtentsRtree_,i=this.strategy_(t,e),o=function(t,o){var a=i[t];r.forEachInExtent(a,function(t){return pf(t.extent,a)})||(++s.loadingExtentsCount_,s.dispatchEvent(new qb("featuresloadstart")),s.loader_.call(s,a,e,n,(function(t){--this.loadingExtentsCount_,this.dispatchEvent(new qb("featuresloadend",void 0,t))}).bind(s),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new qb("featuresloaderror"))}).bind(s)),r.insert(a,{extent:a.slice()}))},s=this,a=0,l=i.length;a<l;++a)o(a);this.loading=this.loader_!==qp&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(vf(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Up(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Up(t);this.featureChangeKeys_[e].forEach(ug),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new qb("removefeature",t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){nf(this.format_,7),this.url_=t,this.setLoader(Nb(t,this.format_))},e}(Lb),Gb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ub=function(t){function e(e){var n=t.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return Gb(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ug(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=lg(t,"change",this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(nf("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(gg),Bb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Hb(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}var Wb=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return Bb(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(ug),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(lg(this.geometries_[t],"change",this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<hf(this.getExtent(),t,e))return r;for(var i=this.geometries_,o=0,s=i.length;o<s;++o)r=i[o].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){yf(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)bf(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return Hb(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,i=!1,o=0,s=r.length;o<s;++o){var a=r[o],l=a.getSimplifiedGeometry(t);n.push(l),l!==a&&(i=!0)}if(i){var c=new e(null);return c.setGeometriesArray(n),c}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=Rf(this.getExtent()));for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(Hb(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(dy),Xb=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?zm(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===_m.TILE_PIXELS&&(r=zm(r)).setWorldExtent(e.extent),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return ng({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Vp()},t.prototype.readFeature=function(t,e){return Vp()},t.prototype.readFeatures=function(t,e){return Vp()},t.prototype.readGeometry=function(t,e){return Vp()},t.prototype.readProjection=function(t){return Vp()},t.prototype.writeFeature=function(t,e){return Vp()},t.prototype.writeFeatures=function(t,e){return Vp()},t.prototype.writeGeometry=function(t,e){return Vp()},t}();function Zb(t,e,n){var r,i=n?zm(n.featureProjection):null,o=n?zm(n.dataProjection):null;if(r=i&&o&&!Um(i,o)?(e?t.clone():t).transform(e?i:o,e?o:i):t,e&&n&&void 0!==n.decimals){var s=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t})}return r}var Yb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Kb(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}var $b=function(t){function e(){return t.call(this)||this}return Yb(e,t),e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(Kb(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(Kb(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Vp()},e.prototype.readFeaturesFromObject=function(t,e){return Vp()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(Kb(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Vp()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(Kb(t))},e.prototype.readProjectionFromObject=function(t){return Vp()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Vp()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Vp()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Vp()},e}(Xb);function Jb(t,e,n,r,i,o,s){var a,l,c=(n-e)/r;if(1===c)a=e;else if(2===c)a=e,l=i;else if(0!==c){for(var u=t[e],h=t[e+1],d=0,p=[0],f=e+r;f<n;f+=r){var g=t[f],m=t[f+1];d+=Math.sqrt((g-u)*(g-u)+(m-h)*(m-h)),p.push(d),u=g,h=m}var y=i*d,_=function(t,e,n){for(var r,i,o=Fp,s=0,a=t.length,l=!1;s<a;)(i=+o(t[r=s+(a-s>>1)],e))<0?s=r+1:(a=r,l=!i);return l?s:~s}(p,y);_<0?(l=(y-p[-_-2])/(p[-_-1]-p[-_-2]),a=e+(-_-2)*r):a=e+_*r}var v=s>1?s:2,b=o||new Array(v);for(f=0;f<v;++f)b[f]=void 0===a?NaN:void 0===l?t[a+f]:Hf(t[a+f],t[a+r+f],l);return b}function Qb(t,e,n,r,i,o){if(n==e)return null;var s;if(i<t[e+r-1])return o?((s=t.slice(e,e+r))[r-1]=i,s):null;if(t[n-1]<i)return o?((s=t.slice(n-r,n))[r-1]=i,s):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var a=e/r,l=n/r;a<l;){var c=a+l>>1;i<t[(c+1)*r-1]?l=c:a=c+1}var u=t[a*r-1];if(i==u)return t.slice((a-1)*r,(a-1)*r+r);var h=(i-u)/(t[(a+1)*r-1]-u);s=[];for(var d=0;d<r-1;++d)s.push(Hf(t[(a-1)*r+d],t[a*r+d],h));return s.push(i),s}var tw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ew=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return tw(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Lp(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<hf(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(yy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return qy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:Qb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,void 0!==e&&e)},e.prototype.getCoordinates=function(){return Oy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Jb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return Qv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Cy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return Vy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wy(this.flatCoordinates,0,t,this.stride),this.changed()},e}(gy),nw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rw=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(e[0]))i.setCoordinates(e,n);else if(void 0!==n&&r)i.setFlatCoordinates(n,e),i.ends_=r;else{for(var o=i.getLayout(),s=e,a=[],l=[],c=0,u=s.length;c<u;++c){var h=s[c];0===c&&(o=h.getLayout()),Lp(a,h.getFlatCoordinates()),l.push(a.length)}i.setFlatCoordinates(o,a),i.ends_=l}return i}return nw(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Lp(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<hf(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_y(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),by(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function(t,e,n,r,i,o,s){if(s)return Qb(t,e,n[n.length-1],r,i,o);var a;if(i<t[r-1])return o?((a=t.slice(0,r))[r-1]=i,a):null;if(t[t.length-1]<i)return o?((a=t.slice(t.length-r))[r-1]=i,a):null;for(var l=0,c=n.length;l<c;++l){var u=n[l];if(e!=u){if(i<t[e+r-1])return null;if(i<=t[u-1])return Qb(t,e,u,r,i,!1);e=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,void 0!==e&&e,void 0!==n&&n)},e.prototype.getCoordinates=function(){return Ry(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new ew(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],i=0,o=0,s=e.length;o<s;++o){var a=e[o],l=new ew(t.slice(i,a),n);r.push(l),i=a}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,i=this.stride,o=0,s=r.length;o<s;++o){var a=r[o];Lp(t,Jb(e,n,a,i,.5)),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,i,o,s,a){for(var l=0,c=n.length;l<c;++l){var u=n[l];s=Cy(t,e,u,r,i,o,s),a.push(s),e=u}return s}(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,"XY",r)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){if(Vy(t,e,n[o],r,i))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=xy(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(gy),iw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ow=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return iw(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Lp(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<hf(this.getExtent(),t,e))return r;for(var i=this.flatCoordinates,o=this.stride,s=0,a=i.length;s<a;s+=o){var l=Gf(t,e,i[s],i[s+1]);if(l<r){r=l;for(var c=0;c<o;++c)n[c]=i[s+c];n.length=o}}return r},e.prototype.getCoordinates=function(){return Oy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){return t<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=t?null:new My(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var s=new My(t.slice(i,i+n),e);r.push(s)}return r},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,i=e.length;r<i;r+=n)if(ff(t,e[r],e[r+1]))return!0;return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wy(this.flatCoordinates,0,t,this.stride),this.changed()},e}(gy),sw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aw=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=i.getLayout(),s=e,a=[],l=[],c=0,u=s.length;c<u;++c){var h=s[c];0===c&&(o=h.getLayout());for(var d=a.length,p=h.getEnds(),f=0,g=p.length;f<g;++f)p[f]+=d;Lp(a,h.getFlatCoordinates()),l.push(p)}n=o,e=a,r=l}return void 0!==n&&r?(i.setFlatCoordinates(n,e),i.endss_=r):i.setCoordinates(e,n),i}return sw(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Lp(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,i=(e=t.getEnds().slice()).length;r<i;++r)e[r]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();var i=new e(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,e,n,r){return r<hf(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];i=_y(t,e,a,r,i),e=a[a.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,r,i,o,s,a,l,c,u){for(var h=[NaN,NaN],d=0,p=n.length;d<p;++d){var f=n[d];c=by(t,e,f,r,i,!0,s,a,l,c,h),e=f[f.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,r))},e.prototype.containsXY=function(t,e){return function(t,e,n,r,i,o){if(0===n.length)return!1;for(var s=0,a=n.length;s<a;++s){var l=n[s];if(Ny(t,e,l,r,i,o))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,r){for(var i=0,o=0,s=n.length;o<s;++o){var a=n[o];i+=Ay(t,e,a,r),e=a[a.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Xy(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,Py(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,r){for(var i=[],o=[1/0,1/0,-1/0,-1/0],s=0,a=n.length;s<a;++s){var l=n[s];o=_f(t,e,l[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,r,i){for(var o=[],s=0,a=n.length;s<a;++s){var l=n[s];o=zy(t,e,l,r,i,2*s,o),e=l[l.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new ow(this.getFlatInteriorPoints().slice(),"XYM")},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(!Hy(t,e,a,r,void 0))return!1;a.length&&(e=a[a.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Xy(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,i,o,s,a){for(var l=0,c=n.length;l<c;++l){var u=n[l],h=[];s=Ty(t,e,u,r,i,o,s,h),a.push(h),e=u[u.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,"XY",r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(var o=0,s=r.length;o<s;++o)r[o]-=e;return new Ky(this.flatCoordinates.slice(e,i),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],i=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),l=a[a.length-1];if(0!==i)for(var c=0,u=a.length;c<u;++c)a[c]-=i;var h=new Ky(e.slice(i,l),t,a);r.push(h),i=l}return r},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(Gy(t,e,a,r,i))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,r,i){for(var o=i||[],s=0,a=0,l=n.length;a<l;++a){var c=xy(t,e,n[a],r,o[s]);o[s++]=c,e=c[c.length-1]}return o.length=s,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(gy),lw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function cw(t,e){if(!t)return null;var n;switch(t.type){case"Point":n=function(t){return new My(t.coordinates)}(t);break;case"LineString":n=function(t){return new ew(t.coordinates)}(t);break;case"Polygon":n=function(t){return new Ky(t.coordinates)}(t);break;case"MultiPoint":n=function(t){return new ow(t.coordinates)}(t);break;case"MultiLineString":n=function(t){return new rw(t.coordinates)}(t);break;case"MultiPolygon":n=function(t){return new aw(t.coordinates)}(t);break;case"GeometryCollection":n=function(t,e){var n=t.geometries.map(function(t){return cw(t,void 0)});return new Wb(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Zb(n,!1,e)}function uw(t,e){var n,r=(t=Zb(t,!0,e)).getType();switch(r){case"Point":n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=ng({},e);return delete n.featureProjection,uw(t,n)})}}(t,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}var hw,dw=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).dataProjection=zm(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=zm(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n}return lw(e,t),e.prototype.readFeatureFromObject=function(t,e){var n,r=cw((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),i=new Ub;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&i.setGeometryName(n.geometry_name),i.setGeometry(r),"id"in n&&i.setId(n.id),n.properties&&i.setProperties(n.properties,!0),i},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var r=t.features,i=0,o=r.length;i<o;++i)n.push(this.readFeatureFromObject(r[i],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return cw(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=zm(n.properties.name):"EPSG"===n.type?e=zm("EPSG:"+n.properties.code):nf(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();if(void 0!==r&&(n.id=r),!t.hasProperties())return n;var i=t.getProperties(),o=t.getGeometry();return o&&(n.geometry=uw(o,e),delete i[t.getGeometryName()]),og(i)||(n.properties=i),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return uw(t,this.adaptOptions(e))},e}($b),pw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fw=function(t){function e(e,n,r){var i=t.call(this)||this,o=r||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return pw(e,t),e.prototype.changed=function(){this.dispatchEvent("change")},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Vp()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else this.transitionStarts_[t]=n=e;var r=e-n+1e3/60;return r>=this.transition_?1:iy(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(ag),gw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mw=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n,s)||this;return a.crossOrigin_=i,a.src_=r,a.key=r,a.image_=new Image,null!==i&&(a.image_.crossOrigin=i),a.unlisten_=null,a.tileLoadFunction_=o,a}return gw(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=2,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=3,this.unlistenImage_(),this.image_=((t=kg(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?2:4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=_b(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(fw),yw=function(){function t(t,e,n,r,i,o){this.sourceProj_=t,this.targetProj_=e;var s={},a=Hm(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Mf(r)==Mf(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Mf(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Mf(this.targetProj_.getExtent()):null;var l=Ff(n),c=jf(n),u=Of(n),h=Tf(n),d=this.transformInv_(l),p=this.transformInv_(c),f=this.transformInv_(u),g=this.transformInv_(h),m=10+(o?Math.max(0,Math.ceil(qf(Ef(n)/(o*o*256*256)))):0);if(this.addQuad_(l,c,u,h,d,p,f,g,m),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}).bind(this))}s={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,i,o,s,a,l){var c=lf([i,o,s,a]),u=this.sourceWorldWidth_?Mf(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1,p=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=Mf(lf([t,e,n,r]))/this.targetWorldWidth_>.25||p),!d&&this.sourceProj_.isGlobal()&&u&&(p=u>.25||p)),!(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||Lf(c,this.maxSourceExtent_)){var f=0;if(!(p||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)p=!0;else if(1!=(f=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1))&&2!=f&&4!=f&&8!=f)return;if(l>0){if(!p){var g,m=this.transformInv_([(t[0]+n[0])/2,(t[1]+n[1])/2]);g=d?(Bf(i[0],h)+Bf(s[0],h))/2-Bf(m[0],h):(i[0]+s[0])/2-m[0];var y=(i[1]+s[1])/2-m[1];p=g*g+y*y>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var _=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(_),b=[(r[0]+t[0])/2,(r[1]+t[1])/2],w=this.transformInv_(b);this.addQuad_(t,e,_,b,i,o,v,w,l-1),this.addQuad_(b,_,n,r,w,v,s,a,l-1)}else{var x=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(x),S=[(n[0]+r[0])/2,(n[1]+r[1])/2],E=this.transformInv_(S);this.addQuad_(t,x,S,r,i,C,E,a,l-1),this.addQuad_(x,e,n,S,C,o,s,E,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&f)&&this.addTriangle_(t,n,r,i,s,a),0==(14&f)&&this.addTriangle_(t,n,e,i,s,o),f&&(0==(13&f)&&this.addTriangle_(e,r,t,o,a,i),0==(7&f)&&this.addTriangle_(e,r,n,o,a,s))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,r){var i=e.source;wf(t,i[0]),wf(t,i[1]),wf(t,i[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),_w={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function vw(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function bw(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function ww(t,e,n,r){var i=Wm(n,e,t),o=qm(e,r,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var l=t.getExtent();if(!l||df(l,i)){var c=qm(t,o,i)/o;isFinite(c)&&c>0&&(o/=c)}return o}var xw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cw=function(t){function e(e,n,r,i,o,s,a,l,c,u,h,d){var p=t.call(this,o,0)||this;p.renderEdges_=void 0!==h&&h,p.contextOptions_=d,p.pixelRatio_=a,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=i,p.wrappedTileCoord_=s||o,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var f=i.getTileCoordExtent(p.wrappedTileCoord_),g=p.targetTileGrid_.getExtent(),m=p.sourceTileGrid_.getExtent(),y=g?kf(f,g):f;if(0===Ef(y))return p.state=4,p;var _=e.getExtent();_&&(m=m?kf(m,_):_);var v=i.getResolution(p.wrappedTileCoord_[0]),b=function(t,e,n,r){var i=Rf(n),o=ww(t,e,i,r);return(!isFinite(o)||o<=0)&&Sf(n,function(n){return o=ww(t,e,n,r),isFinite(o)&&o>0}),o}(e,r,y,v);if(!isFinite(b)||b<=0)return p.state=4,p;if(p.triangulation_=new yw(e,r,y,m,b*(void 0!==u?u:.5),v),0===p.triangulation_.getTriangles().length)return p.state=4,p;p.sourceZ_=n.getZForResolution(b);var w=p.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(w[1]=Nf(w[1],m[1],m[3]),w[3]=Nf(w[3],m[1],m[3])):w=kf(w,m)),Ef(w)){for(var x=n.getTileRangeForExtentAndZ(w,p.sourceZ_),C=x.minX;C<=x.maxX;C++)for(var S=x.minY;S<=x.maxY;S++){var E=c(p.sourceZ_,C,S,a);E&&p.sourceTiles_.push(E)}0===p.sourceTiles_.length&&(p.state=4)}else p.state=4;return p}return xw(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(e,n,r){e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=3;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,r,i,o,s,a,l,c,u,h){var d=kg(Math.round(n*t),Math.round(n*e));if(ng(d,h),0===l.length)return d.canvas;function p(t){return Math.round(t*n)/n}d.scale(n,n),d.globalCompositeOperation="lighter";var f=[1/0,1/0,-1/0,-1/0];l.forEach(function(t,e,n){bf(f,t.extent)});var g=Mf(f),m=Af(f),y=kg(Math.round(n*g/r),Math.round(n*m/r));ng(y,h);var _=n/r;l.forEach(function(t,e,n){var r=t.extent[0]-f[0],i=-(t.extent[3]-f[3]),o=Mf(t.extent),s=Af(t.extent);t.image.width>0&&t.image.height>0&&y.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,r*_,i*_,o*_,s*_)});var v=Ff(s);return a.getTriangles().forEach(function(t,e,i){var s=t.source,a=t.target,l=s[0][0],c=s[0][1],u=s[1][0],g=s[1][1],m=s[2][0],_=s[2][1],b=p((a[0][0]-v[0])/o),w=p(-(a[0][1]-v[1])/o),x=p((a[1][0]-v[0])/o),C=p(-(a[1][1]-v[1])/o),S=p((a[2][0]-v[0])/o),E=p(-(a[2][1]-v[1])/o),T=l,O=c;l=0,c=0;var R=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>i&&(i=s,r=o)}if(0===i)return null;var a=t[r];t[r]=t[n],t[n]=a;for(var l=n+1;l<e;l++)for(var c=-t[l][n]/t[n][n],u=n;u<e+1;u++)n==u?t[l][u]=0:t[l][u]+=c*t[n][u]}for(var h=new Array(e),d=e-1;d>=0;d--){h[d]=t[d][e]/t[d][d];for(var p=d-1;p>=0;p--)t[p][e]-=t[p][d]*h[d]}return h}([[u-=T,g-=O,0,0,x-b],[m-=T,_-=O,0,0,S-b],[0,0,u,g,C-w],[0,0,m,_,E-w]]);if(R){if(d.save(),d.beginPath(),function(){if(void 0===hw){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",vw(t,4,5,4,0),vw(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;hw=bw(e,0)||bw(e,4)||bw(e,8)}return hw}()||h===_w){d.moveTo(x,C);for(var P=b-x,I=w-C,A=0;A<4;A++)d.lineTo(x+p((A+1)*P/4),C+p(A*I/3)),3!=A&&d.lineTo(x+p((A+1)*P/4),C+p((A+1)*I/3));d.lineTo(S,E)}else d.moveTo(x,C),d.lineTo(b,w),d.lineTo(S,E);d.clip(),d.transform(R[0],R[2],R[1],R[3],b,w),d.translate(f[0]-T,f[3]-O),d.scale(r/n,-r/n),d.drawImage(y.canvas,0,0),d.restore()}}),u&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach(function(t,e,n){var r=t.target,i=(r[0][0]-v[0])/o,s=-(r[0][1]-v[1])/o,a=(r[1][0]-v[0])/o,l=-(r[1][1]-v[1])/o,c=(r[2][0]-v[0])/o,u=-(r[2][1]-v[1])/o;d.beginPath(),d.moveTo(a,l),d.lineTo(i,s),d.lineTo(c,u),d.closePath(),d.stroke()}),d.restore()),d.canvas}(r,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(e,n,r){var i=e.getState();if(0==i||1==i){t++;var o=lg(e,"change",function(n){var r=e.getState();2!=r&&3!=r&&4!=r||(ug(o),0==--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}).bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,e,n){0==t.getState()&&t.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ug),this.sourcesListenerKeys_=null},e}(fw),Sw=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return nf(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return nf(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){nf(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function Ew(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function Tw(t,e,n){return t+"/"+e+"/"+n}function Ow(t){return Tw(t[0],t[1],t[2])}var Rw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rw(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=(e=this.peekFirstKey(),e.split("/").map(Number))[0];this.forEach((function(e){e.tileCoord[0]!==t&&(this.remove(Ow(e.tileCoord)),e.release())}).bind(this))}var e},e}(Sw),Iw=[0,0,0],Aw=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,nf(function(t,e,n){var r=function(t,e){return e-t}||Fp;return t.every(function(e,n){if(0===n)return!0;var i=r(t[n-1],e);return!(i>0||0===i)})}(this.resolutions_),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,nf(this.origins_.length==this.resolutions_.length,20));var i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=Ff(i)),nf(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,nf(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,nf(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){var n=new hv(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(i){var r=this.getTileRangeForExtentAndZ(i,e);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n},this):i&&this.calculateTileRanges_(i)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var s=r.minY,a=r.maxY;s<=a;++s)n([e,i,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var i,o,s=null,a=t[0]-1;for(2===this.zoomFactor_?(i=t[1],o=t[2]):s=this.getTileCoordExtent(t,r);a>=this.minZoom;){if(e(a,2===this.zoomFactor_?uv(i=Math.floor(i/2),i,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(s,a,n)))return!0;--a}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return uv(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var r=t[0],i=t[1],o=t[2];if(e===r)return uv(i,o,i,o,n);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,e-r),a=Math.floor(i*s),l=Math.floor(o*s);return e<r?uv(a,a,l,l,n):uv(a,Math.floor(s*(i+1))-1,l,Math.floor(s*(o+1))-1,n)}var c=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=i_(this.getTileSize(t),this.tmpSize_);return mf(r[0]+e.minX*o[0]*i,r[1]+e.minY*o[1]*i,r[0]+(e.maxX+1)*o[0]*i,r[1]+(e.maxY+1)*o[1]*i,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=Iw;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),uv(i,r[1],o,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=i_(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=i_(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,s=n[1]-(t[2]+1)*i[1]*r;return mf(o,s,o+i[0]*r,s+i[1]*r,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=i_(this.getTileSize(o),this.tmpSize_),c=r?.5:0,u=Math.floor((t-a[0])/n+(r?.5:0)),h=Math.floor((a[1]-e)/n+c),d=s*u/l[0],p=s*h/l[1];return r?(d=Math.ceil(d)-1,p=Math.ceil(p)-1):(d=Math.floor(d),p=Math.floor(p)),Ew(o,d,p,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),s=this.getResolution(n),a=i_(this.getTileSize(n),this.tmpSize_),l=r?.5:0,c=Math.floor((t-o[0])/s+(r?.5:0)),u=Math.floor((o[1]-e)/s+l),h=c/a[0],d=u/a[1];return r?(h=Math.ceil(h)-1,d=Math.ceil(d)-1):(h=Math.floor(h),d=Math.floor(d)),Ew(n,h,d,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){return Nf(jp(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();function kw(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return o=Fw(i=jw(t),void 0,void 0),new Aw({extent:i,origin:Pf(i,"top-left"),resolutions:o,tileSize:void 0});var i,o}(t),t.setDefaultTileGrid(e)),e}function Fw(t,e,n,r){for(var i=void 0!==e?e:42,o=Af(t),s=Mf(t),a=i_(void 0!==n?n:256),l=r>0?r:Math.max(s/a[0],o/a[1]),c=i+1,u=new Array(c),h=0;h<c;++h)u[h]=l/Math.pow(2,h);return u}function jw(t){var e=(t=zm(t)).getExtent();if(!e){var n=180*fm[_m.DEGREES]/t.getMetersPerUnit();e=mf(-n,-n,n,n)}return e}var Mw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lw=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=e.tileGrid;return r&&i_(r.getTileSize(r.getMinZoom()),[256,256]),n.tileCache=new Pw(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return Mw(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var o,s,a,l=!0,c=n.minX;c<=n.maxX;++c)for(var u=n.minY;u<=n.maxY;++u)s=Tw(e,c,u),a=!1,i.containsKey(s)&&(a=2===(o=i.get(s)).getState())&&(a=!1!==r(o)),a||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,r,i){return Vp()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:kw(t)},e.prototype.getTileCacheForProjection=function(t){return nf(Um(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r,i,o,s=this.getTileGridForProjection(n),a=this.getTilePixelRatio(e),l=i_(s.getTileSize(t),this.tmpSize);return 1==a?l:(void 0===(o=this.tmpSize)&&(o=[0,0]),o[0]=(r=l)[0]*(i=a)+.5|0,o[1]=r[1]*i+.5|0,o)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=jw(n);if(df(o,i))return e;var s=Mf(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,t.getTileCoordForCoordAndZ(i,r)}(r,t,n)),function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,r){},e}(Lb),Dw=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return Mw(e,t),e}(eg),Nw=Lw;function zw(t,e){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){return s?t.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){var t=e.getFullTileRange(s[0]);return nf(t,55),(t.getHeight()-s[2]-1).toString()}):void 0}}var qw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vw=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return qw(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=Up(n),i=n.getState();1==i?(this.tileLoadingKeys_[r]=!0,e="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=3==i?"tileloaderror":2==i?"tileloadend":void 0),null!=e&&this.dispatchEvent(new Dw(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=zw(t[i],e);return function(t){return 1===t.length?t[0]:function(e,n,r){if(e){var i=Bf(function(t){return(t[1]<<t[0])+t[2]}(e),t.length);return t[i](e,n,r)}}}(r)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var r=Tw(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(Nw),Gw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Uw(t,e){t.getImage().src=e}var Bw=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Uw,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:mw,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?_w:void 0,n.renderReprojectionEdges_=!1,n}return Gw(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==n?e:{})}},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Um(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Um(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Um(e,t)){var n=Up(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=kw(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Um(e,t))return this.tileCache;var n=Up(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Pw(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,r,i,o){var s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,i),l=a?this.tileUrlFunction(a,r,i):void 0,c=new this.tileClass(s,void 0!==l?0:4,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener("change",this.handleTileChange.bind(this)),c},e.prototype.getTile=function(t,e,n,r,i){var o=this.getProjection();if(o&&i&&!Um(o,i)){var s=this.getTileCacheForProjection(i),a=[t,e,n],l=void 0,c=Ow(a);s.containsKey(c)&&(l=s.get(c));var u=this.getKey();if(l&&l.key==u)return l;var h=this.getTileGridForProjection(o),d=this.getTileGridForProjection(i),p=this.getTileCoordForTileUrlFunction(a,i),f=new Cw(o,h,i,d,a,p,this.getTilePixelRatio(r),this.getGutter(),(function(t,e,n,r){return this.getTileInternal(t,e,n,r,o)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return f.key=u,l?(f.interimTile=l,f.refreshInterimChain(),s.replace(c,f)):s.set(c,f),f}return this.getTileInternal(t,e,n,r,o||i)},e.prototype.getTileInternal=function(t,e,n,r,i){var o=null,s=Tw(t,e,n),a=this.getKey();if(this.tileCache.containsKey(s)){if((o=this.tileCache.get(s)).key!=a){var l=o;(o=this.createTile_(t,e,n,r,i,a)).interimTile=0==l.getState()?l.interimTile:l,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,n,r,i,a),this.tileCache.set(s,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=zm(t);if(n){var r=Up(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(Vw),Hw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ww=function(t){function e(e){var n=e||{},r=void 0!==n.projection?n.projection:"EPSG:3857",i=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||zm("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Fw(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Aw(r)}({extent:jw(r),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,opaque:n.opaque,projection:r,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return Hw(e,t),e}(Bw),Xw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zw=function(t){function e(e){var n=e||{};return t.call(this,{attributions:void 0!==n.attributions?n.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:void 0!==n.crossOrigin?n.crossOrigin:"anonymous",imageSmoothing:n.imageSmoothing,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,opaque:void 0===n.opaque||n.opaque,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:n.wrapX,zDirection:n.zDirection})||this}return Xw(e,t),e}(Ww),Yw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kw=function(t){function e(e){var n=t.call(this)||this;n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",n.element.style.position="absolute",n.element.style.pointerEvents="auto";var r=e.autoPan;return r&&"object"!=typeof r&&(r={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=r||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener("element",n.handleElementChanged),n.addChangeListener("map",n.handleMapChanged),n.addChangeListener("offset",n.handleOffsetChanged),n.addChangeListener("position",n.handlePositionChanged),n.addChangeListener("positioning",n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:"top-left"),void 0!==e.position&&n.setPosition(e.position),n}return Yw(e,t),e.prototype.getElement=function(){return this.get("element")},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get("map")},e.prototype.getOffset=function(){return this.get("offset")},e.prototype.getPosition=function(){return this.get("position")},e.prototype.getPositioning=function(){return this.get("positioning")},e.prototype.handleElementChanged=function(){Dg(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Lg(this.element),ug(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=lg(t,"postrender",this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set("element",t)},e.prototype.setMap=function(t){this.set("map",t)},e.prototype.setOffset=function(t){this.set("offset",t)},e.prototype.setPosition=function(t){this.set("position",t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get("position")){var n=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),i=this.getRect(r,[Fg(r),jg(r)]),o=t||{},s=void 0===o.margin?20:o.margin;if(!pf(n,i)){var a=i[0]-n[0],l=n[2]-i[2],c=i[1]-n[1],u=n[3]-i[3],h=[0,0];if(a<0?h[0]=a-s:l<0&&(h[0]=Math.abs(l)+s),c<0?h[1]=c-s:u<0&&(h[1]=Math.abs(u)+s),0!==h[0]||0!==h[1]){var d=e.getView().getCenterInternal(),p=e.getPixelFromCoordinateInternal(d);if(!p)return;var f=[p[0]+h[0],p[1]+h[1]],g=o.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(f),duration:g.duration,easing:g.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set("positioning",t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o="0%",s="0%";"bottom-right"==i||"center-right"==i||"top-right"==i?o="-100%":"bottom-center"!=i&&"center-center"!=i&&"top-center"!=i||(o="-50%"),"bottom-left"==i||"bottom-center"==i||"bottom-right"==i?s="-100%":"center-left"!=i&&"center-center"!=i&&"center-right"!=i||(s="-50%");var a="translate("+o+", "+s+") translate("+Math.round(t[0]+r[0])+"px, "+Math.round(t[1]+r[1])+"px)";this.rendered.transform_!=a&&(this.rendered.transform_=a,n.transform=a,n.msTransform=a)},e.prototype.getOptions=function(){return this.options},e}(gg),$w=JSON.parse('{"v":[{"number":"1","category":"Tr\xe1nsito","label":"\xedndice motorizaci\xf3n","name_ind":"ind_moto","description":"El \xedndice de motorizaci\xf3n es la relaci\xf3n entre la cantidad de veh\xedculos de motor registrados en una determinada unidad espacial de referencia y en un per\xedodo de tiempo (1 a\xf1o), por cada 1000 habitantes.","unit":"veh/1000 hab","color":"#c0c0c0","icon":"default.png","colorname":"Plateado","maxv":"150","info":"Es la relaci\xf3n entre la cantidad de veh\xedculos de motor registrados en una determinada unidad espacial de referencia y en un per\xedodo de tiempo (1 a\xf1o), por cada 1000 habitantes. El \xedndice de motorizaci\xf3n es uno de los indicadores de mayor relevancia para la movilidad, a su vez este dato puede compararse con a\xf1os anteriores para determinar el incremento o disminuci\xf3n del parque automotor y en funci\xf3n de ello realizar proyecciones.","formula":"image002","data":"IM = \xcdndice de motorizaci\xf3n\\r\\nVm = N\xfamero de veh\xedculos automotores registrados a excepci\xf3n de los que utilizan energ\xedas alternativas (h\xedbridos y el\xe9ctricos), en un per\xedodo de tiempo y una unidad espacial de referencia\\r\\nPt = N\xfamero de habitantes que viven dentro de la unidad espacial de referencia en un per\xedodo de tiempo\\r\\n","type":"geometry","cat":"false"},{"number":"2","category":"Tr\xe1nsito","label":"Automotores privados en circulaci\xf3n","name_ind":"autos_priv","description":"Relaci\xf3n de los veh\xedculos motorizados particulares que circulan por un punto determinado de la v\xeda (estaci\xf3n), con el total de veh\xedculos registrados en una unidad de tiempo (12 horas).","unit":"veh\xedculos","color":"#F4D03F","icon":"default.png","colorname":"Amarillo","maxv":"1000","info":"Es la relaci\xf3n de los veh\xedculos motorizados particulares que circulan por un punto determinado de la v\xeda (estaci\xf3n), con el total de veh\xedculos registrados en una unidad de tiempo (12 horas). La informaci\xf3n provista del indicador resulta fundamental para determinar el porcentaje en el que los veh\xedculos privados utilizan la v\xeda y con base en este dato implementar nuevas pol\xedticas de gesti\xf3n para disminuir su uso y reducir los impactos sobre el medio ambiente.","formula":"image004","data":"VMP = Veh\xedculos motorizados privados\\r\\nVp = N\xfamero de veh\xedculos privados de pasajeros que circulan en las 12 horas de conteo\\r\\nM = N\xfamero de motos que circulan en las 12 horas de conteo\\r\\n","type":"geometry","cat":"false"},{"number":"3","category":"Tr\xe1nsito","label":"Viajes en medios no motorizados","name_ind":"no_moto","description":"Proporci\xf3n de viajes que se realizan a trav\xe9s de medios no motorizados, es decir en bicicleta y a pie, en funci\xf3n del total de viajes realizados.","unit":"%","color":"#5DADE2","icon":"default.png","colorname":"Celeste","maxv":"50","info":"Es la proporci\xf3n de viajes que se realizan a trav\xe9s de medios no motorizados, es decir en bicicleta y a pie, en funci\xf3n del total de viajes realizados. Desde el punto de vista de la sostenibilidad, este tipo de movilidad es relevante al contribuir con el medio ambiente debido a que permite la reducci\xf3n de las emisiones de gases contaminantes, as\xed como la reducci\xf3n del consumo de combustibles f\xf3siles.","formula":"image006","data":"VMNM = Viajes en medios no motorizados\\r\\nVnm = Viajes realizados a pie y en bicicleta\\r\\nTv = N\xfamero total de viajes realizados seg\xfan las encuestas realizadas\\r\\n","type":"geometry","cat":"false"},{"number":"4","category":"Tr\xe1nsito","label":"Tr\xe1fico promedio diario anual TPDA","name_ind":"tpda","description":"El TPDA es el volumen total de veh\xedculos que pasan por un punto o secci\xf3n de carretera en un periodo de tiempo determinado, que es mayor a un d\xeda y menor o igual a un a\xf1o, dividido por el n\xfamero de d\xedas comprendido en dicho per\xedodo de medici\xf3n.","unit":"veh\xedculos/d\xeda","color":"#5499C7","icon":"default.png","colorname":"Azul obscuro","maxv":"15000","info":"Es el volumen total de veh\xedculos que pasan por un punto o secci\xf3n de carretera en un periodo de tiempo determinado, que es mayor a un d\xeda y menor o igual a un a\xf1o, dividido por el n\xfamero de d\xedas comprendido en dicho per\xedodo de medici\xf3n. A trav\xe9s de este dato se puede conocer peri\xf3dicamente la tendencia de incremento o disminuci\xf3n del volumen vehicular.","formula":"image008","data":"Fh = Factor horario\\r\\nVhmf = N\xfamero de veh\xedculos en hora de mayor flujo\\r\\nVta = Volumen de tr\xe1nsito absoluto: n\xfamero total de veh\xedculos que pasan por un determinado periodo de tiempo\\r\\nTpd = Tr\xe1fico promedio diario\\r\\nTps = Tr\xe1fico promedio semanal\\r\\nTpa = Tr\xe1fico promedio anual\\r\\nTPDA = Tr\xe1fico promedio diario anual\\r\\n","type":"geometry","cat":"false"},{"number":"5","category":"Tr\xe1nsito","label":"Accidentabilidad anual","name_ind":"accidentes","description":"N\xfamero de accidentes de tr\xe1nsito ocurridos en un a\xf1o para una relaci\xf3n de 100.000 habitantes.","unit":"accidentes/100mil hab.","color":"#CB4335","icon":"default.png","colorname":"rojo - sangre","maxv":"150","info":"Es el n\xfamero de accidentes de tr\xe1nsito ocurridos en un a\xf1o para una relaci\xf3n de 100.000 habitantes. Es uno de los indicadores m\xe1s conocidos a nivel internacional y con los que se compara el estado general de accidentabilidad de un pa\xeds en especial con pa\xedses de la misma motorizaci\xf3n.","formula":"image010","data":"TA= Tasa de accidentabilidad\\r\\nTna = N\xfamero total anual de accidentes de tr\xe1nsito registrados por accidentes de tr\xe1nsito\\r\\nPt = Poblaci\xf3n total del \xe1rea de estudio.\\r\\n","type":"geometry","cat":"false"},{"number":"6","category":"Tr\xe1nsito","label":"Emisiones de CO provocado por el transporte","name_ind":"Em_Co","description":"Mide las concentraciones de CO que es uno de los componentes de los gases efecto invernadero, en un tiempo determinado.","unit":"ug/m3","color":"#616A6B","icon":"default.png","colorname":"Gris","maxv":"200","info":"Este indicador mide las concentraciones de CO que es uno de los componentes de los gases efecto invernadero, en un tiempo determinado. Es importante el c\xe1lculo de este indicador pues permitir\xe1 conocer si las emisiones actuales de CO sobrepasan los l\xedmites establecidos, adem\xe1s de ser la base para an\xe1lisis comparativos posteriores. Las mediciones de este indicador ser realizaron con el apoyo de la Facultad de Ciencias Qu\xedmicas de la Universidad de Cuenca (Ing. Xavier Capa).","formula":"image012","data":"x, y, z = Distancias axial, transversal y vertical, relativas a la direcci\xf3n hacia donde sopla el viento\\r\\nQ = Tasa de emisi\xf3n del contaminante.\\r\\nu = Velocidad de viento\\r\\nH = Altura efectiva de la chimenea\\r\\n= Desviaci\xf3n est\xe1ndar de la distribuci\xf3n de Gauss\\r\\nEl Programa Disper 5.1 aplica el modelo de distribuci\xf3n de gases del ISCT3 de la EPA, el cual tiene como principio fundamental el modelo de distribuci\xf3n de gauss.\\r\\n","type":"geometry","cat":"false"},{"number":"7","category":"Tr\xe1nsito","label":"Emisiones de NOx provocado por el transporte","name_ind":"Em_Nox","description":"Mide las concentraciones de NOx que es uno de los componentes de los gases efecto invernadero, en funci\xf3n del n\xfamero de veh\xedculos motorizados en circulaci\xf3n.","unit":"ug/m3","color":"#27AE60","icon":"default.png","colorname":"Verde moco","maxv":"50","info":"Este indicador mide las concentraciones de NOx que es uno de los componentes de los gases efecto invernadero, en funci\xf3n del n\xfamero de veh\xedculos motorizados en circulaci\xf3n. Estos \xf3xidos son perjudiciales para los seres vivos, adem\xe1s contribuyen a la lluvia \xe1cida y destruyen la capa de Ozono. Por ello su emisi\xf3n se encuentra reglamentada en varias ciudades del mundo. Por lo tanto, es importante conocer las emisiones de NOx causadas por los veh\xedculos motorizados, debido a que permitir\xe1 conocer la contaminaci\xf3n actual y a la vez servir de base para futuras mediciones. . Las mediciones de este indicador ser realizaron con el apoyo de la Facultad de Ciencias Qu\xedmicas de la Universidad de Cuenca (Ing. Xavier Capa).","formula":"image014","data":"x, y, z = Distancias axial, transversal y vertical, relativas a la direcci\xf3n hacia donde sopla el viento\\r\\nQ = Tasa de emisi\xf3n del contaminante\\r\\nu = Velocidad de viento\\r\\nH = Altura efectiva de la chimenea\\r\\n= Desviaci\xf3n est\xe1ndar de la distribuci\xf3n de Gauss\\r\\n","type":"geometry","cat":"false"},{"number":"8","category":"Tr\xe1nsito","label":"Emisiones de CxHy provocado por el transporte","name_ind":"EM_CxHy","description":"Mide las concentraciones de CxHy que es uno de los componentes de los gases efecto invernadero, en un tiempo determinado.","unit":"ug/m3","color":"#7B241C","icon":"default.png","colorname":"rojo","maxv":"1","info":"Este indicador mide las concentraciones de CxHy que es uno de los componentes de los gases efecto invernadero, en un tiempo determinado. En general los hidrocarburos presentan una baja toxicidad, el problema principal que tiene, es la reactividad fotoqu\xedmica en presencia de la luz solar para dar compuestos oxidados. . Las mediciones de este indicador ser realizaron con el apoyo de la Facultad de Ciencias Qu\xedmicas de la Universidad de Cuenca (Ing. Xavier Capa).","formula":"image016","data":"x, y, z = Distancias axial, transversal y vertical, relativas a la direcci\xf3n hacia donde sopla el viento\\r\\nQ = Tasa de emisi\xf3n del contaminante\\r\\nu = Velocidad de viento\\r\\nH = Altura efectiva de la chimenea\\r\\n= Desviaci\xf3n est\xe1ndar de la distribuci\xf3n de Gauss\\r\\n","type":"geometry","cat":"false"},{"number":"9","category":"Tr\xe1nsito","label":"Nivel de ruido","name_ind":"Ruido","description":"El nivel de ruido mide las variaciones de presi\xf3n audibles en determinadas zonas, permitiendo identificar aquellas que sobrepasan el rango recomendado por instituciones internacionales o nacionales.","unit":"dB (A)","color":"#F57844","icon":"default.png","colorname":"tomate","maxv":"100","info":"El nivel de ruido mide las variaciones de presi\xf3n audibles en determinadas zonas, permitiendo identificar aquellas que sobrepasan el rango recomendado por instituciones internacionales o nacionales.","formula":"image018","data":"Leq, tp (5) = Nivel de presi\xf3n sonora equivalente total promedio. El nivel monitoreado es ponderado bajo la curva A, respuesta audible, por lo que los niveles indicadores corresponden a dB(A), medido cada 5 segundos\\r\\nLeq, rp = Nivel de presi\xf3n sonora equivalente residual promedio. El nivel monitoreado es ponderado bajo la curva A, respuesta audible, por lo que los niveles indicadores corresponden a dB(A)             \\r\\nn = N\xfamero de muestras\\r\\nTi = Fracci\xf3n de tiempo total\\r\\nNPSi = Nivel de ruido en cada intervalo de tiempo\\r\\nK = Factor de Correcci\xf3n por ruido residual\\r\\n\u2206L = Leq,tp-Leq,rp \\r\\n","type":"geometry","cat":"false"},{"number":"10","category":"Tr\xe1nsito","label":"Veh\xedculos que consumen energ\xeda alternativa","name_ind":"energia","description":"Este indicador mide el porcentaje de veh\xedculos matriculados en el cant\xf3n Cuenca que utilizan energ\xeda alternativa / renovable para su funcionamiento.","unit":"%","color":"#2ECC71","icon":"default.png","colorname":"Verde","maxv":"1","info":"Este indicador mide el porcentaje de veh\xedculos matriculados en el cant\xf3n Cuenca que utilizan energ\xeda alternativa / renovable para su funcionamiento.","formula":"image020","data":"PVEAR = Porcentaje de veh\xedculos matriculados en el cant\xf3n Cuenca que utilizan energ\xeda alternativa / renovable\\r\\nNvear = N\xfamero de veh\xedculos matriculados en el cant\xf3n Cuenca que utilizan energ\xeda alternativa / renovable\\r\\nNv = N\xfamero de veh\xedculos matriculados en el cant\xf3n Cuenca\\r\\n","type":"geometry","cat":"false"},{"number":"11","category":"Transporte","label":"Viajes con transbordos hacia el \xe1rea urbana","name_ind":"transb","description":"Mide el porcentaje de viajes que necesitan m\xe1s de un medio de transporte para llegar al \xe1rea urbana del Cant\xf3n.","unit":"%","color":"#E67E22","icon":"default.png","colorname":"tomate","maxv":"100","info":"Este indicador mide el porcentaje de viajes que necesitan m\xe1s de un medio de transporte para llegar al \xe1rea urbana del Cant\xf3n. Resulta fundamental su c\xe1lculo para identificar el porcentaje de poblaci\xf3n que necesitan realizar transbordos (entendido como transbordo al cambio de medio de transporte) para llegar a sus destinos y en funci\xf3n de ello plantear soluciones que permitan mejorar la calidad de vida de la poblaci\xf3n en cuanto a la movilidad.","formula":"image022","data":"TR = Porcentaje de viajes que necesitan realizar transbordos para llegar a su destino (ciudad de Cuenca)\\r\\nVt = N\xfamero de viajes que realizan transbordos (viajes que se ejecutan con m\xe1s de un medio)\\r\\nTv = Total de viajes realizados\\r\\n","type":"geometry","cat":"false"},{"number":"12","category":"Transporte","label":"Tiempo medio de viajes en transporte p\xfablico por motivo trabajo","name_ind":"vtrab","description":"Rango medio de tiempo en que las personas tardan en trasladarse desde su vivienda (origen) al lugar de trabajo (destino) a trav\xe9s de transporte p\xfablico (transporte p\xfablico colectivo, taxis, camionetas de alquiler).","unit":"minutos","color":"#707B7C","icon":"default.png","colorname":"gris","maxv":"60","info":"Es el rango medio de tiempo que las personas tardan en trasladarse desde su vivienda (origen) al lugar de trabajo (destino) a trav\xe9s de transporte p\xfablico (transporte p\xfablico colectivo, taxis, camionetas de alquiler). Con este indicador se conoce la relaci\xf3n que guarda las zonas de residencia con los destinos. Esta relaci\xf3n se conoce como la localizaci\xf3n y denota la conjunci\xf3n de tres condiciones:\\r\\n-  La cercan\xeda de las zonas concentradoras de actividad econ\xf3mica y de equipamientos.\\r\\n-  El acceso r\xe1pido a vialidades principales.\\r\\n-  La disponibilidad de modos de transporte.\\r\\n","formula":"image024","data":"TMVT = Tiempo medio de viajes por motivo trabajo\\r\\nTvt = Tiempo de viajes empleado en transporte p\xfablico por motivo trabajo\\r\\nPt = Poblaci\xf3n que se moviliza por razones de trabajo en transporte p\xfablico\\r\\n","type":"geometry","cat":"false"},{"number":"13","category":"Transporte","label":"Tiempo medio de viajes en transporte p\xfablico por motivo estudio","name_ind":"vest","description":"Tiempo promedio en minutos requerido para el traslado del lugar de residencia hacia el equipamiento educativo (escuela, colegio, universidad, etc.) mediante el uso del transporte p\xfablico (buses, taxis, camionetas de alquiler).","unit":"minutos","color":"#2E86C1","icon":"default.png","colorname":"celeste","maxv":"60","info":"Es el tiempo promedio en minutos requerido para el traslado del lugar de residencia hacia el equipamiento educativo (escuela, colegio, universidad, etc.) mediante el uso del transporte p\xfablico (buses, taxis, camionetas de alquiler).","formula":"image026","data":"TMVE = Tiempo medio de viajes por motivo estudio\\r\\nTve = Tiempo de viaje empleado en transporte p\xfablico por motivo estudio\\r\\nPt = Poblaci\xf3n que se moviliza por razones de estudio en transporte p\xfablico\\r\\n","type":"geometry","cat":"false"},{"number":"14","category":"Transporte","label":"Tiempo medio de viajes cotidianos hacia el \xe1rea urbana","name_ind":"vcot","description":"Rango medio de tiempo en que las personas tardan en trasladarse desde su vivienda (origen) a la ciudad por motivo de estudio y trabajo mediante el uso del transporte p\xfablico.","unit":"minutos","color":"#F1C40F","icon":"default.png","colorname":"mostaza","maxv":"60","info":"Es el rango medio de tiempo en que las personas tardan en trasladarse desde su vivienda (origen) a la ciudad por motivo de estudio y trabajo mediante el uso del transporte p\xfablico. El incremento desmesurado del parque automotor y el estacionamiento en las v\xedas provoca que la capacidad de la estructura vial rebase sus l\xedmites provocando disminuci\xf3n de la velocidad e inclusive congestionamiento vehicular que inciden directamente en el tiempo de viaje.","formula":"image028","data":"TMVU = Tiempo medio de viajes cotidianos hacia el \xe1rea urbana\\r\\nTvu = Sumatoria de los tiempos de viajes que se realizan hacia la ciudad de Cuenca por motivo estudio y trabajo en transporte p\xfablico\\r\\nPt = Poblaci\xf3n que se moviliza hacia el \xe1rea urbana (ciudad de Cuenca) por motivos cotidianos en transporte p\xfablico\\r\\n","type":"geometry","cat":"false"},{"number":"15","category":"Transporte","label":"Costes en transporte p\xfablico por motivo estudio. Tarifa completa","name_ind":"costoestc","description":"Este indicador mide el coste promedio del usuario del transporte p\xfablico que paga tarifa completa, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de estudio.","unit":"d\xf3lar","color":"#F1C40F","icon":"default.png","colorname":"dorado","maxv":"1","info":"Este indicador mide el coste promedio del usuario del transporte p\xfablico que paga tarifa completa, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de estudio. Considerando que el transporte es parte de la canasta familiar b\xe1sica, resulta un tema importante de ser considerado, puesto que a pesar de que las tarifas de transporte p\xfablico han sido fijadas desde hace algunos a\xf1os atr\xe1s, se ha detectado que los habitantes de las zonas periurbanas y rurales gastan un valor mayor a los residentes de la zona urbana.","formula":"image030","data":"CPUTPE = Costes promedio del usuario de transporte p\xfablico por motivo de estudio y que paga tarifa completa\\r\\nTctpe = Total del coste del usuario de transporte p\xfablico que paga tarifa completa por motivo de estudio\\r\\nTutpe = Total de usuarios de transporte p\xfabico consultados, que pagan tarifa completa y se movilizan por motivo de estudio\\r\\n","type":"geometry","cat":"false"},{"number":"16","category":"Transporte","label":"Costes en transporte p\xfablico por motivo estudio. Tarifa diferenciada","name_ind":"costoestd","description":"Este indicador mide el coste promedio del usuario del transporte p\xfablico que paga tarifa diferenciada, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de estudio.","unit":"d\xf3lar","color":"#F39C12","icon":"default.png","colorname":"amarillo-tomate","maxv":"1","info":"Este indicador mide el coste promedio del usuario del transporte p\xfablico que paga tarifa diferenciada, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de estudio.","formula":"image032","data":"CPUTPE = Costes promedio del usuario de transporte p\xfablico por motivo de estudio y que paga tarifa diferenciada\\r\\nTctpe = Total del coste del usuario de transporte p\xfablico que paga tarifa diferenciada por motivo de estudio\\r\\nTutpe = Total de usuarios de transporte p\xfabico consultados, que pagan tarifa diferenciada y se movilizan por motivo de estudio\\r\\n","type":"geometry","cat":"false"},{"number":"17","category":"Transporte","label":"Costes en transporte p\xfablico por motivo trabajo","name_ind":"costotrab","description":"Este indicador mide el coste promedio del usuario del transporte p\xfablico, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de trabajo.","unit":"d\xf3lar","color":"#A6ACAF","icon":"default.png","colorname":"plata","maxv":"1","info":"Este indicador mide el coste promedio del usuario del transporte p\xfablico, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de trabajo.","formula":"image034","data":"CPUTPT = Costes promedio del usuario de transporte p\xfablico por motivo de trabajo\\r\\nTctpt = Total del coste del usuario de transporte p\xfablico por motivo de trabajo\\r\\nTutpt = Total de usuarios de transporte p\xfabico consultados, que se movilizan por motivo de trabajo\\r\\n","type":"geometry","cat":"false"},{"number":"18","category":"Transporte","label":"Estudiantes que pagan m\xe1s de una tarifa completa","name_ind":"esttc","description":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga  m\xe1s de una tarifa completa por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de estudio.","unit":"%","color":"#7B1F68","icon":"default.png","colorname":"morado","maxv":"100","info":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de estudio.","formula":"image036","data":"PUTPM = Porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por motivo de estudio\\r\\nTctpm = Total de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por motivo de estudio\\r\\nTutpe = Total de usuarios de transporte p\xfablico consultados que se movilizan por motivo de estudio y pagan tarifa completa\\r\\n","type":"geometry","cat":"false"},{"number":"19","category":"Transporte","label":"Estudiantes que pagan m\xe1s de una tarifa diferenciada","name_ind":"esttd","description":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga  m\xe1s de una tarifa diferenciada por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de estudio.","unit":"%","color":"#DA6112","icon":"default.png","colorname":"tomatillo","maxv":"100","info":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa diferenciada por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de estudio.","formula":"image038","data":"PUTPM = Porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa diferenciada por motivo de estudio\\r\\nTctpm = Total de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa diferenciada por motivo de estudio\\r\\nTutpe = Total de usuarios de transporte p\xfablico consultados que se movilizan por motivo de estudio y pagan tarifa diferenciada\\r\\n","type":"geometry","cat":"false"},{"number":"20","category":"Transporte","label":"Poblaci\xf3n que paga m\xe1s de una tarifa completa por motivo trabajo","name_ind":"pobtc","description":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga  m\xe1s de una tarifa completa por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de trabajo.","unit":"%","color":"#A01A5D","icon":"default.png","colorname":"fucsia","maxv":"100","info":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de trabajo.","formula":"image040","data":"PUTPM = Porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por motivo de trabajo\\r\\nTctpm = Total de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por motivo de trabajo\\r\\nTutpt = Total de usuarios de transporte p\xfablico consultados que se movilizan por motivo de trabajo y pagan tarifa completa\\r\\n","type":"geometry","cat":"false"},{"number":"21","category":"Transporte","label":"Gasto en transportaci\xf3n en funci\xf3n de la canasta b\xe1sica familiar","name_ind":"gtranscb","description":"Este indicador mide el porcentaje del gasto mensual que una familia realiza en transporte p\xfablico, en funci\xf3n de la canasta familiar b\xe1sica.","unit":"%","color":"#DBC118","icon":"default.png","colorname":"amarillo","maxv":"20","info":"Este indicador mide el porcentaje del gasto mensual que una familia realiza en transporte p\xfablico, en funci\xf3n de la canasta familiar b\xe1sica. Si bien las tarifas de transporte p\xfablico han sido fijadas desde hace algunos a\xf1os atr\xe1s se presumen que para movilizarse desde las zonas rurales del cant\xf3n se requiere un mayor presupuesto debido a que deben realizar m\xe1s de un transbordo para llegar a su lugar de destino.","formula":"image042","data":"PCFBGTP = Porcentaje de la canasta familiar b\xe1sica que gasta en transporte p\xfablico\\r\\nGmftp = Gasto mensual de una familia en transporte p\xfablico\\r\\nCfb = Canasta familiar b\xe1sica\\r\\n","type":"geometry","cat":"false"},{"number":"22","category":"Transporte","label":"Comunidades con acceso al servicio de transporte p\xfablico colectivo","name_ind":"comtrans","description":"Relaci\xf3n entre las comunidades que se encuentran servidos por una l\xednea de transporte p\xfablico colectivo y el total de existente.","unit":"%","color":"#219439","icon":"default.png","colorname":"verde","maxv":"100","info":"Es la relaci\xf3n entre las comunidades que se encuentran servidos por una l\xednea de transporte p\xfablico colectivo y el total existente. Este indicador es importante debido a que permite identificar las comunidades que de una u otra forma se encuentran servidos por el transporte p\xfablico colectivo. Sin embargo, el porcentaje que no se encuentre servido debe ser analizado para que se puedan dar soluciones alternativas que permitan mejorar la conectividad y accesibilidad.","formula":"image044","data":"PCATPC = Porcentaje de comunidades con acceso al transporte p\xfablico colectivo\\r\\nTc = Total de comunidades de la parroquia\\r\\nCastpc = Comunidades con servicio de transporte p\xfablico colectivo\\r\\n","type":"geometry","cat":"false"},{"number":"23","category":"Transporte","label":"Uso del transporte p\xfablico colectivo","name_ind":"usotransp","description":"Relaci\xf3n entre el n\xfamero de viajes realizados en transporte p\xfablico colectivo y el total generado.","unit":"%","color":"#753910","icon":"default.png","colorname":"caf\xe9","maxv":"100","info":"Es la relaci\xf3n entre el n\xfamero de viajes realizados en transporte p\xfablico colectivo y el total generado. Conocer el grado de utilizaci\xf3n del transporte p\xfablico resulta fundamental, ya que permite determinar la incidencia que este medio tiene en el \xe1rea de estudio y en base a esto proponer proyectos que mejoren su servicio e incentiven su uso.","formula":"image046","data":"UTPC = Uso del transporte p\xfablico colectivo\\r\\nVtpc = Viajes en transporte p\xfablico colectivo\\r\\nTv = N\xfamero total de viajes realizados seg\xfan las encuestas realizadas\\r\\n","type":"geometry","cat":"false"},{"number":"24","category":"Transporte","label":"Capacidad vehicular del transporte p\xfablico colectivo por habitantes","name_ind":"captrans","description":"Es la relaci\xf3n que existe entre la capacidad del transporte p\xfablico colectivo (n\xfamero de asientos y unidades de transporte) y el total de la poblaci\xf3n de un territorio, en un per\xedodo de tiempo determinado.","unit":"%","color":"#5025A6","icon":"default.png","colorname":"morado","maxv":"20","info":"Es la relaci\xf3n que existe entre la capacidad del transporte p\xfablico colectivo (n\xfamero de asientos y unidades de transporte) y el total de la poblaci\xf3n de un territorio, en un per\xedodo de tiempo determinado. Es necesario fomentar la utilizaci\xf3n del transporte p\xfablico colectivo como medio principal de movilizaci\xf3n, sin embargo, previo a ello es necesario conocer el porcentaje de poblaci\xf3n que puede estar servido por las unidades disponibles, para as\xed determinar si la oferta puede cubrir la demanda.","formula":"image048","type":"geometry","cat":"false"},{"number":"25","category":"Transporte","label":"Velocidad promedio de transporte p\xfablico colectivo","name_ind":"velotrans","description":"Es la relaci\xf3n que existe entre la distancia recorrida mediante el transporte p\xfablico colectivo y el tiempo utilizado para ejecutarlo.","unit":"km/h","color":"#D5670B","icon":"default.png","colorname":"tomate","maxv":"25","info":"Es la relaci\xf3n que existe entre la distancia recorrida mediante el transporte p\xfablico colectivo y el tiempo utilizado para ejecutarlo. Es importante conocer la velocidad promedio en la que circula el transporte p\xfablico colectivo con el fin de determinar si la misma se encuentra dentro o fuera del rango establecido como \xf3ptimo. Si la velocidad es muy baja, se deben pensar en proyectos que permitan incrementar la misma, con el fin de disminuir tiempos de viaje y de esta manera incentivar el uso de este sistema sostenible de movilizaci\xf3n.","formula":"image050","data":"VPTP = Velocidad promedio del transporte p\xfablico\\r\\nDr = Distancia total recorrida\\r\\nTt = Tiempo total empleado para el desplazamiento\\r\\n","type":"geometry","cat":"false"},{"number":"26","category":"Transporte","label":"Frecuencia de paso del transporte p\xfablico colectivo","name_ind":"frectrans","description":"Tiempo medio de paso de las unidades de transporte p\xfablico colectivo. En el caso de que el \xe1rea de estudio este servida por m\xe1s de una l\xednea de bus la frecuencia estar\xe1 dada por el promedio del tiempo de cada una de ellas.","unit":"minutos","color":"#9B15B5","icon":"default.png","colorname":"moradin","maxv":"15","info":"Es el tiempo medio de paso de las unidades de transporte p\xfablico colectivo. En el caso de que el \xe1rea de estudio este servida por m\xe1s de una l\xednea de bus, la frecuencia estar\xe1 dada por el promedio del tiempo de cada una de ellas. La frecuencia de paso cumple un rol fundamental para el incentivo del transporte p\xfablico colectivo, debido a que mientras menor sea el tiempo de espera para acceder a las unidades de transporte mayor ser\xe1 la satisfacci\xf3n de los usuarios de este servicio.","formula":"image052","data":"FTPC = Frecuencia del transporte p\xfablico colectivo\\r\\nFL1; FL2; FLn = Frecuencia de cada l\xednea de transporte p\xfablico que sirva al \xe1rea de estudio\\r\\nTl = Total de l\xedneas que abastecen al \xe1rea de estudio\\r\\n","type":"geometry","cat":"false"},{"number":"27","category":"Transporte","label":"Edad del parque automotor del transporte p\xfablico colectivo","name_ind":"edadtrans","description":"Este indicador mide la edad promedio del parque automotor del transporte p\xfablico colectivo rural.","unit":"a\xf1os","color":"#D5940B","icon":"default.png","colorname":"fierro","maxv":"15","info":"Este indicador mide la edad promedio del parque automotor del transporte p\xfablico colectivo rural. La edad promedio del parque automotor del transporte p\xfablico es una medida de la efectividad y calidad de prestaci\xf3n del servicio de transporte p\xfablico, pues refleja en medida si las empresas y la administraci\xf3n controlan que el parque automotor no sobrepase la edad m\xe1xima recomendada como viable para operaci\xf3n (20 a\xf1os).","formula":"image054","data":"PETP = Promedio de la edad del parque automotor del transporte p\xfablico colectivo rural\\r\\nSeutp = Sumatoria de la edad de las unidades que prestan servicio de transporte p\xfablico colectivo para zonas rurales\\r\\nTutp = Total de unidades que prestan servicio de transporte p\xfablico colectivo para zonas rurales\\r\\n","type":"geometry","cat":"false"},{"number":"28","category":"Transporte","label":"Calidad del transporte p\xfablico colectivo","name_ind":"calidadtrans","description":"Mide la satisfacci\xf3n de los pasajeros sobre el servicio prestado por el transporte p\xfablico colectivo.","unit":"%","color":"#EFEB0B","icon":"default.png","colorname":"amarillo","maxv":"100","info":"Este indicador mide la satisfacci\xf3n de los pasajeros sobre el servicio prestado por el transporte p\xfablico colectivo. Este indicador constituye una base s\xf3lida para que las autoridades y operadores ajusten sus pol\xedticas, regulaciones y programas de inversi\xf3n con el fin de mejorar la calidad del servicio brindado a los usuarios.","formula":"image056","data":"CPTPC = Calidad percibida del transporte p\xfablico colectivo\\r\\nEu = Percepci\xf3n del estado de la unidad (% estado bueno)\\r\\nTu = Percepci\xf3n del trato al usuario (% trato bueno)\\r\\nS = Percepci\xf3n de seguridad (% si es seguro)\\r\\nAc = Percepci\xf3n sobre la actitud del conductor (% de actitud bueno)\\r\\nCh = Cumplimiento del horario (% de poblaci\xf3n que dijo que s\xed cumple)\\r\\nTv = Total de variables analizadas (en este caso 5)\\r\\n","type":"geometry","cat":"false"},{"number":"29","category":"Viabilidad","label":"V\xedas de acceso adecuadas","name_ind":"vias_ade","description":"Este indicador mide el porcentaje de metros lineales de v\xedas que unen la zona urbana con las \xe1reas de estudio rurales que se encuentran en buen estado, su material de calzada es perenne; y su secci\xf3n es \u2265 7,00m por ser de doble sentido de circulaci\xf3n y poseer un carril por cada sentido.","unit":"%","color":"#A04000","icon":"default.png","colorname":"caf\xe9","maxv":"100","info":"Este indicador mide el porcentaje de metros lineales de v\xedas que unen la zona urbana con las \xe1reas de estudio rurales que se encuentran en buen estado, su material de calzada es perenne; y su secci\xf3n es \u2265 7,00m por ser de doble sentido de circulaci\xf3n y poseer un carril por cada sentido.","formula":"image058","data":"PVA = Porcentaje de v\xedas adecuadas\\r\\nLva = Longitud de v\xedas adecuadas (estado bueno y material de asfalto o concreto)\\r\\nLtv = Longitud total de v\xedas que unen el \xe1rea urbana con las \xe1reas de estudio\\r\\n","type":"geometry","cat":"false"},{"number":"30","category":"Viabilidad","label":"Espacio viario para peatones","name_ind":"vias_pea","description":"Este indicador mide el porcentaje de espacio viario para peatones sobre la longitud de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","unit":"%","color":"#BA4A00","icon":"default.png","colorname":"tomate","maxv":"60","info":"Este indicador mide el porcentaje de espacio viario para peatones sobre la longitud de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales. Las facilidades peatonales deben localizarse en zonas en las cuales exista o se pueda proveer de aceras adecuadas, donde puedan esperar los peatones que deseen cruzar.","formula":"image060","data":"VPDP = Viario p\xfablico destinado al peat\xf3n\\r\\nLvpp = Longitud viario p\xfablico peatonal (longitud de acera derecha m\xe1s longitud de acera izquierda)\\r\\nLvpt = Longitud viario p\xfablico total multiplicado por dos\\r\\n","type":"geometry","cat":"false"},{"number":"31","category":"Viabilidad","label":"Accesibilidad del espacio de tr\xe1nsito peatonal","name_ind":"vias_acc","description":"Este indicador mide el porcentaje en longitud de espacio viario para peatones con una secci\xf3n mayor a 2,50m en los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","unit":"%","color":"#286BF9","icon":"default.png","colorname":"azul claro","maxv":"60","info":"Este indicador mide el porcentaje en longitud de espacio viario para peatones con una secci\xf3n mayor a 2,50m en los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales. En \xe1reas urbanas se consideran totalmente accesibles los tramos que poseen un m\xednimo de ancho en ambas aceras (m\xe1s de 2,50m); ancho de acera mayor de 2,00m para permitir el cruce de dos veh\xedculos de personas incapacitadas o de coches para ni\xf1os, m\xe1s anchura suplementaria de 0,50m para considerar el espacio ocupado para la se\xf1alizaci\xf3n de tr\xe1fico y el mobiliario.","formula":"image062","data":"PETPA = Porcentaje de espacio de tr\xe1nsito peatonal accesible.\\r\\nLetpa = Longitud del espacio de tr\xe1nsito peatonal accesible \u2265 2,50m\\r\\nLtetp = Longitud total del espacio de tr\xe1nsito peatonal (de acera derecha m\xe1s acera izquierda)\\r\\n","type":"geometry","cat":"false"},{"number":"32","category":"Viabilidad","label":"Espacio viario para bicicletas","name_ind":"vias_bici","description":"Este indicador mide el espacio viario destinado exclusivamente al desplazamiento en bicicleta en relaci\xf3n a la longitud total de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","unit":"%","color":"#FFFFFF","icon":"default.png","colorname":"Blanco","maxv":"1","info":"Este indicador mide el espacio viario destinado exclusivamente al desplazamiento en bicicleta en relaci\xf3n a la longitud total de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales. La bicicleta se convierte en un verdadero modo de transporte si cuenta con una red propia interconectada en todo el territorio y segregada de los otros modos de transporte de superficie.","formula":"image064","data":"VPDB = Viario p\xfablico destinado a bicicletas\\r\\nLvpb = Longitud de viario p\xfablico para bicicletas\\r\\nLvpt = Longitud viario p\xfablico total\\r\\n","type":"geometry","cat":"false"},{"number":"33","category":"Viabilidad","label":"Nivel de accesibilidad al transporte p\xfablico colectivo","name_ind":"access_pub","description":"Este indicador mide el porcentaje de poblaci\xf3n bajo cobertura de transporte p\xfablico colectivo.","unit":"%","color":"#C0392B","icon":"default.png","colorname":"rojo buses","maxv":"100","info":"Este indicador mide el porcentaje de poblaci\xf3n bajo cobertura de transporte p\xfablico colectivo. Se considera que existe una buena accesibilidad cuando desde cualquier parte del territorio se puede acceder en 10 minutos (500 m) al viario p\xfablico por el que circula el transporte p\xfablico rural; o en 5 minutos (250 m) al viario p\xfablico por el que circula el transporte p\xfablico urbano.","formula":"image066","data":"PPATP = Porcentaje de poblaci\xf3n con acceso a transporte p\xfablico\\r\\nPctp = Poblaci\xf3n bajo cobertura de transporte p\xfablico\\r\\nTp = Total de poblaci\xf3n\\r\\n","type":"geometry","cat":"false"},{"number":"34","category":"Viabilidad","label":"Espacio viario para transporte p\xfablico","name_ind":"vias_pub","description":"Este indicador mide el espacio viario destinado a la circulaci\xf3n de transporte p\xfablico colectivo, en relaci\xf3n a la longitud total de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","unit":"%","color":"#FFFFFF","icon":"default.png","colorname":"Blanco","maxv":"1","info":"Este indicador mide el espacio viario destinado a la circulaci\xf3n de transporte p\xfablico colectivo, en relaci\xf3n a la longitud total de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","formula":"image068","data":"VTP = Viario para transporte p\xfablico\\r\\nLcb = Longitud carril bus\\r\\nLtv = Longitud total de v\xedas\\r\\n","type":"geometry","cat":"false"},{"number":"35","category":"Viabilidad","label":"Proximidad de paradas de transporte p\xfablico colectivo","name_ind":"prox_pub","description":"Porcentaje de poblaci\xf3n que tiene acceso a una parada de transporte p\xfablico colectivo a una distancia inferior de 300m en el \xe1rea urbana y 500 en el \xe1rea rural (distancia m\xe1xima de caminata).","unit":"%","color":"#FFD700","icon":"default.png","colorname":"Dorado","maxv":"50","info":"Es el porcentaje de poblaci\xf3n que tiene acceso a una parada de transporte p\xfablico colectivo a una distancia inferior de 300m en el \xe1rea urbana y 500 en el \xe1rea rural (distancia m\xe1xima de caminata).","formula":"image070","data":"PPTPC = Proximidad de paradas de transporte p\xfablico colectivo\\r\\nPa = Poblaci\xf3n  abastecida por las paradas de buses\\r\\nPt = Poblaci\xf3n total de la parroquia\\r\\n","type":"geometry","cat":"false"},{"number":"36","category":"Demograficos","label":"Superficie Km \xb2","name_ind":"supe","description":"Superficie parroquial: se refiere a la extensi\xf3n de tierra que pertenece a una parroquia.","unit":"Km \xb2","color":"#6EFFAC","icon":"default.png","colorname":"verde","info":"Superficie parroquial: se refiere a la extensi\xf3n de tierra que pertenece a una parroquia.","unita":"kil\xf3metro cuadrado (km2)","maxv":"250","type":"geometry","cat":"false"},{"number":"37","category":"Demograficos","label":"Poblaci\xf3n","name_ind":"pobl","description":"Conjunto de habitantes de una parroquia.","unit":"habit.","color":"#FA8E32","info":"Conjunto de habitantes de una parroquia","unita":"N\xfamero de habitantes (hab.)","icon":"default.png","maxv":"25000","type":"geometry","cat":"false"},{"number":"38","category":"Demograficos","label":"Densidad","name_ind":"dens","description":"Se refiere al promedio de habitantes por kil\xf3metro cuadrado en una parroquia.","unit":"habit/Km \xb2","color":"#E05550","info":"Se refiere al promedio de habitantes por kil\xf3metro cuadrado en una parroquia.","unita":"habitantes por kil\xf3metro cuadrado (hab./km2)","icon":"default.png","maxv":"15","type":"geometry","cat":"false"},{"number":"39","category":"Demograficos","label":"N\xfamero de Comunidades","name_ind":"comu","description":"Hace referencia al n\xfamero de comunidades existentes en una parroquia.","unit":"comunidades","color":"#8D38F5","info":"Hace referencia al n\xfamero de comunidades existentes en una parroquia.","unita":"n\xfamero de comunidades","icon":"default.png","maxv":"40","type":"geometry","cat":"false"},{"number":"40","category":"Demograficos","label":"Poblaci\xf3n Cantonal","name_ind":"pobc","description":"Se refiere al porcentaje de poblaci\xf3n cantonal que reside en una determinada parroquia.","unit":"%","color":"#FAE360","info":"Se refiere al porcentaje de poblaci\xf3n cantonal que reside en una determinada parroquia.","unita":"porcentaje (%)","icon":"default.png","maxv":"5","type":"geometry","cat":"false"},{"number":"41","category":"Demograficos","label":"Poblaci\xf3n Rural","name_ind":"pobr","description":"Se refiere al porcentaje de poblaci\xf3n rural del cant\xf3n que reside en una determinada parroquia.","unit":"%","color":"#70ECFA","info":"Se refiere al porcentaje de poblaci\xf3n rural del cant\xf3n que reside en una determinada parroquia.","unita":"porcentaje (%)","icon":"default.png","maxv":"20","type":"geometry","cat":"false"},{"number":"42","category":"Demograficos","label":"Tasa de crecimiento\\r\\n2001-2010","name_ind":"tasac","description":"Se refiere a la tasa con la que est\xe1 aumentando o disminuyendo la poblaci\xf3n en una parroquia en el periodo comprendido entre 2001 y 2010.","unit":"%","color":"#AB7E74","info":"Se refiere a la tasa con la que est\xe1 aumentando o disminuyendo la poblaci\xf3n en una parroquia en el periodo comprendido entre 2001 y 2010.","unita":"porcentaje (%)","icon":"default.png","maxv":"5","type":"geometry","cat":"false"},{"number":"43","category":"Demograficos","label":"A\xf1o de constituci\xf3n como parroquia","name_ind":"const","description":"Hace referencia al a\xf1o en el que un determinado territorio se formaliz\xf3 como parroquia rural.","unit":"a\xf1o","color":"#ACA392","info":"Hace referencia al a\xf1o en el que un determinado territorio se formaliz\xf3 como parroquia rural.","unita":"a\xf1o","icon":"default.png","colorname":"Gris","maxv":"2000","type":"geometry","cat":"false"},{"number":"44","category":"Demograficos","label":"Principales actividades economicas","name_ind":"aeco","description":"Se refiere a las principales actividades econ\xf3micas realizadas por lo habitantes de una determinada parroquia.","unit":".","color":"#FCFDFF","info":"Se refiere a las principales actividades econ\xf3micas realizadas por lo habitantes de una determinada parroquia.","unita":"actividad","colorname":"blanco","type":"geometry","cat":"true"},{"number":"45","category":"Demograficos","label":"Servicio de transporte p\xfablico","description":"Hace referencia al servicio de transporte p\xfablico con el que cuenta una determinada parroquia, pudiendo ser: urbano, micro regional o rural.","unit":".","name_ind":"tipotr","color":"#FCFDFF","info":"Hace referencia al servicio de transporte p\xfablico con el que cuenta una determinada parroquia, pudiendo ser: urbano, micro regional o rural.","unita":"tipo de servicio","colorname":"banco","type":"geometry","cat":"true"},{"number":"46","category":"Demograficos","label":"Movilizaci\xf3n de Cuenca hacia las parroquias Rurales","name_ind":"movru","unit":"habit.","color":"#ff8f2c","colorname":"tomate","maxv":"10000","type":"geometry","cat":"false","parrq":"true"},{"number":"47","category":"Demograficos","label":"Movilizaci\xf3n desde Parroquias Rurales hacia Cuenca","name_ind":"movcu","unit":"habit.","color":"#b6ff08","colorname":"verde limon","maxv":"10000","type":"geometry","cat":"false","parrq":"true"},{"number":"48","category":"Demograficos","label":"Nivel de servicio Vial a las parroquias rurales","name_ind":"svial","unit":"(nivel)","color":"#89000f","colorname":"caf\xe9 obscuro","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"49","category":"IndicesNull","label":"Indice de desarrollo educacional","name_ind":"indedu","unit":"(Indice)","color":"#004572","colorname":"azul marino","maxv":"30","type":"geometry","cat":"false","parrq":"true"},{"number":"50","category":"IndicesNull","label":"Indice de desarrollo de salud","name_ind":"indsal","unit":"(Indice)","color":"#009b82","colorname":"verde azulado","maxv":"0","type":"geometry","cat":"false","parrq":"true"},{"number":"51","category":"IndicesNull","label":"Indice de desarrollo de vivienda","name_ind":"indviv","unit":"(Indice)","color":"#d0df00","colorname":"amarillo verdoso","maxv":"7","type":"geometry","cat":"false","parrq":"true"},{"number":"52","category":"IndicesNull","label":"Deficit servicios basicos","name_ind":"defsb","unit":"%","color":"#600089","colorname":"morado","maxv":"60","type":"geometry","cat":"false","parrq":"true"},{"number":"53","category":"IndicesNull","label":"Deficit Inicial","name_ind":"defini","unit":"%","color":"#FFACD5","colorname":"rosa","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"54","category":"IndicesNull","label":"Deficit Basico","name_ind":"defbas","unit":"%","color":"#A765F7","colorname":"purpura","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"55","category":"IndicesNull","label":"Deficit Bachillerato","name_ind":"defbac","unit":"%","color":"#5B69FC","colorname":"azul","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"56","category":"IndicesNull","label":"Deficit Centro","name_ind":"defcen","unit":"%","color":"#E05187","colorname":"rojo","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"57","category":"Intervenciones","label":"Proyectos Sep. 2020 Feb 2021","name_ind":"1","color":"#8F1F7E","type":"point","cat":"false"},{"number":"58","category":"Intervenciones","label":"Proyectos Mar. - Ago. 2020","name_ind":"2","color":"#DBC45C","type":"point","cat":"false"},{"number":"59","category":"Intervenciones","label":"Proyectos Sep. 2019 - Feb. 2020","name_ind":"3","color":"#DB47C6","type":"point","cat":"false"},{"number":"60","category":"Intervenciones","label":"Proyectos Mar. - Ago. 2019","name_ind":"4","color":"#30DBD0","type":"point","cat":"false"},{"number":"61","category":"Intervenciones","label":"Proyectos Sep. 2018 - Feb. 2019","name_ind":"5","color":"#278F88","type":"point","cat":"false"},{"number":"62","category":"Intervenciones","label":"Proyectos Mar. - Ago. 2018","name_ind":"6","color":"#8F2545","type":"point","cat":"false"},{"number":"63","category":"Intervenciones","label":"Proyectos Sep. 2017 - Feb. 2018","name_ind":"7","color":"#DBD365","type":"point","cat":"false"},{"number":"64","category":"Intervenciones","label":"Proyectos Anteriores a 2017","name_ind":"8","color":"#39B6DB","type":"point","cat":"false"}]}');const Jw=["tooltip"];function Qw(t,e){if(1&t){const t=So();wo(0,"li",34),wo(1,"label",35),Co(2,"i",36),rs(3),wo(4,"input",37),Oo("click",function(e){const n=xe(t).$implicit;return Io().clickCheckPoint(e,n)})("change",function(e){const n=xe(t).$implicit;return Io().ruidoCheck(e,n)}),xo(),xo(),xo()}if(2&t){const t=e.$implicit;Jr(2),ss("color: ",t.color,"  "),Jr(1),os(" ",t.label," \xa0 "),Jr(1),vo("checked",t.show)}}function tx(t,e){if(1&t&&(wo(0,"div"),wo(1,"canvas",44),rs(2," Your browser does not support the HTML5 canvas tag."),xo(),wo(3,"div",1),wo(4,"p",45),rs(5),xo(),wo(6,"p",46),rs(7),xo(),xo(),xo()),2&t){const t=Io(2).$implicit;Jr(1),ss("border:1px solid #d3d3d3; background-image: linear-gradient(to right, #FFFFFF,",t.color,");"),Jr(4),os(" ",t.min,""),Jr(2),os(" ",t.max,"")}}function ex(t,e){if(1&t&&(wo(0,"li"),Co(1,"img",48),rs(2),xo()),2&t){const t=e.$implicit;Jr(1),Ao("src","assets/img/icons/",t.value,".png",or),Jr(1),is(t.key)}}function nx(t,e){if(1&t&&(wo(0,"div"),wo(1,"ul"),yo(2,ex,3,2,"li",47),function(t,e){const n=we();let r;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const t=e[n];if("keyvalue"===t.name)return t}throw new rt("302","The pipe 'keyvalue' could not be found!")}(0,n.pipeRegistry),n.data[23]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(23,r.onDestroy)):r=n.data[23];const i=r.factory||(r.factory=te(r.type)),o=_t(_o);try{const t=dn(!1),e=i();dn(t),function(t,e,n,r){23>=t.data.length&&(t.data[23]=null,t.blueprint[23]=null),e[23]=r}(n,be(),0,e)}finally{_t(o)}}(),xo(),xo()),2&t){const t=Io(2).$implicit,e=Io();Jr(2),vo("ngForOf",ya(3,1,e.iconMap[t.name_ind]))}}function rx(t,e){if(1&t&&(wo(0,"div",43),yo(1,tx,8,5,"div",33),yo(2,nx,4,3,"div",33),xo()),2&t){const t=Io().$implicit;Jr(1),vo("ngIf",!t.cat),Jr(1),vo("ngIf",t.cat)}}function ix(t,e){if(1&t){const t=So();wo(0,"li",34),wo(1,"label",35),Xe(),wo(2,"svg",38),wo(3,"title"),rs(4),xo(),Co(5,"path",39),Co(6,"path",40),xo(),rs(7),Ze(),wo(8,"input",41),Oo("click",function(e){const n=xe(t).$implicit;return Io().clickCheck(e,n)})("change",function(e){const n=xe(t).$implicit;return Io().ruidoCheck(e,n)}),xo(),xo(),yo(9,rx,3,2,"div",42),xo()}if(2&t){const t=e.$implicit;Jr(4),is(t.description),Jr(3),os(" ",t.label," \xa0 "),Jr(1),vo("checked",t.show),Jr(1),vo("ngIf",t.show)}}function ox(t,e){if(1&t&&(wo(0,"div",43),wo(1,"canvas",44),rs(2," Your browser does not support the HTML5 canvas tag."),xo(),wo(3,"div",1),wo(4,"p",45),rs(5),xo(),wo(6,"p",46),rs(7),xo(),xo(),xo()),2&t){const t=Io().$implicit;Jr(1),ss("border:1px solid #d3d3d3; background-image: linear-gradient(to right, #FFFFFF,",t.color,");"),Jr(4),os(" ",t.min,""),Jr(2),os(" ",t.max,"")}}function sx(t,e){if(1&t){const t=So();wo(0,"li",34),wo(1,"label",35),Xe(),wo(2,"svg",38),wo(3,"title"),rs(4),xo(),Co(5,"path",39),Co(6,"path",40),xo(),rs(7),Ze(),wo(8,"input",41),Oo("click",function(e){const n=xe(t).$implicit;return Io().clickCheck(e,n)})("change",function(e){const n=xe(t).$implicit;return Io().ruidoCheck(e,n)}),xo(),xo(),yo(9,ox,8,5,"div",42),xo()}if(2&t){const t=e.$implicit;Jr(4),is(t.description),Jr(3),os(" ",t.label," \xa0 "),Jr(1),vo("checked",t.show),Jr(1),vo("ngIf",t.show)}}function ax(t,e){if(1&t&&(wo(0,"div",43),wo(1,"canvas",44),rs(2," Your browser does not support the HTML5 canvas tag."),xo(),wo(3,"div",1),wo(4,"p",45),rs(5),xo(),wo(6,"p",46),rs(7),xo(),xo(),xo()),2&t){const t=Io().$implicit;Jr(1),ss("border:1px solid #d3d3d3; background-image: linear-gradient(to right, #FFFFFF,",t.color,");"),Jr(4),os(" ",t.min,""),Jr(2),os(" ",t.max,"")}}function lx(t,e){if(1&t){const t=So();wo(0,"li",34),wo(1,"label",35),Xe(),wo(2,"svg",38),wo(3,"title"),rs(4),xo(),Co(5,"path",39),Co(6,"path",40),xo(),rs(7),Ze(),wo(8,"input",49),Oo("click",function(e){const n=xe(t).$implicit;return Io().clickCheck(e,n)})("change",function(e){const n=xe(t).$implicit;return Io().ruidoCheck(e,n)}),xo(),xo(),yo(9,ax,8,5,"div",42),xo()}if(2&t){const t=e.$implicit;Jr(4),is(t.description),Jr(3),os(" ",t.label," \xa0 "),Jr(1),vo("checked",t.show),Jr(1),vo("ngIf",t.show)}}function cx(t,e){if(1&t&&(wo(0,"div",43),wo(1,"canvas",44),rs(2," Your browser does not support the HTML5 canvas tag."),xo(),wo(3,"div",1),wo(4,"p",45),rs(5),xo(),wo(6,"p",46),rs(7),xo(),xo(),xo()),2&t){const t=Io().$implicit;Jr(1),ss("border:1px solid #d3d3d3;  background-image: linear-gradient(to right, #FFFFFF,",t.color,");"),Jr(4),os(" ",t.min,""),Jr(2),os(" ",t.max,"")}}function ux(t,e){if(1&t){const t=So();wo(0,"li",34),wo(1,"label",35),Xe(),wo(2,"svg",38),wo(3,"title"),rs(4),xo(),Co(5,"path",39),Co(6,"path",40),xo(),rs(7),Ze(),wo(8,"input",41),Oo("click",function(e){const n=xe(t).$implicit;return Io().clickCheck(e,n)})("change",function(e){const n=xe(t).$implicit;return Io().ruidoCheck(e,n)}),xo(),xo(),yo(9,cx,8,5,"div",42),xo()}if(2&t){const t=e.$implicit;Jr(4),is(t.description),Jr(3),os(" ",t.label," \xa0 "),Jr(1),vo("checked",t.show),Jr(1),vo("ngIf",t.show)}}function hx(t,e){if(1&t&&(wo(0,"span"),wo(1,"small"),wo(2,"strong"),rs(3," Formula:"),xo(),xo(),Co(4,"img",52),Co(5,"br"),xo()),2&t){const t=Io(3);Jr(4),Ao("src","assets/img/",t.activeInd.formula,".gif",or)}}function dx(t,e){if(1&t&&(wo(0,"span"),wo(1,"small"),wo(2,"strong"),rs(3," Variables: "),xo(),xo(),wo(4,"small"),rs(5),xo(),Co(6,"br"),xo()),2&t){const t=Io(3);Jr(5),os(" ",t.activeInd.data," ")}}function px(t,e){if(1&t&&(wo(0,"span"),wo(1,"small"),wo(2,"strong"),rs(3," Unidad de an\xe1lisis: "),xo(),xo(),wo(4,"small"),rs(5),xo(),xo()),2&t){const t=Io(3);Jr(5),os(" ",t.activeInd.unita," ")}}function fx(t,e){if(1&t&&(wo(0,"div",51),wo(1,"p"),wo(2,"small"),wo(3,"strong"),rs(4," Descripci\xf3n del indicador :"),xo(),xo(),wo(5,"small"),rs(6),xo(),Co(7,"br"),yo(8,hx,6,1,"span",33),yo(9,dx,7,1,"span",33),yo(10,px,6,1,"span",33),Co(11,"br"),xo(),xo()),2&t){const t=Io(2);Jr(6),os(" ",t.activeInd.info," "),Jr(2),vo("ngIf",t.activeInd.formula),Jr(1),vo("ngIf",t.activeInd.data),Jr(1),vo("ngIf",t.activeInd.unita)}}function gx(t,e){if(1&t&&(wo(0,"div"),yo(1,fx,12,4,"div",50),xo()),2&t){const t=Io();Jr(1),vo("ngIf",t.activeInd.info)}}let mx=(()=>{class t{constructor(){this.indicatorsMetadataList=[],this.indicatorsVia=[],this.indicatorsTrans=[],this.indicatorsTransp=[],this.indicatorsdemo=[],this.indicatorsInter=[],this.indicesPa=[],this.intervPoints=[],this.activeIndicatorPoints={},this.calculateColors=function(t,e,n,r,i,o,s){t.getSource().getFeatures();var a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;t.getSource().forEachFeature(function(t){var n=Number(t.get(e));n<l&&(l=n),n>a&&(a=n),console.log(e,l,n)}),console.log(e,l),o&&(a=o),i.min=l,i.max=a,t.getSource().forEachFeature(function(t){var o=(Number(t.get(e))-l)/(a-l),s=function(t){return 1==(t=t.toString(16)).length?"0"+t:t},c=Math.ceil(parseInt(n.substring(0,2),16)*o+parseInt(r.substring(0,2),16)*(1-o)),u=Math.ceil(parseInt(n.substring(2,4),16)*o+parseInt(r.substring(2,4),16)*(1-o)),h=Math.ceil(parseInt(n.substring(4,6),16)*o+parseInt(r.substring(4,6),16)*(1-o)),d="#"+s(c)+s(u)+s(h);t.ccolor||(t.ccolor={}),t.meta||(t.meta={}),c&&u&&h||(d="#DCDCDC"),t.ccolor[e]=d,t.meta[e]=i})},this.iconMap={aeco:{Manufactura:"manuf",Comercio:"shop",Agricultura:"camion","Construcci\xf3n":"const"},tipotr:{Urbano:"busr",Interparroquial:"bus_v",Microregional:"bus_a"}};for(let e of $w.v)switch(e.category){case"Tr\xe1nsito":this.indicatorsTrans.push(e);break;case"Viabilidad":this.indicatorsVia.push(e);break;case"Transporte":this.indicatorsTransp.push(e);break;case"Demograficos":this.indicatorsdemo.push(e);break;case"Indices":this.indicesPa.push(e);break;case"Intervenciones":this.intervPoints.push(e)}this.indicatorsMetadataList=$w.v;const t=this;this.highlightStyle=new Pv({fill:new Cv({color:"rgba(255,255,255,0.4)"}),stroke:new Sv({color:"#000010",width:3})}),this.pointStyle=function(e){var n=t.intervPoints.filter(function(t){return Number(t.name_ind)===e.get("clasf")})[0];return new Pv({image:new xv({radius:5,fill:new Cv({color:n.color})})})},this.calcpointstyle=function(e){return t.activeIndicatorPoints[e.get("clasf")]&&t.activeIndicatorPoints[e.get("clasf")].show?t.pointStyle(e):new Pv({})},this.normalStyle=function(t){let e;return e=t.get("A_estudio")?"rgba(220, 220, 220, 0.7)":"rgba(255, 250, 250, 0.4)",new Pv({fill:new Cv({color:e}),stroke:new Sv({color:"rgba(4, 4, 4, 1)",width:1})})},this.stylop=function(t){let e;return e=t.get("A_estudio")?"rgba(220, 220, 220, 0.1)":"rgba(255, 250, 250, 0.1)",new Pv({fill:new Cv({color:e}),stroke:new Sv({color:"rgba(4, 4, 4, 1)",width:1})})},this.calculatedStyle=function(e){let n;const r=t.activeIndicatorFieldName,i=null!=e.get("A_estudio")||e.meta[r].parrq;n=i?e.ccolor[r]:"rgba(255, 250, 250, 0.4)";const o=[new Pv({fill:new Cv({color:n}),stroke:new Sv({color:"rgba(4, 4, 4, 1)",width:1})})];if(i&&"true"==e.meta[r].cat){const n=e.get(r).split(";");let i=-30,s=0;for(let e of n)o.push(new Pv({geometry:function(t){let e=t.getGeometry(),n=e.getType();return"Polygon"==n?e.getInteriorPoint():"MultiPolygon"==n?e.getInteriorPoints():e},image:new Cb({anchor:[0,0],displacement:[i,s],scale:.75,anchorXUnits:"pixels",anchorYUnits:"pixels",src:"assets/img/icons/"+t.iconMap[r][e]+".png"})})),i+=40,s+=15}return o},this.baseMapOSM=new gv({source:new Zw}),this.parroquiasBaseLayer=new kb({source:new Vb({format:new dw,url:"assets/capas/parroquias_complete.geo.json"})}),this.puntosBaseLayer=new kb({source:new Vb({format:new dw,url:"assets/capas/intervencionespunt.geo.json"})}),this.cabecerasBaseLayer=new kb({source:new Vb({format:new dw,url:"assets/capas/cabeceras.geo.json"})}),this.comunidadesBaseLayer=new kb({source:new Vb({format:new dw,url:"assets/capas/comunidades.geo.json"})})}ngOnInit(){}ngAfterViewInit(){var t;this.olMapObj=new nv({view:new n_({center:(t=[-79,-2.89],Wm(t,"EPSG:4326","EPSG:3857")),zoom:10}),layers:[this.baseMapOSM,this.parroquiasBaseLayer,this.comunidadesBaseLayer,this.cabecerasBaseLayer,this.puntosBaseLayer],target:"ol-map"}),this.comunidadesBaseLayer.setVisible(!1),this.cabecerasBaseLayer.setStyle(this.stylop),this.parroquiasBaseLayer.setStyle(this.normalStyle),this.comunidadesBaseLayer.setStyle(this.normalStyle),this.puntosBaseLayer.setStyle(this.calcpointstyle);var e=this.indicatorsMetadataList,n=this.calculateColors,r=this.parroquiasBaseLayer;this.parroquiasBaseLayer.getSource().on("change",function(t){if("ready"==t.target.getState())for(let i=0;i<e.length;i++)"geometry"==e[i].type&&n(r,e[i].name_ind,e[i].color.replace("#",""),"FFFFFF",e[i],e[i].maxv,0)});const i=this;this.olMapObj.on("pointermove",function(t){null!=i.selectedFeature&&(i.selectedFeature.setStyle(void 0),i.selectedFeature=null);var e=!0;i.olMapObj.forEachFeatureAtPixel(t.pixel,function(n,r){var o=n.getProperties().geometry.ol_uid,s=i.parroquiasBaseLayer.getSource().getFeatures(),a=[].concat(s),l=(a=(a=(a=a.concat(i.cabecerasBaseLayer.getSource().getFeatures())).concat(i.comunidadesBaseLayer.getSource().getFeatures())).concat(i.puntosBaseLayer.getSource().getFeatures())).filter(function(t){return t.getProperties().geometry.ol_uid==o});if(i.selectedFeature=l[0],i.selectedFeature)if(i.overlay.setPosition(t.coordinate),i.selectedFeature.get("name"))e=!1,p=i.selectedFeature.get("name"),i.selectedFeature.get("description")&&(p+="<br/>Descripci\xf3n:"+i.selectedFeature.get("description")),i.selectedFeature.get("folders")&&(p+="<br/>Intervenci\xf2n:"+i.selectedFeature.get("folders")),i.toolTipHTMLElement.nativeElement.innerHTML=p;else{var c=i.selectedFeature.get("nombre_par");c||(c=i.selectedFeature.get("nombre")),c||(c=i.selectedFeature.get("PARROQUIA"));var u=s.filter(function(t){return t.getProperties().nombre_par.toLowerCase()==c.toLowerCase()}),h=!1;u[0]&&u[0].meta&&i.activeIndicatorFieldName&&(h=u[0].meta[i.activeIndicatorFieldName].parrq);var d=["El Valle","Ricaurte","Ba\xf1os","Sinincay"].some(t=>t.toLowerCase()==c.toLowerCase());if(d||h){e=!1,"aeco"!=i.activeIndicatorFieldName&&"tipotr"!=i.activeIndicatorFieldName&&i.selectedFeature.setStyle(i.highlightStyle),i.overlay.setPosition(t.coordinate);var p=c,f=void 0;null!=i.activeIndicatorFieldName&&(r==i.comunidadesBaseLayer&&h&&!d||r==i.cabecerasBaseLayer&&d||!d&&h&&r==i.parroquiasBaseLayer)&&(p+=f="<br/> Valor : "+u[0].get(i.activeIndicatorFieldName)+" "+u[0].meta[i.activeIndicatorFieldName].unit),r==i.comunidadesBaseLayer&&(p=i.selectedFeature.get("REC_COM_BA"),f&&(p+=f)),i.toolTipHTMLElement.nativeElement.innerHTML=p}}return!0}),e&&(i.toolTipHTMLElement.nativeElement.innerHTML="")}),this.toolTipHTMLElement.nativeElement.value="Whale!",this.overlay=new Kw({element:this.toolTipHTMLElement.nativeElement,offset:[10,0],positioning:"bottom-left"}),this.olMapObj.addOverlay(this.overlay),this.olMapObj.updateSize(),setTimeout(function(){i.olMapObj.updateSize()},500)}parroquiasChange(t){t.target.checked?(this.parroquiasBaseLayer.setVisible(!0),this.cabecerasBaseLayer.setVisible(!0)):(this.parroquiasBaseLayer.setVisible(!1),this.cabecerasBaseLayer.setVisible(!1))}comunidadesChange(t){this.comunidadesBaseLayer.setVisible(!!t.target.checked)}intervChange(t){for(let e of this.intervPoints)this.activeIndicatorPoints[e.name_ind]=e,e.show=!!t.target.checked;this.puntosBaseLayer.setStyle(this.calcpointstyle)}baseMapChange(t){this.baseMapOSM.setVisible(!!t.target.checked)}cleanCategory(t){this.activeInd&&(this.activeInd.show=!1),this.activeIndicatorFieldName=null,this.activeInd=void 0,this.parroquiasBaseLayer.setStyle(this.normalStyle)}clickCheckPoint(t,e){}clickCheck(t,e){this.activeInd==e&&(t.target.checked=!1,e.show=!1,this.activeInd=void 0,this.activeIndicatorFieldName=null,this.parroquiasBaseLayer.setStyle(this.normalStyle))}ruidoCheck(t,e){if(e.show=t.target.checked,this.activeIndicatorFieldName=null,"point"==e.type)this.activeIndicatorPoints[e.name_ind]=e,this.puntosBaseLayer.setStyle(this.calcpointstyle);else{this.parroquiasBaseLayer.setStyle(this.normalStyle);var n=[];n=(n=(n=(n=(n=n.concat(this.indicatorsTrans)).concat(this.indicatorsVia)).concat(this.indicatorsTransp)).concat(this.indicatorsdemo)).concat(this.indicesPa);for(let t of n)t.show=!1;e.show=t.target.checked,t.target.checked?(this.activeIndicatorFieldName=e.name_ind,this.parroquiasBaseLayer.setStyle(this.calculatedStyle),e.data&&(e.data=e.data.replaceAll("\r\n",", ")),this.activeInd=e):this.activeInd=void 0}}baseMapOp(t){this.baseMapOSM.setOpacity(t.target.value/100)}parroquiasOp(t){this.parroquiasBaseLayer.setOpacity(t.target.value/100),this.cabecerasBaseLayer.setOpacity(t.target.value/100)}comunidadesOp(t){this.comunidadesBaseLayer.setOpacity(t.target.value/100)}intervOp(t){this.puntosBaseLayer.setOpacity(t.target.value/100)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["app-root"]],viewQuery:function(t,e){if(1&t&&ka(Jw,5),2&t){let t;Aa(t=Fa())&&(e.toolTipHTMLElement=t.first)}},decls:87,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-md-4"],["id","navbar",1,"d-flex","flex-column","flex-shrink-0","p-3","bg-light"],["id","logoarea",1,"nav-link","px-0","align-middle"],["href","https://citmovucuenca.com/","target","_blank",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","link-dark","text-decoration-none",2,"color","white"],["width","100","height","32",1,"bi","me-2"],["src","assets/img/Logo_Citmov.png","alt","CITMOV","width","80",1,"fs-4"],["id","menu",1,"nav","nav-pills","flex-column","mb-auto"],["for","customRange1",1,"form-label"],["type","checkbox","checked","",3,"change"],["type","range","value","100","id","customRange1",1,"form-range",3,"change"],["for","customRange2",1,"form-label"],["type","range","value","100","id","customRange2",1,"form-range",3,"change"],["type","checkbox",3,"change"],["type","range","value","100","id","customRange3",1,"form-range",3,"change"],["type","range","value","100","id","customRange4",1,"form-range",3,"change"],["id","menubar","href","#intervenciones","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["data-toggle","collapse",1,"ms-1","d-none","d-sm-inline",2,"padding","5px"],["id","intervenciones","data-bs-parent","#menu",1,"collapse","show","nav","flex-column","ms-1"],["class","w-100",4,"ngFor","ngForOf"],["id","menubar","href","#demograficos","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["id","demograficos","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],["id","menubar","href","#viabilidad","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["id","viabilidad","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],["id","menubar","href","#transito","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["id","transito","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],["id","menubar","href","#transporte","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["id","transporte","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],[1,"col-md-8"],["id","ol-map",1,"map-container"],[1,"tooltip"],["tooltip",""],[4,"ngIf"],[1,"w-100"],["for","customRange3",1,"form-label"],[1,"bi","bi-suit-diamond-fill"],["type","checkbox","name","indRadio",3,"checked","click","change"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-square",2,"font-size","0.95rem"],["d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],["type","radio","name","indRadio",3,"checked","click","change"],["id","Barra",4,"ngIf"],["id","Barra"],["id","myCanvas","width","250","height","10"],[1,"col-md-9"],[1,"col-md-3","text-center"],[4,"ngFor","ngForOf"],["width","25",3,"src"],["type","radio","id","indRadio","name","indRadio",3,"checked","click","change"],["class","infobar",4,"ngIf"],[1,"infobar"],[3,"src"]],template:function(t,e){1&t&&(Co(0,"header"),wo(1,"main"),wo(2,"div",0),wo(3,"h2"),rs(4," GeoPortal"),xo(),wo(5,"div",1),wo(6,"div",2),wo(7,"div",3),wo(8,"div",4),wo(9,"a",5),Xe(),Co(10,"svg",6),Ze(),Co(11,"img",7),xo(),xo(),Co(12,"hr"),wo(13,"ul",8),wo(14,"li"),wo(15,"label",9),rs(16,"Mapa Base"),xo(),rs(17," \xa0 "),wo(18,"input",10),Oo("change",function(t){return e.baseMapChange(t)}),xo(),wo(19,"input",11),Oo("change",function(t){return e.baseMapOp(t)}),xo(),xo(),wo(20,"li"),wo(21,"label",12),rs(22,"Parroquias"),xo(),rs(23," \xa0 "),wo(24,"input",10),Oo("change",function(t){return e.parroquiasChange(t)}),xo(),wo(25,"input",13),Oo("change",function(t){return e.parroquiasOp(t)}),xo(),xo(),wo(26,"li"),wo(27,"label",12),rs(28,"Comunidades"),xo(),rs(29," \xa0 "),wo(30,"input",14),Oo("change",function(t){return e.comunidadesChange(t)}),xo(),wo(31,"input",15),Oo("change",function(t){return e.comunidadesOp(t)}),xo(),xo(),wo(32,"li"),wo(33,"label",12),rs(34,"Intervenciones"),xo(),rs(35," \xa0 "),wo(36,"input",14),Oo("change",function(t){return e.intervChange(t)}),xo(),wo(37,"input",16),Oo("change",function(t){return e.intervOp(t)}),xo(),xo(),Co(38,"hr"),wo(39,"li"),wo(40,"a",17),Oo("click",function(t){return e.cleanCategory(t)}),wo(41,"span",18),wo(42,"strong"),rs(43,"Intervenciones Urbanas"),xo(),rs(44," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),xo(),xo(),wo(45,"ul",19),yo(46,Qw,5,5,"li",20),xo(),xo(),wo(47,"li"),wo(48,"a",21),Oo("click",function(t){return e.cleanCategory(t)}),wo(49,"span",18),wo(50,"strong"),rs(51," Indicadores Parroquiales "),xo(),rs(52," \xa0\xa0\xa0\xa0"),xo(),xo(),wo(53,"ul",22),yo(54,ix,10,4,"li",20),xo(),xo(),wo(55,"li"),wo(56,"a",23),Oo("click",function(t){return e.cleanCategory(t)}),wo(57,"span",18),wo(58,"strong"),rs(59," Indicadores de Vialidad "),xo(),rs(60," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),xo(),xo(),wo(61,"ul",24),yo(62,sx,10,4,"li",20),xo(),xo(),wo(63,"li"),wo(64,"a",25),Oo("click",function(t){return e.cleanCategory(t)}),wo(65,"span",18),wo(66,"strong"),rs(67," Indicadores de Tr\xe1nsito "),xo(),rs(68," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),xo(),xo(),wo(69,"ul",26),yo(70,lx,10,4,"li",20),xo(),xo(),wo(71,"li"),wo(72,"a",27),Oo("click",function(t){return e.cleanCategory(t)}),wo(73,"span",18),wo(74,"b"),rs(75," Indicadores de Transporte "),xo(),rs(76," \xa0\xa0\xa0\xa0"),xo(),xo(),wo(77,"ul",28),yo(78,ux,10,4,"li",20),xo(),xo(),xo(),Co(79,"hr"),xo(),xo(),wo(80,"div",29),wo(81,"div",30),Co(82,"div",31,32),xo(),yo(84,gx,2,1,"div",33),xo(),xo(),xo(),xo(),wo(85,"footer"),rs(86," Footer\n"),xo()),2&t&&(Jr(46),vo("ngForOf",e.intervPoints),Jr(8),vo("ngForOf",e.indicatorsdemo),Jr(8),vo("ngForOf",e.indicatorsVia),Jr(8),vo("ngForOf",e.indicatorsTrans),Jr(8),vo("ngForOf",e.indicatorsTransp),Jr(6),vo("ngIf",e.activeInd))},directives:[nc,ic],pipes:[ac],styles:['@import url("https://fonts.googleapis.com/css?family=Roboto");body[_ngcontent-%COMP%]{font-family:Roboto;color:var(--text-color);margin:0;--header-color:#d1dfb7;--sidebar-color:#fae6be;--text-color:#000}#ol-map[_ngcontent-%COMP%]{height:500px;width:800px;border-radius:15px}#logoarea[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;border:2px inset #a9a9a9}.infobar[_ngcontent-%COMP%]{min-height:60px;border-style:solid;width:800px;border-width:1px;margin-top:10px;padding:10px}.tooltip[_ngcontent-%COMP%]{position:relative;padding:3px;background:#e1e1dc;color:#000;opacity:1;white-space:nowrap;font:10pt sans-serif}#menubar[_ngcontent-%COMP%]{color:#333435;margin-bottom:10px;background-color:#fff;border-radius:5px;border:1px inset #a9a9a9}#navbar[_ngcontent-%COMP%]{height:500px;overflow-y:auto}#navbar[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%]{border-radius:15px}#myCanvas[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:15px}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}header[_ngcontent-%COMP%]{background-color:var(--header-color);padding:2em}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:28px}main[_ngcontent-%COMP%]{display:flex;flex-grow:1}.left-bar[_ngcontent-%COMP%]{width:20em;background-color:var(--sidebar-color)}.map-container[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{background-color:var(--header-color);padding:1em}']}),t})();function yx(t,e,n,i){return r(n)&&(i=n,n=void 0),i?yx(t,e,n).pipe(T(t=>l(t)?i(...t):i(t))):new _(r=>{_x(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function _x(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)_x(t[o],e,n,r,i)}r.add(o)}class vx extends h{constructor(t,e){super()}schedule(t,e=0){return this}}let bx=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class wx extends bx{constructor(t,e=bx.now){super(t,()=>wx.delegate&&wx.delegate!==this?wx.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return wx.delegate&&wx.delegate!==this?wx.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const xx=new wx(class extends vx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}});function Cx(t){return!l(t)&&t-parseFloat(t)+1>=0}function Sx(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class Ex{call(t,e){return e.subscribe(new Tx(t))}}class Tx extends Hc{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Xc(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}function Ox(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),U(t,void 0).lift(new Rx(e))}new _(Iu);class Rx{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Px(t,this.resultSelector))}}class Px extends f{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;l(t)?e.push(new Ax(t)):e.push("function"==typeof t[I]?new Ix(t[I]()):new kx(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Ix{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class Ax{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[I](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class kx extends D{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[I](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return N(this.observable,new L(this))}}function Fx(t){return e=>e.lift(new jx(t))}class jx{constructor(t){this.notifier=t}call(t,e){const n=new Mx(t),r=N(this.notifier,new L(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Mx extends D{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Lx(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Dx(t,n))}}class Dx{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Nx(t,this.observables,this.project))}}class Nx extends Hc{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Xc(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class zx{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Uc(this.value);case"E":return t=this.error,new _(e=>e.error(t));case"C":return tu()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new zx("N",t):zx.undefinedValueNotification}static createError(t){return new zx("E",void 0,t)}static createComplete(){return zx.completeNotification}}zx.completeNotification=new zx("C"),zx.undefinedValueNotification=new zx("N",void 0);let qx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({}),t})(),Vx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[qx]]}),t})(),Gx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[Vx]}),t})();const Ux=["*"],Bx=["dialog"];function Hx(t){return null!=t}function Wx(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Xx={animation:!0,transitionTimerDelayMs:5};let Zx=(()=>{class t{constructor(){this.animation=Xx.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Yx=()=>{},{transitionTimerDelayMs:Kx}=Xx,$x=new Map,Jx=(t,e,n,r)=>{let i=r.context||{};const o=$x.get(e);if(o)switch(r.runningTransition){case"continue":return Qc;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),$x.delete(e)}const s=n(e,r.animation,i)||Yx;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),Uc(void 0).pipe(function(t){return e=>new _(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new C,c=new C,u=a.pipe(function(...t){return e=>Jc(e,Uc(...t))}(!0));$x.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const h=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=yx(e,"transitionend").pipe(Fx(u),du(({target:t})=>t===e));(function(...t){if(1===t.length){if(!l(t[0]))return t[0];t=t[0]}return U(t,void 0).lift(new Ex)})(function(t=0,e,n){let r=-1;return Cx(e)?r=Number(e)<1?1:Number(e):E(e)&&(n=e),E(n)||(n=xx),new _(e=>{const i=Cx(t)?t:+t-n.now();return n.schedule(Sx,i,{index:0,period:r,subscriber:e})})}(h+Kx).pipe(Fx(u)),n,c).pipe(Fx(u)).subscribe(()=>{$x.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let Qx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),tC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),eC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({}),t})(),nC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),rC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({}),t})();var iC=(()=>(function(t){t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}(iC||(iC={})),iC))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const oC=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function sC(t){const e=Array.from(t.querySelectorAll(oC)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),l=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),u=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,p=0;switch(i){case"top":d=s.top-(e.offsetHeight+l+c);break;case"bottom":d=s.top+s.height;break;case"left":p=s.left-(e.offsetWidth+u+h);break;case"right":p=s.left+s.width}switch(o){case"top":d=s.top;break;case"bottom":d=s.top+s.height-e.offsetHeight;break;case"left":p=s.left;break;case"right":p=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?p=s.left+s.width/2-e.offsetWidth/2:d=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return f.left>=0&&f.top>=0&&f.right<=y&&f.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let aC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc,Gx]]}),t})(),lC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({}),t})(),cC=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(Zn(Zx))},t.\u0275prov=at({factory:function(){return new t(Zn(Zx))},token:t,providedIn:"root"}),t})();class uC{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const hC=()=>{};let dC=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):hC}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(Zn(jl))},t.\u0275prov=at({factory:function(){return new t(Zn(jl))},token:t,providedIn:"root"}),t})(),pC=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(su(1)).subscribe(()=>{Jx(this._zone,this._el.nativeElement,(t,e)=>{e&&Wx(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Jx(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(_o(bs),_o(nl))},t.\u0275cmp=Nt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(Ho("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),Uo("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class fC{close(t){}dismiss(t){}}class gC{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new C,this._dismissed=new C,this._hidden=new C,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Fx(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Fx(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Uc(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ox(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var mC=(()=>(function(t){t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC"}(mC||(mC={})),mC))();let yC=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new C,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new va,this.shown=new C,this.hidden=new C}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(su(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Ox(Jx(this._zone,t,()=>t.classList.remove("show"),e),Jx(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};Ox(Jx(this._zone,this._elRef.nativeElement,(t,e)=>{e&&Wx(t),t.classList.add("show")},t),Jx(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{yx(t,"keydown").pipe(Fx(this._closed$),du(t=>t.which===iC.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(mC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;yx(this._dialogEl.nativeElement,"mousedown").pipe(Fx(this._closed$),Au(()=>e=!1),nu(()=>yx(t,"mouseup").pipe(Fx(this._closed$),su(1))),du(({target:e})=>t===e)).subscribe(()=>{e=!0}),yx(t,"click").pipe(Fx(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(mC.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=sC(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Jx(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(_o(jl),_o(bs),_o(nl))},t.\u0275cmp=Nt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&ka(Bx,7),2&t){let t;Aa(t=Fa())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(go("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),Ho("modal d-block"+(e.windowClass?" "+e.windowClass:"")),Uo("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ux,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(function(t){const e=be()[16][6];if(!e.projection){const t=e.projection=Nn(1,null),n=t.slice();let r=e.child;for(;null!==r;){const e=0;null!==e&&(n[e]?n[e].projectionNext=r:t[e]=r,n[e]=r),r=r.next}}}(),wo(0,"div",0,1),wo(2,"div",2),function(t,e=0,n){const r=be(),i=we(),o=li(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),Oe(),64!=(64&o.flags)&&function(t,e,n){Nr(e[11],0,e,n,Er(t,n,e),Ir(n.parent||e[6],n,e))}(i,r,o)}(3),xo(),xo()),2&t&&Ho("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),_C=(()=>{class t{constructor(t,e,n,r,i,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=o,this._activeWindowCmptHasChanged=new C,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new va,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=yx(e,"focusin").pipe(Fx(n),T(t=>t.target));yx(e,"keydown").pipe(Fx(n),du(t=>t.which===iC.Tab),Lx(t)).subscribe(([t,n])=>{const[r,i]=sC(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&yx(e,"click").pipe(Fx(n),Lx(t),T(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:Hx(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const l=new fC,c=this._getContentRef(t,r.injector||e,n,l,r);let u=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),d=new gC(h,c,u,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(a,a),l.close=t=>{d.close(t)},l.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),u&&u.instance&&(this._applyBackdropOptions(u.instance,r),u.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(pC).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(yC).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{Hx(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{Hx(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,i){return n?n instanceof Ys?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new uC([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new uC([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new uC([[e]])}_createFromComponent(t,e,n,r,i){const o=t.resolveComponentFactory(n),s=so.create({providers:[{provide:fC,useValue:r}],parent:e}),a=o.create(s),l=a.location.nativeElement;return i.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new uC([[l]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(Zn(xl),Zn(so),Zn(jl),Zn(dC),Zn(xs),Zn(nl))},t.\u0275prov=at({factory:function(){return new t(Zn(xl),Zn(Wi),Zn(jl),Zn(dC),Zn(xs),Zn(nl))},token:t,providedIn:"root"}),t})(),vC=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(Zn(ms),Zn(so),Zn(_C),Zn(cC))},t.\u0275prov=at({factory:function(){return new t(Zn(ms),Zn(Wi),Zn(_C),Zn(cC))},token:t,providedIn:"root"}),t})(),bC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({providers:[vC]}),t})(),wC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),xC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),CC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),SC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),EC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),TC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),OC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})(),RC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({}),t})();new An("live announcer delay",{providedIn:"root",factory:function(){return 100}});let PC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[[cc]]}),t})();const IC=[Qx,tC,eC,nC,rC,aC,lC,bC,wC,xC,CC,SC,EC,TC,OC,RC,PC];let AC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=lt({imports:[IC,Qx,tC,eC,nC,rC,aC,lC,bC,wC,xC,CC,SC,EC,TC,OC,RC,PC]}),t})(),kC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t,bootstrap:[mx]}),t.\u0275inj=lt({providers:[],imports:[[Gc,Ap,AC]]}),t})();(function(){if(gl)throw new Error("Cannot enable prod mode after platform setup.");fl=!1})(),qc().bootstrapModule(kC).catch(t=>console.error(t))}},function(t){"use strict";t(t.s=2667)}]);