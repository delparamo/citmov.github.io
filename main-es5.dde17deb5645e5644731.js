!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function n(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)})(t)}function a(t,e,n){return(a=f()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&l(i,n.prototype),i}).apply(null,arguments)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=f();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}(self.webpackChunkcitmov=self.webpackChunkcitmov||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},3036:function(t){t.exports=function(){"use strict";function t(t,r,i,o,a){!function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-u*c/s+h)),Math.min(o,Math.floor(r+(s-u)*c/s+h)),a)}var d=n[r],f=i,p=o;for(e(n,i,r),a(n[o],d)>0&&e(n,i,o);f<p;){for(e(n,f,p),f++,p--;a(n[f],d)<0;)f++;for(;a(n[p],d)>0;)p--}0===a(n[i],d)?e(n,i,p):e(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(t,r,i||0,o||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(i,t.leaf?r(a):a)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;f(t,s)&&(e.leaf?n.push(a):d(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(f(t,o)){if(e.leaf||d(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf){var c=i(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}o||a.leaf||!d(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,a=n-e+1,s=this._maxEntries;if(a<=s)return o(i=p(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=p([])).leaf=!1,i.height=r;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));v(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);v(t,c,h,u,this.compareMinY);for(var d=c;d<=h;d+=u){var f=Math.min(d+u-1,h);i.children.push(this._build(t,d,f,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=c(u),h=(d=t,f=u,(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-l);h<o?(o=h,i=l<i?l:i,a=u):h===o&&l<i&&(i=l,a=u)}e=a||e.children[0]}var d,f;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),s(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=p(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,s,u,l,h,d=1/0,f=1/0,p=e;p<=n-e;p++){var v=a(t,0,p,this.toBBox),g=a(t,p,n,this.toBBox),y=(i=v,o=g,s=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-s)*Math.max(0,h-u)),m=c(v)+c(g);y<d?(d=y,r=p,f=m<f?m:f):y===d&&m<f&&(f=m,r=p)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=a(t,0,e,i),u=a(t,n-e,n,i),l=h(o)+h(u),c=e;c<n-e;c++){var d=t.children[c];s(o,t.leaf?i(d):d),l+=h(o)}for(var f=n-e-1;f>=e;f--){var p=t.children[f];s(u,t.leaf?i(p):p),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},2667:function(r,i,l){"use strict";function f(t){return"function"==typeof t}var g=!1,m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=t},get useDeprecatedSynchronousErrorHandling(){return g}};function _(t){setTimeout(function(){throw t},0)}var b={closed:!0,next:function(t){},error:function(t){if(m.useDeprecatedSynchronousErrorHandling)throw t;_(t)},complete:function(){}},w=Array.isArray||function(t){return t&&"number"==typeof t.length};function x(t){return null!==t&&"object"==typeof t}var C=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),S=function(){function t(e){v(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return y(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(f(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(c){e=c instanceof C?k(c.errors):[c]}}if(w(o))for(var s=-1,u=o.length;++s<u;){var l=o[s];if(x(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof C?e=e.concat(k(c.errors)):e.push(c)}}if(e)throw new C(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}();function k(t){return t.reduce(function(t,e){return t.concat(e instanceof C?e.errors:e)},[])}S.EMPTY=function(t){return t.closed=!0,t}(new S);var E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),T=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;switch(v(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=b;break;case 1:if(!t){o.destination=b;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(d(o))):(o.syncErrorThrowable=!0,o.destination=new O(d(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new O(d(o),t,r,i)}return o}return y(n,[{key:E,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,s(p(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(S),O=function(t){u(n,t);var e=c(n);function n(t,r,i,o){var a,s;v(this,n),(a=e.call(this))._parentSubscriber=t;var u=d(a);return f(r)?s=r:r&&(s=r.next,i=r.error,o=r.complete,r!==b&&(f((u=Object.create(r)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(d(a)))),a._context=u,a._next=s,a._error=i,a._complete=o,a}return y(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;m.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=m.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):_(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;_(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};m.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),m.useDeprecatedSynchronousErrorHandling)throw n;_(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!m.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return m.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(_(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(T),R="function"==typeof Symbol&&Symbol.observable||"@@observable";function P(t){return t}var I=function(){var t=function(){function t(e){v(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return y(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof T)return t;if(t[E])return t[E]()}return t||e||n?new T(t,e,n):new T(b)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||m.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),m.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){m.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof T?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=A(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:R,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?P:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=A(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}();return t.create=function(e){return new t(e)},t}();function A(t){if(t||(t=m.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var F=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),j=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return y(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(S),M=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this,t)).destination=t,r}return n}(T),L=function(){var t=function(t){u(n,t);var e=c(n);function n(){var t;return v(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return y(n,[{key:E,value:function(){return new M(this)}},{key:"lift",value:function(t){var e=new D(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new F;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new F;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new F;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new F;return s(p(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new F;return this.hasError?(t.error(this.thrownError),S.EMPTY):this.isStopped?(t.complete(),S.EMPTY):(this.observers.push(t),new j(this,t))}},{key:"asObservable",value:function(){var t=new I;return t.source=this,t}}]),n}(I);return t.create=function(t,e){return new D(t,e)},t}(),D=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).destination=t,i.source=r,i}return y(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):S.EMPTY}}]),n}(L);function N(t){return t&&"function"==typeof t.schedule}function z(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(t,e))}}var q=function(){function t(e,n){v(this,t),this.project=e,this.thisArg=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new V(t,this.project,this.thisArg))}}]),t}(),V=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||d(o),o}return y(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(T),G=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},U="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",B=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function H(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var W=function(t){if(t&&"function"==typeof t[R])return n=t,function(t){var e=n[R]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(B(t))return G(t);if(H(t))return function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,_),e}}(t);if(t&&"function"==typeof t[U])return e=t,function(t){for(var n=e[U]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,r=x(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function X(t,e){return new I(function(n){var r=new S,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function Z(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[R]}(t))return function(t,e){return new I(function(n){var r=new S;return r.add(e.schedule(function(){var i=t[R]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(H(t))return function(t,e){return new I(function(n){var r=new S;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(B(t))return X(t,e);if(function(t){return t&&"function"==typeof t[U]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new I(function(n){var r,i=new S;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[U](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof I?t:new I(W(t))}var Y=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this)).parent=t,r}return y(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(T),K=function(t){u(n,t);var e=c(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(T);function J(t,e){if(!e.closed){if(t instanceof I)return t.subscribe(e);var n;try{n=W(t)(e)}catch(r){e.error(r)}return n}}function Q(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(Q(function(n,r){return Z(t(n,r)).pipe(z(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new $(t,n))})}var $=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;v(this,t),this.project=e,this.concurrent=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new tt(t,this.project,this.concurrent))}}]),t}(),tt=function(t){u(n,t);var e=c(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return v(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return y(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new Y(this),n=this.destination;n.add(e);var r=J(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(K);function et(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Q(P,t)}function nt(t,e){return e?X(t,e):new I(G(t))}function rt(){return function(t){return t.lift(new ot(t))}}var it,ot=function(){function t(e){v(this,t),this.connectable=e}return y(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new at(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),at=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return y(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(T),st=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return y(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new S).add(this.source.subscribe(new lt(this.getSubject(),this))),t.closed&&(this._connection=null,t=S.EMPTY)),t}},{key:"refCount",value:function(){return rt()(this)}}]),n}(I),ut={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(it=st.prototype)._subscribe},_isComplete:{value:it._isComplete,writable:!0},getSubject:{value:it.getSubject},connect:{value:it.connect},refCount:{value:it.refCount}},lt=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return y(n,[{key:"_error",value:function(t){this._unsubscribe(),s(p(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),s(p(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(M);function ct(){return new L}function ht(t){for(var e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function dt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ft(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var pt=ht({__forward_ref__:ht});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return dt(this())},t}function gt(t){return"function"==typeof(e=t)&&e.hasOwnProperty(pt)&&e.__forward_ref__===vt?t():t;var e}var yt=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(o(Error));function mt(t){return"string"==typeof t?t:null==t?"":String(t)}function _t(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():mt(t)}function bt(t,e){var n=e?" in ".concat(e):"";throw new yt("201","No provider for ".concat(_t(t)," found").concat(n))}function wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ct(t){return St(t,Tt)||St(t,Rt)}function St(t,e){return t.hasOwnProperty(e)?t[e]:null}function kt(t){return t&&(t.hasOwnProperty(Ot)||t.hasOwnProperty(Pt))?t[Ot]:null}var Et,Tt=ht({"\u0275prov":ht}),Ot=ht({"\u0275inj":ht}),Rt=ht({ngInjectableDef:ht}),Pt=ht({ngInjectorDef:ht}),It=((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It);function At(t){var e=Et;return Et=t,e}function Ft(t,e,n){var r=Ct(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&It.Optional?null:void 0!==e?e:void bt(dt(t),"Injector")}function jt(t){return{toString:t}.toString()}var Mt=((Mt=Mt||{})[Mt.OnPush=0]="OnPush",Mt[Mt.Default=1]="Default",Mt),Lt=((Lt=Lt||{})[Lt.Emulated=0]="Emulated",Lt[Lt.None=2]="None",Lt[Lt.ShadowDom=3]="ShadowDom",Lt),Dt="undefined"!=typeof globalThis&&globalThis,Nt="undefined"!=typeof window&&window,zt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt="undefined"!=typeof global&&global,Vt=Dt||qt||Nt||zt,Gt={},Ut=[],Bt=ht({"\u0275cmp":ht}),Ht=ht({"\u0275dir":ht}),Wt=ht({"\u0275pipe":ht}),Xt=ht({"\u0275mod":ht}),Zt=ht({"\u0275loc":ht}),Yt=ht({"\u0275fac":ht}),Kt=ht({__NG_ELEMENT_ID__:ht}),Jt=0;function Qt(t){return jt(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Lt.Emulated,id:"c",styles:t.styles||Ut,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Jt++,n.inputs=re(t.inputs,e),n.outputs=re(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map($t)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(te)}:null,n})}function $t(t){return oe(t)||function(t){return t[Ht]||null}(t)}function te(t){return function(t){return t[Wt]||null}(t)}var ee={};function ne(t){return jt(function(){var e={type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ee[t.id]=t.type),e})}function re(t,e){if(null==t)return Gt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var ie=Qt;function oe(t){return t[Bt]||null}function ae(t,e){var n=t[Xt]||null;if(!n&&!0===e)throw new Error("Type ".concat(dt(t)," does not have '\u0275mod' property."));return n}function se(t){return Array.isArray(t)&&"object"==typeof t[1]}function ue(t){return Array.isArray(t)&&!0===t[1]}function le(t){return 0!=(8&t.flags)}function ce(t){return 2==(2&t.flags)}function he(t){return 1==(1&t.flags)}function de(t){return null!==t.template}function fe(t,e){return t.hasOwnProperty(Yt)?t[Yt]:null}var pe,ve=function(){function t(e,n,r){v(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return y(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function ge(){var t=me(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===Gt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ye(t,e,n,r){var i=me(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Gt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new ve(u&&u.currentValue,e,a===Gt),t[r]=e}function me(t){return t.__ngSimpleChanges__||null}function _e(t){return!!t.listen}var be={createRenderer:function(t,e){return void 0!==pe?pe:"undefined"!=typeof document?document:void 0}};function we(t){for(;Array.isArray(t);)t=t[0];return t}function xe(t,e){return we(e[t])}function Ce(t,e){return we(e[t.index])}function Se(t,e){return t.data[e]}function ke(t,e){var n=e[t];return se(n)?n:n[0]}function Ee(t){return 4==(4&t[2])}function Te(t){return 128==(128&t[2])}function Oe(t,e){return null==e?null:t[e]}function Re(t){t[18]=0}function Pe(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Ie={lFrame:Qe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ae(){return Ie.bindingsEnabled}function Fe(){return Ie.lFrame.lView}function je(){return Ie.lFrame.tView}function Me(t){return Ie.lFrame.contextLView=t,t[8]}function Le(){for(var t=De();null!==t&&64===t.type;)t=t.parent;return t}function De(){return Ie.lFrame.currentTNode}function Ne(t,e){var n=Ie.lFrame;n.currentTNode=t,n.isParent=e}function ze(){return Ie.lFrame.isParent}function qe(){Ie.lFrame.isParent=!1}function Ve(){return Ie.isInCheckNoChangesMode}function Ge(t){Ie.isInCheckNoChangesMode=t}function Ue(){return Ie.lFrame.bindingIndex++}function Be(t){var e=Ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function He(t){Ie.lFrame.currentDirectiveIndex=t}function We(){return Ie.lFrame.currentQueryIndex}function Xe(t){Ie.lFrame.currentQueryIndex=t}function Ze(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ye(t,e,n){if(n&It.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&It.Host||(r=Ze(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Ie.lFrame=Je();return o.currentTNode=e,o.lView=t,!0}function Ke(t){var e=Je(),n=t[1];Ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Je(){var t=Ie.lFrame,e=null===t?null:t.child;return null===e?Qe(t):e}function Qe(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function $e(){var t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tn=$e;function en(){var t=$e();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nn(){return Ie.lFrame.selectedIndex}function rn(t){Ie.lFrame.selectedIndex=t}function on(){var t=Ie.lFrame;return Se(t.tView,t.selectedIndex)}function an(){Ie.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function sn(){Ie.lFrame.currentNamespace=null}function un(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,l=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function ln(t,e,n){dn(t,e,3,n)}function cn(t,e,n,r){(3&t[2])===n&&dn(t,e,n,r)}function hn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function dn(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(fn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function fn(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var pn=function t(e,n,r){v(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function vn(t,e,n){for(var r=_e(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var l=o,c=n[++i];yn(l)?r&&t.setProperty(e,l,c):r?t.setAttribute(e,l,c):e.setAttribute(l,c),i++}}return i}function gn(t){return 3===t||4===t||6===t}function yn(t){return 64===t.charCodeAt(0)}function mn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||_n(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function _n(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function bn(t){return-1!==t}function wn(t){return 32767&t}function xn(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var Cn=!0;function Sn(t){var e=Cn;return Cn=t,e}var kn=0;function En(t,e){var n=On(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Tn(r.data,t),Tn(e,null),Tn(r.blueprint,null));var i=Rn(t,e),o=t.injectorIndex;if(bn(i))for(var a=wn(i),s=xn(i,e),u=s[1].data,l=0;l<8;l++)e[o+l]=s[a+l]|u[a+l];return e[o+8]=i,o}function Tn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function On(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Rn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Pn(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Kt)&&(r=n[Kt]),null==r&&(r=n[Kt]=kn++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function In(t,e,n){if(n&It.Optional)return t;bt(e,"NodeInjector")}function An(t,e,n,r){if(n&It.Optional&&void 0===r&&(r=null),0==(n&(It.Self|It.Host))){var i=t[9],o=At(void 0);try{return i?i.get(e,r,n&It.Optional):Ft(e,r,n&It.Optional)}finally{At(o)}}return In(r,e,n)}function Fn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:It.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(Kt)?t[Kt]:void 0;return"number"==typeof e?e>=0?255&e:Mn:e}(n);if("function"==typeof o){if(!Ye(e,t,r))return r&It.Host?In(i,n,r):An(e,n,r,i);try{var a=o(r);if(null!=a||r&It.Optional)return a;bt(n)}finally{tn()}}else if("number"==typeof o){var s=null,u=On(t,e),l=-1,c=r&It.Host?e[16][6]:null;for((-1===u||r&It.SkipSelf)&&(-1!==(l=-1===u?Rn(t,e):e[u+8])&&qn(r,!1)?(s=e[1],u=wn(l),e=xn(l,e)):u=-1);-1!==u;){var h=e[1];if(zn(o,u,h.data)){var d=Ln(u,e,n,s,r,c);if(d!==jn)return d}-1!==(l=e[u+8])&&qn(r,e[1].data[u+8]===c)&&zn(o,u,e)?(s=h,u=wn(l),e=xn(l,e)):u=-1}}}return An(e,n,r,i)}var jn={};function Mn(){return new Vn(Le(),Fe())}function Ln(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=Dn(s,a,n,null==r?ce(s)&&Cn:r!=a&&0!=(3&s.type),i&It.Host&&o===s);return null!==u?Nn(e,a,u,s):jn}function Dn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,l=o>>20,c=i?s+l:t.directiveEnd,h=r?s:s+l;h<c;h++){var d=a[h];if(h<u&&n===d||h>=u&&d.type===n)return h}if(i){var f=a[u];if(f&&de(f)&&f.type===n)return u}return null}function Nn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof pn){var a=i;a.resolving&&function(t,e){throw new yt("200","Circular dependency in DI detected for ".concat(t))}(_t(o[n]));var s=Sn(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?At(a.injectImpl):null;Ye(t,r,It.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r,i=e.type.prototype,o=i.ngOnChanges,a=i.ngOnInit,s=i.ngDoCheck;if(o){var u=((r=e).type.prototype.ngOnChanges&&(r.setInput=ye),ge);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,u)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,a),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,o[n],e)}finally{null!==u&&At(u),Sn(s),a.resolving=!1,tn()}}return i}function zn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function qn(t,e){return!(t&It.Self||t&It.Host&&e)}var Vn=function(){function t(e,n){v(this,t),this._tNode=e,this._lView=n}return y(t,[{key:"get",value:function(t,e){return Fn(this._tNode,this._lView,t,void 0,e)}}]),t}();function Gn(t,e,n){return jt(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=a(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Un=function(){function t(e,n){v(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=wt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return y(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),Bn=new Un("AnalyzeForEntryComponents"),Hn=Function;function Wn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Wn(r,e)):e!==t&&e.push(r)}return e}function Xn(t,e){t.forEach(function(t){return Array.isArray(t)?Xn(t,e):e(t)})}function Zn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Kn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function Jn(t,e,n){var r=$n(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function Qn(t,e){var n=$n(t,e);if(n>=0)return t[1|n]}function $n(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var tr,er={},nr=/\n/gm,rr=ht({provide:String,useValue:ht});function ir(t){var e=tr;return tr=t,e}function or(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It.Default;if(void 0===tr)throw new Error("inject() must be called from an injection context");return null===tr?Ft(t,void 0,e):tr.get(t,e&It.Optional?null:void 0,e)}function ar(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It.Default;return(Et||or)(gt(t),e)}function sr(t){for(var e=[],n=0;n<t.length;n++){var r=gt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=It.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(ar(i,o))}else e.push(ar(r))}return e}function ur(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var lr=ur(Gn("Inject",function(t){return{token:t}}),-1),cr=ur(Gn("Optional"),8),hr=ur(Gn("SkipSelf"),4),dr=function(){function t(e){v(this,t),this.changingThisBreaksApplicationSecurity=e}return y(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}();function fr(t){return t instanceof dr?t.changingThisBreaksApplicationSecurity:t}var pr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,gr=((gr=gr||{})[gr.NONE=0]="NONE",gr[gr.HTML=1]="HTML",gr[gr.STYLE=2]="STYLE",gr[gr.SCRIPT=3]="SCRIPT",gr[gr.URL=4]="URL",gr[gr.RESOURCE_URL=5]="RESOURCE_URL",gr);function yr(t){var e,n,r=(e=Fe())&&e[12];return r?r.sanitize(gr.URL,t)||"":function(t,e){var n=function(t){return t instanceof dr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}(t,"URL")?fr(t):(n=mt(t),(n=String(n)).match(pr)||n.match(vr)?n:"unsafe:"+n)}function mr(t,e){t.__ngContext__=e}function _r(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function br(t){return t.ngOriginalError}function wr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var xr=function(){function t(){v(this,t),this._console=console}return y(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t&&t.ngErrorLogger||wr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(br(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=t&&br(t);e&&br(e);)e=br(e);return e||null}}]),t}(),Cr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Vt);function Sr(t){return t instanceof Function?t():t}var kr=((kr=kr||{})[kr.Important=1]="Important",kr[kr.DashCase=2]="DashCase",kr);function Er(t,e){return(void 0)(t,e)}function Tr(t){var e=t[3];return ue(e)?e[3]:e}function Or(t){return Pr(t[13])}function Rr(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!ue(t);)t=t[4];return t}function Ir(t,e,n,r,i){if(null!=r){var o,a=!1;ue(r)?o=r:se(r)&&(a=!0,r=r[0]);var s=we(r);0===t&&null!==n?null==i?zr(e,n,s):Nr(e,n,s,i||null,!0):1===t&&null!==n?Nr(e,n,s,i||null,!0):2===t?function(t,e,n){var r=Vr(t,e);r&&function(t,e,n,r){_e(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==we(n)&&Ir(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Yr(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Ar(t,e,n){return _e(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Fr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Pe(i,-1)),n.splice(r,1)}function jr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Fr(o,i),e>0&&(t[r-1][4]=i[4]);var a=Yn(t,10+e);Yr(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Mr(t,e){if(!(256&e[2])){var n=e[11];_e(n)&&n.destroyNode&&Yr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Lr(t[1],t);for(;e;){var n=null;if(se(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)se(e)&&Lr(e[1],e),e=e[3];null===e&&(e=t),se(e)&&Lr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Lr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof pn)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):we(e[a]),u=r[i=n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{var c=r[i=n[o+1]];n[o].call(c)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&_e(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&ue(e[3])){n!==e[3]&&Fr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Dr(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Lt.None||i===Lt.Emulated)return null}return Ce(r,n)}(t,e.parent,n)}function Nr(t,e,n,r,i){_e(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function zr(t,e,n){_e(t)?t.appendChild(e,n):e.appendChild(n)}function qr(t,e,n,r,i){null!==r?Nr(t,e,n,r,i):zr(t,e,n)}function Vr(t,e){return _e(t)?t.parentNode(e):e.parentNode}function Gr(t,e,n){return Ur(t,e,n)}var Ur=function(t,e,n){return 40&t.type?Ce(t,n):null};function Br(t,e,n,r){var i=Dr(t,r,e),o=e[11],a=Gr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)qr(o,i,n[s],a,!1);else qr(o,i,n,a,!1)}function Hr(t,e){if(null!==e){var n=e.type;if(3&n)return Ce(e,t);if(4&n)return Xr(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return Hr(t,r);var i=t[e.index];return ue(i)?Xr(-1,i):we(i)}if(32&n)return Er(e,t)()||we(t[e.index]);var o=Wr(t,e);return null!==o?Array.isArray(o)?o[0]:Hr(Tr(t[16]),o):Hr(t,e.next)}return null}function Wr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Xr(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return Hr(r,i)}return e[7]}function Zr(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&mr(we(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)Zr(t,e,n.child,r,i,o,!1),Ir(e,t,i,s,o);else if(32&u){for(var l=Er(n,r),c=void 0;c=l();)Ir(e,t,i,c,o);Ir(e,t,i,s,o)}else 16&u?Kr(t,e,r,n,i,o):Ir(e,t,i,s,o);n=a?n.projectionNext:n.next}}function Yr(t,e,n,r,i,o){Zr(n,r,t.firstChild,e,i,o,!1)}function Kr(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Ir(e,t,i,s[u],o);else Zr(t,e,s,a[3],i,o,!0)}function Jr(t,e,n){_e(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qr(t,e,n){_e(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function $r(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ti(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==$r((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ei(t){return 4===t.type&&"ng-template"!==t.value}function ni(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ri(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(gn(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ni(t,u,n)||""===u&&1===e.length){if(ii(r))return!1;a=!0}}else{var l=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!ti(t.attrs,l,n)){if(ii(r))return!1;a=!0}continue}var c=oi(8&r?"class":u,i,ei(t),n);if(-1===c){if(ii(r))return!1;a=!0;continue}if(""!==l){var h;h=c>o?"":i[c+1].toLowerCase();var d=8&r?h:null;if(d&&-1!==$r(d,l,0)||2&r&&l!==h){if(ii(r))return!1;a=!0}}}}else{if(!a&&!ii(r)&&!ii(u))return!1;if(a&&ii(u))continue;a=!1,r=u|1&r}}return ii(r)||a}function ii(t){return 0==(1&t)}function oi(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ai(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(ri(t,e[r],n))return!0;return!1}function si(t,e){return t?":not("+e.trim()+")":e}function ui(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||ii(a)||(e+=si(o,i),i=""),r=a,o=o||!ii(r);n++}return""!==i&&(e+=si(o,i)),e}var li={};function ci(t){hi(je(),Fe(),nn()+t,Ve())}function hi(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&ln(e,i,n)}else{var o=t.preOrderHooks;null!==o&&cn(e,o,0,n)}rn(n)}function di(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function pi(t){return 2|t}function vi(t){return(131068&t)>>2}function gi(t,e){return-131069&t|e<<2}function yi(t){return 1|t}function mi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];Xe(i),a.contentQueries(2,e[o],o)}}}function _i(t,e,n,r,i,o,a,s,u,l){var c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Re(c),c[3]=c[15]=t,c[8]=n,c[10]=a||t&&t[10],c[11]=s||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function bi(t,e,n,r,i){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,r,i){var o=De(),a=ze(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),Ie.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(o=Ie.lFrame,a=o.currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return Ne(s,!0),s}function wi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xi(t,e,n){Ke(e);try{var r=t.viewQuery;null!==r&&Ji(1,r,n);var i=t.template;null!==i&&ki(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mi(t,e),t.staticViewQueries&&Ji(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Wi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,en()}}function Ci(t,e,n,r){var i=e[2];if(256!=(256&i)){Ke(e);var o=Ve();try{Re(e),Ie.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ki(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&ln(e,s,null)}else{var u=t.preOrderHooks;null!==u&&cn(e,u,0,null),hn(e,0)}if(function(t){for(var e=Or(t);null!==e;e=Rr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Pe(o,1),i[2]|=1024}}(e),function(t){for(var e=Or(t);null!==e;e=Rr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Te(r)&&Ci(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&mi(t,e),!o)if(a){var l=t.contentCheckHooks;null!==l&&ln(e,l)}else{var c=t.contentHooks;null!==c&&cn(e,c,1),hn(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)rn(~s);else{var u=s,l=o[++a],c=o[++a];n=l,r=u,i=void 0,(i=Ie.lFrame).bindingIndex=i.bindingRootIndex=n,He(r),c(2,e[u])}}}finally{rn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Bi(t,e[n])}(e,h);var d=t.viewQuery;if(null!==d&&Ji(2,d,r),!o)if(a){var f=t.viewCheckHooks;null!==f&&ln(e,f)}else{var p=t.viewHooks;null!==p&&cn(e,p,2),hn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Pe(e[3],-1))}finally{en()}}}function Si(t,e,n,r){var i=e[10],o=!Ve(),a=Ee(e);try{o&&!a&&i.begin&&i.begin(),a&&xi(t,e,r),Ci(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function ki(t,e,n,r,i){var o=nn(),a=2&r;try{rn(-1),a&&e.length>20&&hi(t,e,20,Ve()),n(r,i)}finally{rn(o)}}function Ei(t,e,n){Ae()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||En(n,e),mr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],l=de(u);l&&qi(e,n,u);var c=Nn(e,t,s,n);mr(c,e),null!==a&&Vi(0,s-i,c,u,0,a),l&&(ke(n.index,e)[8]=c)}}(t,e,n,Ce(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Ie.lFrame.currentDirectiveIndex;try{rn(o);for(var s=r;s<i;s++){var u=t.data[s],l=e[s];He(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Mi(u,l)}}finally{rn(-1),He(a)}}(t,e,n))}function Ti(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Oi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ri(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ri(t,e,n,r,i,o,a,s,u,l){var c=20+r,h=c+i,d=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:li);return n}(c,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Pi(t,e,n,r){var i=$i(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&to(t).push(r,i.length-1))}function Ii(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,o,a,s){var u,l,c=Ce(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(no(t,n,u,r,i),ce(e)&&function(t,e){var n=ke(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(l=r)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,i=null!=a?a(i,e.value||"",r):i,_e(o)?o.setProperty(c,r,i):yn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Fi(t,e,n,r){var i=!1;if(Ae()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ai(n,a.selectors,!1)&&(i||(i=[]),Pn(En(n,e),t,a.type),de(a)?(Li(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,Ni(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,h=wi(t,e,o.length,null),d=0;d<o.length;d++){var f=o[d];n.mergedAttrs=mn(n.mergedAttrs,f.hostAttrs),zi(t,n,e,h,f),Di(h,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),l=!0),c||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var l=r[u],c=l.inputs,h=null===i||ei(e)?null:Gi(c,i);o.push(h),a=Ii(c,u,a),s=Ii(l.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new yt("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=mn(n.mergedAttrs,n.attrs),i}function ji(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function Mi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Di(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;de(e)&&(n[""]=t)}}function Ni(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zi(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=fe(i.type)),a=new pn(o,de(i),null);t.blueprint[r]=a,n[r]=a,ji(t,e,0,r,wi(t,n,i.hostVars,li),i)}function qi(t,e,n){var r=Ce(e,t),i=Oi(n),o=t[10],a=Xi(t,_i(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function Vi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var l=a[u++],c=a[u++],h=a[u++];null!==s?r.setInput(n,h,l,c):n[c]=h}}function Gi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Bi(t,e){var n=ke(e,t);if(Te(n)){var r=n[1];80&n[2]?Ci(r,n,r.template,n[8]):n[5]>0&&Hi(n)}}function Hi(t){for(var e=Or(t);null!==e;e=Rr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Ci(i,r,i.template,r[8])}else r[5]>0&&Hi(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=ke(o[a],t);Te(s)&&s[5]>0&&Hi(s)}}function Wi(t,e){var n=ke(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),xi(r,n,n[8])}function Xi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Zi(t){for(;t;){t[2]|=64;var e=Tr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Yi(t,e,n){var r=e[10];r.begin&&r.begin();try{Ci(t,e,t.template,n)}catch(i){throw eo(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=_r(n),i=r[1];Si(i,r,i.template,n)}}(t[8])}function Ji(t,e,n){Xe(0),e(t,n)}var Qi=Promise.resolve(null);function $i(t){return t[7]||(t[7]=[])}function to(t){return t.cleanup||(t.cleanup=[])}function eo(t,e){var n=t[9],r=n?n.get(xr,null):null;r&&r.handleError(e)}function no(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],l=t.data[a];null!==l.setInput?l.setInput(u,i,r,s):u[s]=i}}function ro(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=ft(i,s):2==o&&(r=ft(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var io,oo=new Un("INJECTOR",-1),ao=function(){function t(){v(this,t)}return y(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er;if(e===er){var n=new Error("NullInjectorError: No provider for ".concat(dt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),so=new Un("Set Injector scope."),uo={},lo={};function co(){return void 0===io&&(io=new ao),io}function ho(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new fo(t,n,e||co(),r)}var fo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&Xn(n,function(t){return i.processProvider(t,e,n)}),Xn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(oo,vo(void 0,this));var s=this.records.get(so);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:dt(e))}return y(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:It.Default;this.assertNotDestroyed();var r,i=ir(this),o=At(void 0);try{if(!(n&It.SkipSelf)){var a=this.records.get(t);if(void 0===a){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Un)&&Ct(t);a=s&&this.injectableDefInScope(s)?vo(po(t),uo):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(n&It.Self?co():this.parent).get(t,e=n&It.Optional&&e===er?null:e)}catch(u){if("NullInjectorError"===u.name){if((u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(dt(t)),i)throw u;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):dt(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(nr,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(u,t,0,this.source)}throw u}finally{At(o),ir(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(dt(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=gt(t)))return!1;var i=kt(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=kt(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{Xn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var l=function(t){var e=u[t],n=e.ngModule,i=e.providers;Xn(i,function(t){return r.processProvider(t,n,i||Ut)})},c=0;c<u.length;c++)l(c)}this.injectorDefTypes.add(a);var h=fe(a)||function(){return new a};this.records.set(a,vo(h,uo));var d=i.providers;if(null!=d&&!s){var f=t;Xn(d,function(t){return r.processProvider(t,f,d)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,r){var i=yo(t=gt(t))?t:gt(t&&t.provide),o=function(t,e,r){return go(t)?vo(void 0,t.useValue):vo(function(t,e,r){var i,o;if(yo(t)){var s=gt(t);return fe(s)||po(s)}if(go(t))i=function(){return gt(t.useValue)};else if((o=t)&&o.useFactory)i=function(){return t.useFactory.apply(t,n(sr(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ar(gt(t.useExisting))};else{var u=gt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return fe(u)||po(u);i=function(){return a(u,n(sr(t.deps)))}}return i}(t),uo)}(t);if(yo(t)||!0!==t.multi)this.records.get(i);else{var s=this.records.get(i);s||((s=vo(void 0,uo,!0)).factory=function(){return sr(s.multi)},this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,o)}},{key:"hydrate",value:function(t,e){var n;return e.value===uo&&(e.value=lo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){if(!t.providedIn)return!1;var e=gt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}]),t}();function po(t){var e=Ct(t),n=null!==e?e.factory:fe(t);if(null!==n)return n;if(t instanceof Un)throw new Error("Token ".concat(dt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=Kn(e,"?");throw new Error("Can't resolve all parameters for ".concat(dt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[Tt]||t[Rt]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function vo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&rr in t}function yo(t){return"function"==typeof t}var mo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=ho(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},_o=function(){function t(){v(this,t)}return y(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}]),t}();function bo(t,e){un(_r(t)[1],Le())}_o.THROW_IF_NOT_FOUND=er,_o.NULL=new ao,_o.\u0275prov=wt({token:_o,providedIn:"any",factory:function(){return ar(oo)}}),_o.__NG_ELEMENT_ID__=-1;var wo=null;function xo(){if(!wo){var t=Vt.Symbol;if(t&&t.iterator)wo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(wo=r)}}return wo}var Co=function(){function t(e){v(this,t),this.wrapped=e}return y(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function So(t){return!!ko(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function ko(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Eo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function To(t,e,n,r){var i=Fe();return Eo(i,Ue(),e)&&(je(),function(t,e,n,r,i,o){var a=Ce(t,e);!function(t,e,n,r,i,o,a){if(null==o)_e(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?mt(o):a(o,r||"",i);_e(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],a,o,t.value,n,r,i)}(on(),i,t,e,n,r)),To}function Oo(t,e,n,r){return Eo(t,Ue(),n)?e+mt(n)+r:li}function Ro(t,e,n,r,i,o,a,s){var u=Fe(),l=je(),c=t+20,h=l.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var l=e.consts,c=bi(e,t,4,a||null,Oe(l,s));Fi(e,n,c,Oe(l,u)),un(e,c);var h=c.tViews=Ri(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,o,a):l.data[c];Ne(h,!1);var d=u[11].createComment("");Br(l,u,d,h),mr(d,u),Xi(u,u[c]=Ui(d,u,d,h)),he(h)&&Ei(l,u,h),null!=a&&Ti(u,h,s)}function Po(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It.Default,n=Fe();return null===n?ar(t,e):Fn(Le(),n,gt(t),e)}function Io(t,e,n){var r=Fe();return Eo(r,Ue(),e)&&Ai(je(),on(),r,t,e,r[11],n,!1),Io}function Ao(t,e,n,r,i){var o=i?"class":"style";no(t,n,e.inputs[o],o,r)}function Fo(t,e,n,r){var i=Fe(),o=je(),a=20+t,s=i[11],u=i[a]=Ar(s,e,Ie.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=bi(e,t,2,i,Oe(s,o));return Fi(e,n,u,Oe(s,a)),null!==u.attrs&&ro(u,u.attrs,!1),null!==u.mergedAttrs&&ro(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];Ne(l,!0);var c=l.mergedAttrs;null!==c&&vn(s,u,c);var h=l.classes;null!==h&&Qr(s,u,h);var d=l.styles;null!==d&&Jr(s,u,d),64!=(64&l.flags)&&Br(o,i,u,l),0===Ie.lFrame.elementDepthCount&&mr(u,i),Ie.lFrame.elementDepthCount++,he(l)&&(Ei(o,i,l),function(t,e,n){if(le(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,l,i)),null!==r&&Ti(i,l)}function jo(){var t=Le();ze()?qe():Ne(t=t.parent,!1);var e=t;Ie.lFrame.elementDepthCount--;var n=je();n.firstCreatePass&&(un(n,t),le(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ao(n,e,Fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ao(n,e,Fe(),e.stylesWithoutHost,!1)}function Mo(t,e,n,r){Fo(t,e,n,r),jo()}function Lo(){return Fe()}function Do(t){return!!t&&"function"==typeof t.then}var No=function(t){return!!t&&"function"==typeof t.subscribe};function zo(t,e,n,r){var i=Fe(),o=je(),a=Le();return function(t,e,n,r,i,o,a,s){var u=he(r),l=t.firstCreatePass&&to(t),c=$i(e),h=!0;if(3&r.type||s){var d=Ce(r,e),f=s?s(d):d,p=c.length,v=s?function(t){return s(we(t[r.index]))}:r.index;if(_e(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Vo(r,e,0,o,!1);var y=n.listen(f,i,o);c.push(o,y),l&&l.push(i,v,p,p+1)}}else o=Vo(r,e,0,o,!0),f.addEventListener(i,o,a),c.push(o),l&&l.push(i,v,p,a)}else o=Vo(r,e,0,o,!1);var m,_=r.outputs;if(h&&null!==_&&(m=_[i])){var b=m.length;if(b)for(var w=0;w<b;w+=2){var x=e[m[w]][m[w+1]].subscribe(o),C=c.length;c.push(o,x),l&&l.push(i,r.index,C,-(C+1))}}}(o,i,i[11],a,t,e,!!n,r),zo}function qo(t,e,n,r){try{return!1!==n(r)}catch(i){return eo(t,i),!1}}function Vo(t,e,n,r,i){return function n(o){if(o===Function)return r;var a=2&t.flags?ke(t.index,e):e;0==(32&e[2])&&Zi(a);for(var s=qo(e,0,r,o),u=n.__ngNextListenerFn__;u;)s=qo(e,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Go(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Ie.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ie.lFrame.contextLView))[8]}(t)}function Uo(t,e,n,r,i){var o=Fe(),a=Oo(o,e,n,r);return a!==li&&Ai(je(),on(),o,t,a,o[11],i,!1),Uo}function Bo(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?fi(o):vi(o),u=!1;0!==s&&(!1===u||a);){var l=t[s+1];Ho(t[s],e)&&(u=!0,t[s+1]=r?yi(l):pi(l)),s=r?fi(l):vi(l)}u&&(t[n+1]=r?pi(o):yi(o))}function Ho(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&$n(t,e)>=0}var Wo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xo(t){return t.substring(Wo.key,Wo.keyEnd)}function Zo(t){return t.substring(Wo.value,Wo.valueEnd)}function Yo(t,e){var n=Wo.textEnd;return n===e?-1:(e=Wo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Wo.key=e,n),Qo(t,e,n))}function Ko(t,e){var n=Wo.textEnd,r=Wo.key=Qo(t,e,n);return n===r?-1:(r=Wo.keyEnd=function(t,e,n){for(var r;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=$o(t,r,n),r=Wo.value=Qo(t,r,n),r=Wo.valueEnd=function(t,e,n){for(var r=-1,i=-1,o=-1,a=e,s=a;a<n;){var u=t.charCodeAt(a++);if(59===u)return s;34===u||39===u?s=a=ta(t,u,a,n):e===a-4&&85===o&&82===i&&76===r&&40===u?s=a=ta(t,41,a,n):u>32&&(s=a),o=i,i=r,r=-33&u}return s}(t,r,n),$o(t,r,n))}function Jo(t){Wo.key=0,Wo.keyEnd=0,Wo.value=0,Wo.valueEnd=0,Wo.textEnd=t.length}function Qo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function $o(t,e,n,r){return(e=Qo(t,e,n))<n&&e++,e}function ta(t,e,n,r){for(var i=-1,o=n;o<r;){var a=t.charCodeAt(o++);if(a==e&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function ea(t,e){return function(t,e,n,r){var i=Fe(),o=je(),a=Be(2);o.firstUpdatePass&&sa(o,t,a,!0),e!==li&&Eo(i,a,e)&&ha(o,o.data[nn()],i,i[11],t,i[a+1]=function(t,e){return null==t||"object"==typeof t&&(t=dt(fr(t))),t}(e),!0,a)}(t,e),ea}function na(t,e){for(var n=function(t){return Jo(t),Ko(t,Qo(t,0,Wo.textEnd))}(e);n>=0;n=Ko(e,n))ca(t,Xo(e),Zo(e))}function ra(t){oa(Jn,ia,t,!0)}function ia(t,e){for(var n=function(t){return Jo(t),Yo(t,Qo(t,0,Wo.textEnd))}(e);n>=0;n=Yo(e,n))Jn(t,Xo(e),!0)}function oa(t,e,n,r){var i=je(),o=Be(2);i.firstUpdatePass&&sa(i,null,o,r);var a=Fe();if(n!==li&&Eo(a,o,n)){var s=i.data[nn()];if(pa(s,r)&&!aa(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=ft(u,n||"")),Ao(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===li&&(i=Ut);for(var u=0,l=0,c=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==c||null!==h;){var d=u<i.length?i[u+1]:void 0,f=l<o.length?o[l+1]:void 0,p=void 0,v=null;c===h?(u+=2,l+=2,d!==f&&(v=h,p=f)):null===h||null!==c&&c<h?(u+=2,v=c):(l+=2,v=h,p=f),null!==v&&ha(t,e,n,r,v,p,a,s),c=u<i.length?i[u]:null,h=l<o.length?o[l]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return Ut;var r=[],i=fr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function aa(t,e){return e>=t.expandoStartIndex}function sa(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[nn()],a=aa(t,n);pa(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Ie.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=la(n=ua(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=ua(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==vi(r))return t[fi(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[fi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=la(s=ua(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=la(r,t[o].hostAttrs,n);return la(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=fi(a),u=vi(a);t[r]=n;var l,c=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||$n(h,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){var d=fi(t[s+1]);t[r+1]=di(d,s),0!==d&&(t[d+1]=gi(t[d+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=di(s,0),0!==s&&(t[s+1]=gi(t[s+1],r)),s=r;else t[r+1]=di(u,0),0===s?s=r:t[u+1]=gi(t[u+1],r),u=r;c&&(t[r+1]=pi(t[r+1])),Bo(t,l,r,!0),Bo(t,l,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&$n(o,e)>=0&&(n[r+1]=yi(n[r+1]))}(e,l,t,r,o),a=di(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function ua(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=la(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function la(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jn(t,a,!!n||e[++o]))}return void 0===t?null:t}function ca(t,e,n){Jn(t,e,fr(n))}function ha(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,l=u[s+1];fa(1==(1&l)?da(u,e,n,i,vi(l),a):void 0)||(fa(o)||2==(2&l)&&(o=da(u,null,n,i,s,a)),function(t,e,n,r,i){var o=_e(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:kr.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=kr.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,xe(nn(),n),i,o))}}function da(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],l=Array.isArray(u),c=l?u[1]:u,h=null===c,d=n[i+1];d===li&&(d=h?Ut:void 0);var f=h?Qn(d,r):c===r?d:void 0;if(l&&!fa(f)&&(f=Qn(u,r)),fa(f)&&(a=f,s))return a;var p=t[i+1];i=s?fi(p):vi(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=Qn(v,r))}return a}function fa(t){return void 0!==t}function pa(t,e){return 0!=(t.flags&(e?16:32))}function va(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Fe(),r=je(),i=t+20,o=r.firstCreatePass?bi(r,i,1,e,null):r.data[i],a=n[i]=function(t,e){return _e(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Br(r,n,a,o),Ne(o,!1)}function ga(t){return ya("",t,""),ga}function ya(t,e,n){var r=Fe(),i=Oo(r,t,e,n);return i!==li&&function(t,e,n){var r=xe(e,t);!function(t,e,n){_e(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,nn(),i),ya}function ma(t,e,n){oa(ca,na,Oo(Fe(),t,e,n),!1)}var _a=void 0,ba=["en",[["a","p"],["AM","PM"],_a],[["AM","PM"],_a,_a],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_a,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_a,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_a,"{1} 'at' {0}",_a],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],wa={};function xa(t){return t in wa||(wa[t]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[t]),wa[t]}var Ca=((Ca=Ca||{})[Ca.LocaleId=0]="LocaleId",Ca[Ca.DayPeriodsFormat=1]="DayPeriodsFormat",Ca[Ca.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ca[Ca.DaysFormat=3]="DaysFormat",Ca[Ca.DaysStandalone=4]="DaysStandalone",Ca[Ca.MonthsFormat=5]="MonthsFormat",Ca[Ca.MonthsStandalone=6]="MonthsStandalone",Ca[Ca.Eras=7]="Eras",Ca[Ca.FirstDayOfWeek=8]="FirstDayOfWeek",Ca[Ca.WeekendRange=9]="WeekendRange",Ca[Ca.DateFormat=10]="DateFormat",Ca[Ca.TimeFormat=11]="TimeFormat",Ca[Ca.DateTimeFormat=12]="DateTimeFormat",Ca[Ca.NumberSymbols=13]="NumberSymbols",Ca[Ca.NumberFormats=14]="NumberFormats",Ca[Ca.CurrencyCode=15]="CurrencyCode",Ca[Ca.CurrencySymbol=16]="CurrencySymbol",Ca[Ca.CurrencyName=17]="CurrencyName",Ca[Ca.Currencies=18]="Currencies",Ca[Ca.Directionality=19]="Directionality",Ca[Ca.PluralCase=20]="PluralCase",Ca[Ca.ExtraData=21]="ExtraData",Ca);function Sa(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var ka=function t(){v(this,t)},Ea=function t(){v(this,t)};function Ta(){}function Oa(t,e){return new Pa(Ce(t,e))}Ea.NULL=new(function(){function t(){v(this,t)}return y(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(dt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}());var Ra=function(){return Oa(Le(),Fe())},Pa=function(){var t=function t(e){v(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=Ra,t}();function Ia(t){return t instanceof Pa?t.nativeElement:t}var Aa=function t(){v(this,t)},Fa=function(){var t=function t(){v(this,t)};return t.\u0275prov=wt({token:t,providedIn:"root",factory:function(){return null}}),t}(),ja=new function t(e){v(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}("12.1.5"),Ma=function(){function t(){v(this,t)}return y(t,[{key:"supports",value:function(t){return So(t)}},{key:"create",value:function(t){return new Da(t)}}]),t}(),La=function(t,e){return e},Da=function(){function t(e){v(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||La}return y(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Va(n,r,i)?e:n,a=Va(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,d=h+c;l<=d&&d<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!So(t))throw new Error("Error trying to diff '".concat(dt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[xo()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Na(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qa),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Na=function t(e,n){v(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},za=function(){function t(){v(this,t),this._head=null,this._tail=null}return y(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),qa=function(){function t(){v(this,t),this.map=new Map}return y(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new za,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Va(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ga=function(){function t(){v(this,t)}return y(t,[{key:"supports",value:function(t){return t instanceof Map||ko(t)}},{key:"create",value:function(){return new Ua}}]),t}(),Ua=function(){function t(){v(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return y(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||ko(t)))throw new Error("Error trying to diff '".concat(dt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ba(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Ba=function t(e){v(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Ha(){return new Wa([new Ma])}var Wa=function(){var t=function(){function t(e){v(this,t),this.factories=e}return y(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Ha())},deps:[[t,new hr,new cr]]}}}]),t}();return t.\u0275prov=wt({token:t,providedIn:"root",factory:Ha}),t}();function Xa(){return new Za([new Ga])}var Za=function(){var t=function(){function t(e){v(this,t),this.factories=e}return y(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Xa())},deps:[[t,new hr,new cr]]}}}]),t}();return t.\u0275prov=wt({token:t,providedIn:"root",factory:Xa}),t}();function Ya(t,e,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=e[r.index];if(null!==a&&i.push(we(a)),ue(a))for(var s=10;s<a.length;s++){var u=a[s],l=u[1].firstChild;null!==l&&Ya(u[1],u,l,i)}var c=r.type;if(8&c)Ya(t,e,r.child,i);else if(32&c)for(var h=Er(r,e),d=void 0;d=h();)i.push(d);else if(16&c){var f=Wr(e,r);if(Array.isArray(f))i.push.apply(i,n(f));else{var p=Tr(e[16]);Ya(p[1],p,f,i,!0)}}r=o?r.projectionNext:r.next}return i}var Ka=function(){function t(e,n){v(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return y(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Ya(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(t){this._lView[8]=t}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(ue(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(jr(t,n),Yn(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Pi(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Zi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Yi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){Ge(!0);try{Yi(t,e,n)}finally{Ge(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Yr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Ja=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this,t))._view=t,r}return y(n,[{key:"detectChanges",value:function(){Ki(this._view)}},{key:"checkNoChanges",value:function(){!function(t){Ge(!0);try{Ki(t)}finally{Ge(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ka),Qa=function(t){return function(t,e,n){if(ce(t)&&!n){var r=ke(t.index,e);return new Ka(r,r)}return 47&t.type?new Ka(e[16],e):null}(Le(),Fe(),16==(16&t))},$a=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=Qa,t}(),ts=[new Ga],es=new Wa([new Ma]),ns=new Za(ts),rs=function(){return as(Le(),Fe())},is=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=rs,t}(),os=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return y(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=_i(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),xi(e,n,t),new Ka(n)}}]),n}(is);function as(t,e){return 4&t.type?new os(e,t,Oa(t,e)):null}var ss=function t(){v(this,t)},us=function t(){v(this,t)},ls=function(){return ps(Le(),Fe())},cs=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=ls,t}(),hs=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return y(n,[{key:"element",get:function(){return Oa(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Vn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Rn(this._hostTNode,this._hostLView);if(bn(t)){var e=xn(t,this._hostLView),n=wn(t);return new Vn(e[1].data[n+8],e)}return new Vn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=ds(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(ss,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(ue(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),l=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Zn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,l,u);var c=Xr(u,l),h=r[11],d=Vr(h,l[7]);return null!==d&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Yr(t,r,n,1,i,o)}(i,l[6],h,r,d,c),t.attachToViewContainerRef(),Zn(fs(l),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=ds(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);n&&(Yn(fs(this._lContainer),e),Mr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);return n&&null!=Yn(fs(this._lContainer),e)?new Ka(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(cs);function ds(t){return t[8]}function fs(t){return t[8]||(t[8]=[])}function ps(t,e){var n,r=e[t.index];if(ue(r))n=r;else{var i;if(8&t.type)i=we(r);else{var o=e[11];i=o.createComment("");var a=Ce(t,e);Nr(o,Vr(o,a),i,function(t,e){return _e(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=Ui(r,e,i,t),Xi(e,n)}return new hs(n,t,e)}var vs={},gs=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this)).ngModule=t,r}return y(n,[{key:"resolveComponentFactory",value:function(t){var e=oe(t);return new _s(e,this.ngModule)}}]),n}(Ea);function ys(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var ms=new Un("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Cr}}),_s=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(ui).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return y(n,[{key:"inputs",get:function(){return ys(this.componentDef.inputs)}},{key:"outputs",get:function(){return ys(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,vs,i);return o!==vs||r===vs?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Aa,be),u=a.get(Fa,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(_e(t))return t.selectRootElement(e,n===Lt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(l,n,this.componentDef.encapsulation):Ar(s.createRenderer(null,this.componentDef),c,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,f={components:[],scheduler:Cr,clean:Qi,playerHandler:null,flags:0},p=Ri(0,null,null,1,0,null,null,null,null,null),v=_i(null,p,f,d,null,null,s,l,u,a);Ke(v);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=bi(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(ro(s,u,!0),null!==t&&(vn(i,t,u),null!==s.classes&&Qr(i,t,s.classes),null!==s.styles&&Jr(i,t,s.styles)));var l=r.createRenderer(t,e),c=_i(n,Oi(e),null,e.onPush?64:16,n[20],s,r,l,null,null);return a.firstCreatePass&&(Pn(En(s,n),a,e.type),Li(a,s),Ni(s,n.length,1)),Xi(n,c),n[20]=c}(h,this.componentDef,v,s,l);if(h)if(n)vn(l,h,["ng-version",ja.full]);else{var y=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ii(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=y.attrs,_=y.classes;m&&vn(l,h,m),_&&_.length>0&&Qr(l,h,_.join(" "))}if(o=Se(p,20),void 0!==e)for(var b=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var x=e[w];b.push(null!=x?Array.from(x):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=Le();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zi(t,r,e,wi(t,e,1,null),n));var i=Nn(e,t,r.directiveStart,r);mr(i,e);var o=Ce(r,e);return o&&mr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=Le();e.contentQueries(1,a,s.directiveStart)}var u=Le();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(rn(u.index),ji(n[1],u,0,u.directiveStart,u.directiveEnd,e),Mi(e,a)),a}(g,this.componentDef,v,f,[bo]),xi(p,v,null)}finally{en()}return new bs(this.componentType,i,Oa(o,v),v,o)}}]),n}(ka),bs=function(t){u(n,t);var e=c(n);function n(t,r,i,o,a){var s;return v(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new Ja(o),s.componentType=t,s}return y(n,[{key:"injector",get:function(){return new Vn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){v(this,t)}}()),ws=new Map,xs=function(t){u(n,t);var e=c(n);function n(t,r){var i;v(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=d(i),i.destroyCbs=[],i.componentFactoryResolver=new gs(d(i));var o=ae(t),a=t[Zt]||null;return a&&Sa(a),i._bootstrapComponents=Sr(o.bootstrap),i._r3Injector=ho(t,r,[{provide:ss,useValue:d(i)},{provide:Ea,useValue:i.componentFactoryResolver}],dt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return y(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:It.Default;return t===_o||t===ss||t===oo?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(ss),Cs=function(t){u(r,t);var n=c(r);function r(t){var i,o,a;return v(this,r),(i=n.call(this)).moduleType=t,null!==ae(t)&&(o=t,a=new Set,function t(n){var r=ae(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(dt(e)," vs ").concat(dt(e.name)))}(i,ws.get(i),n),ws.set(i,n));var o,s=e(Sr(r.imports));try{for(s.s();!(o=s.n()).done;){var u=o.value;a.has(u)||(a.add(u),t(u))}}catch(l){s.e(l)}finally{s.f()}}(o)),i}return y(r,[{key:"create",value:function(t){return new xs(this.moduleType,t)}}]),r}(us);function Ss(t){return function(e){setTimeout(t,void 0,e)}}var ks=function(t){u(n,t);var e=c(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v(this,n),(t=e.call(this)).__isAsync=r,t}return y(n,[{key:"emit",value:function(t){s(p(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o,a,u=t,l=e||function(){return null},c=r;if(t&&"object"==typeof t){var h=t;u=null===(i=h.next)||void 0===i?void 0:i.bind(h),l=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(a=h.complete)||void 0===a?void 0:a.bind(h)}this.__isAsync&&(l=Ss(l),u&&(u=Ss(u)),c&&(c=Ss(c)));var d=s(p(n.prototype),"subscribe",this).call(this,{next:u,error:l,complete:c});return t instanceof S&&t.add(d),d}}]),n}(L);function Es(){return this._results[xo()]()}var Ts=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=xo(),r=t.prototype;r[n]||(r[n]=Es)}return y(t,[{key:"changes",get:function(){return this._changes||(this._changes=new ks)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=Wn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}();Symbol;var Os=function(){function t(e){v(this,t),this.queryList=e,this.matches=null}return y(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Rs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,t),this.queries=e}return y(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==qs(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Ps=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;v(this,t),this.predicate=e,this.flags=n,this.read=r},Is=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,t),this.queries=e}return y(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),As=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;v(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return y(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Fs(e,i)),this.matchTNodeWithReadOption(t,e,Dn(e,t,i,!1,!1))}else n===is?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Dn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Pa||r===cs||r===is&&4&e.type)this.addMatch(e.index,-2);else{var i=Dn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Fs(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function js(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Oa(t,e):4&t.type?as(t,e):null}(e,t):-2===n?function(t,e,n){return n===Pa?Oa(e,t):n===is?as(e,t):n===cs?ps(e,t):void 0}(t,e,r):Nn(t,t[1],n,e)}function Ms(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var l=a[u];s.push(l<0?null:js(e,o[l],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Ls(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Ms(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var l=o[s+1],c=e[-u],h=10;h<c.length;h++){var d=c[h];d[17]===d[3]&&Ls(d[1],d,l,r)}if(null!==c[9])for(var f=c[9],p=0;p<f.length;p++){var v=f[p];Ls(v[1],v,l,r)}}}return r}function Ds(t){var e=Fe(),n=je(),r=We();Xe(r+1);var i=qs(n,r);if(t.dirty&&Ee(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Ls(n,e,r,[]):Ms(n,e,i,r);t.reset(o,Ia),t.notifyOnChanges()}return!0}return!1}function Ns(t,e,n){var r=je();r.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Is),t.queries.track(new As(e,-1))}(r,new Ps(t,e,n)),2==(2&e)&&(r.staticViewQueries=!0)),function(t,e,n){var r=new Ts(4==(4&n));Pi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Rs),e[19].queries.push(new Os(r))}(r,Fe(),e)}function zs(){return t=Fe(),e=We(),t[19].queries[e].queryList;var t,e}function qs(t,e){return t.queries.getByIndex(e)}var Vs=new Un("Application Initializer"),Gs=function(){var t=function(){function t(e){var n=this;v(this,t),this.appInits=e,this.resolve=Ta,this.reject=Ta,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return y(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=function(n){var r=t.appInits[n]();if(Do(r))e.push(r);else if(No(r)){var i=new Promise(function(t,e){r.subscribe({complete:t,error:e})});e.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(Vs,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Us=new Un("AppId"),Bs={provide:Us,useFactory:function(){return"".concat(Hs()).concat(Hs()).concat(Hs())},deps:[]};function Hs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ws=new Un("Platform Initializer"),Xs=new Un("Platform ID"),Zs=new Un("appBootstrapListener"),Ys=function(){var t=function(){function t(){v(this,t)}return y(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Ks=new Un("LocaleId"),Js=new Un("DefaultCurrencyCode"),Qs=function t(e,n){v(this,t),this.ngModuleFactory=e,this.componentFactories=n},$s=function(t){return new Cs(t)},tu=$s,eu=function(t){return Promise.resolve($s(t))},nu=function(t){var e=$s(t),n=Sr(ae(t).declarations).reduce(function(t,e){var n=oe(e);return n&&t.push(new _s(n)),t},[]);return new Qs(e,n)},ru=nu,iu=function(t){return Promise.resolve(nu(t))},ou=function(){var t=function(){function t(){v(this,t),this.compileModuleSync=tu,this.compileModuleAsync=eu,this.compileModuleAndAllComponentsSync=ru,this.compileModuleAndAllComponentsAsync=iu}return y(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),au=Promise.resolve(0);function su(t){"undefined"==typeof Zone?au.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var uu=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,l=void 0!==u&&u;if(v(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ks(!1),this.onMicrotaskEmpty=new ks(!1),this.onStable=new ks(!1),this.onError=new ks(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!l&&s,this.shouldCoalesceRunChangeDetection=l,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Vt.requestAnimationFrame,e=Vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,hu(t),t.isCheckStableRunning=!0,cu(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),hu(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return du(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),fu(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return du(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),fu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,hu(n),cu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return y(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,lu,Ta,Ta);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),lu={};function cu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function hu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function du(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fu(t){t._nesting--,cu(t)}var pu,vu=function(){function t(){v(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ks,this.onMicrotaskEmpty=new ks,this.onStable=new ks,this.onError=new ks}return y(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),gu=function(){var t=function(){function t(e){var n=this;v(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return y(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){uu.assertNotInAngularZone(),su(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())su(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(uu))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),yu=function(){var t=function(){function t(){v(this,t),this._applications=new Map,mu.addToWindow(this)}return y(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return mu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),mu=new(function(){function t(){v(this,t)}return y(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),_u=!0,bu=!1,wu=new Un("AllowMultipleToken"),xu=function t(e,n){v(this,t),this.name=e,this.token=n};function Cu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new Un(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Su();if(!o||o.injector.get(wu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:so,useValue:"platform"});!function(t){if(pu&&!pu.destroyed&&!pu.injector.get(wu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");pu=t.get(ku);var e=t.get(Ws,null);e&&e.forEach(function(t){return t()})}(_o.create({providers:a,name:r}))}return function(t){var e=Su();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Su(){return pu&&!pu.destroyed?pu:null}var ku=function(){var t=function(){function t(e){v(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return y(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new vu:("zone.js"===n?void 0:n)||new uu({enableLongStackTrace:(bu=!0,_u),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:uu,useValue:o}];return o.run(function(){var e=_o.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(xr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Ru(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(Gs)).runInitializers(),a.donePromise.then(function(){return Sa(n.injector.get(Ks,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return Do(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Eu({},n);return function(t,e,n){var r=new Cs(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Ou);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(dt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(_o))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}();function Eu(t,e){return Array.isArray(e)?e.reduce(Eu,t):Object.assign(Object.assign({},t),e)}var Tu,Ou=((Tu=function(){function t(e,n,r,i,o){var a=this;v(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new I(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new I(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){uu.assertNotInAngularZone(),su(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){uu.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return N(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof I?e[0]:et(r)(nt(e,i))}(s,u.pipe(function(t){return rt()((e=ct,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,ut);return r.source=t,r.subjectFactory=n,r})(t));var e}))}return y(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ka?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ss),o=n.create(_o.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(gu,null),u=s&&o.injector.get(yu);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Ru(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var n,r=e(this._views);try{for(r.s();!(n=r.n()).done;)n.value.detectChanges()}catch(i){r.e(i)}finally{r.f()}}catch(o){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(o)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Ru(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Zs,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Tu)(ar(uu),ar(_o),ar(xr),ar(Ea),ar(Gs))},Tu.\u0275prov=wt({token:Tu,factory:Tu.\u0275fac}),Tu);function Ru(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Pu=function t(){v(this,t)},Iu=function t(){v(this,t)},Au={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Fu=function(){var e=function(){function e(t,n){v(this,e),this._compiler=t,this._config=n||Au}return y(e,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(e){var n=this,r=t(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),l(8255)(i).then(function(t){return t[o]}).then(function(t){return ju(t,i,o)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(e){var n=t(e.split("#"),2),r=n[0],i=n[1],o="NgFactory";return void 0===i&&(i="default",o=""),l(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return ju(t,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ar(ou),ar(Iu,8))},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e}();function ju(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Mu=Cu(null,"core",[{provide:Xs,useValue:"unknown"},{provide:ku,deps:[_o]},{provide:yu,deps:[]},{provide:Ys,deps:[]}]),Lu=[{provide:Ou,useClass:Ou,deps:[uu,_o,xr,Ea,Gs]},{provide:ms,deps:[uu],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Gs,useClass:Gs,deps:[[new cr,Vs]]},{provide:ou,useClass:ou,deps:[]},Bs,{provide:Wa,useFactory:function(){return es},deps:[]},{provide:Za,useFactory:function(){return ns},deps:[]},{provide:Ks,useFactory:function(t){return Sa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new lr(Ks),new cr,new hr]]},{provide:Js,useValue:"USD"}],Du=function(){var t=function t(e){v(this,t)};return t.\u0275fac=function(e){return new(e||t)(ar(Ou))},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({providers:Lu}),t}(),Nu=null;function zu(){return Nu}var qu=new Un("DocumentToken"),Vu=function(){var t=function(){function t(){v(this,t)}return y(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({factory:Gu,token:t,providedIn:"platform"}),t}();function Gu(){return ar(Bu)}var Uu=new Un("Location Initialized"),Bu=function(){var t=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._init(),r}return y(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return zu().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){var e=zu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),function(){return e.removeEventListener("popstate",t)}}},{key:"onHashChange",value:function(t){var e=zu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),function(){return e.removeEventListener("hashchange",t)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){Hu()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Hu()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(t)}},{key:"getState",value:function(){return this._history.state}}]),n}(Vu);return t.\u0275fac=function(e){return new(e||t)(ar(qu))},t.\u0275prov=wt({factory:Wu,token:t,providedIn:"platform"}),t}();function Hu(){return!!window.history.pushState}function Wu(){return new Bu(ar(qu))}function Xu(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Zu(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Yu(t){return t&&"?"!==t[0]?"?"+t:t}var Ku=function(){var t=function(){function t(){v(this,t)}return y(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({factory:Ju,token:t,providedIn:"root"}),t}();function Ju(t){var e=ar(qu).location;return new $u(ar(Vu),e&&e.origin||"")}var Qu=new Un("appBaseHref"),$u=function(){var t=function(t){u(n,t);var e=c(n);function n(t,r){var i;if(v(this,n),(i=e.call(this))._platformLocation=t,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,h(i)}return y(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return Xu(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+Yu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Yu(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Yu(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(Ku);return t.\u0275fac=function(e){return new(e||t)(ar(Vu),ar(Qu,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),tl=function(){var t=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return y(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=Xu(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Yu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Yu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(Ku);return t.\u0275fac=function(e){return new(e||t)(ar(Vu),ar(Qu,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),el=function(){var t=function(){function t(e,n){var r=this;v(this,t),this._subject=new ks,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Zu(rl(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return y(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+Yu(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,rl(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yu(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yu(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformStrategy).historyGo)||void 0===e||e.call(t,n)}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(Ku),ar(Vu))},t.normalizeQueryParams=Yu,t.joinWithSlash=Xu,t.stripTrailingSlash=Zu,t.\u0275prov=wt({factory:nl,token:t,providedIn:"root"}),t}();function nl(){return new el(ar(Ku),ar(Vu))}function rl(t){return t.replace(/\/index.html$/,"")}var il=((il=il||{})[il.Zero=0]="Zero",il[il.One=1]="One",il[il.Two=2]="Two",il[il.Few=3]="Few",il[il.Many=4]="Many",il[il.Other=5]="Other",il),ol=function t(){v(this,t)},al=function(){var t=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this)).locale=t,r}return y(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return function(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=xa(e);if(n)return n;var r=e.split("-")[0];if(n=xa(r))return n;if("en"===r)return ba;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[Ca.PluralCase]}(e||this.locale)(t)){case il.Zero:return"zero";case il.One:return"one";case il.Two:return"two";case il.Few:return"few";case il.Many:return"many";default:return"other"}}}]),n}(ol);return t.\u0275fac=function(e){return new(e||t)(ar(Ks))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),sl=function(){function t(e,n,r,i){v(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return y(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),ul=function(){var t=function(){function t(e,n,r){v(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return y(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new sl(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new ll(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new ll(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Po(cs),Po(is),Po(Wa))},t.\u0275dir=ie({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),ll=function t(e,n){v(this,t),this.record=e,this.view=n},cl=function(){var t=function(){function t(e,n){v(this,t),this._viewContainer=e,this._context=new hl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return y(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){dl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){dl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Po(cs),Po(is))},t.\u0275dir=ie({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),hl=function t(){v(this,t),this.$implicit=null,this.ngIf=null};function dl(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(dt(e),"'."))}var fl=function(){var t,e=function(){function t(e){v(this,t),this.differs=e,this.keyValues=[],this.compareFn=pl}return y(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl;if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t),i=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(function(t){e.keyValues.push({key:t.key,value:t.currentValue})})),(r||i)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}}]),t}();return e.\u0275fac=function(t){return new(t||e)(Po(Za,16))},e.\u0275pipe={type:(t={name:"keyvalue",type:e,pure:!1}).type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null},e}();function pl(t,e){var n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var vl=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({providers:[{provide:ol,useClass:al}]}),t}(),gl=function(){var t=function t(){v(this,t)};return t.\u0275prov=wt({token:t,providedIn:"root",factory:function(){return new yl(ar(qu),window)}}),t}(),yl=function(){function t(e,n){v(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return y(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=function(t,e){var n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var a=o.getElementById(e)||o.querySelector('[name="'.concat(e,'"]'));if(a)return a}i=r.nextNode()}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=ml(this.window.history)||ml(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function ml(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var _l,bl=function(n){u(i,n);var r=c(i);function i(){return v(this,i),r.apply(this,arguments)}return y(i,[{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){t.parentNode&&t.parentNode.removeChild(t)}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getBaseHref",value:function(t){var e=(wl=wl||document.querySelector("base"))?wl.getAttribute("href"):null;return null==e?null:function(t){(_l=_l||document.createElement("a")).setAttribute("href",t);var e=_l.pathname;return"/"===e.charAt(0)?e:"/".concat(e)}(e)}},{key:"resetBaseElement",value:function(){wl=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(n){return function(n,r){r=encodeURIComponent(r);var i,o=e(n.split(";"));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.indexOf("="),u=t(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),l=u[0],c=u[1];if(l.trim()===r)return decodeURIComponent(c)}}catch(h){o.e(h)}finally{o.f()}return null}(document.cookie,n)}}],[{key:"makeCurrent",value:function(){var t;t=new i,Nu||(Nu=t)}}]),i}(function(t){u(n,t);var e=c(n);function n(){var t;return v(this,n),(t=e.apply(this,arguments)).supportsDOMEvents=!0,t}return n}(function(){return function t(){v(this,t)}}())),wl=null,xl=new Un("TRANSITION_ID"),Cl=[{provide:Vs,useFactory:function(t,e,n){return function(){n.get(Gs).donePromise.then(function(){var n=zu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[xl,qu,_o],multi:!0}],Sl=function(){function t(){v(this,t)}return y(t,[{key:"addToWindow",value:function(t){Vt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Vt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Vt.getAllAngularRootElements=function(){return t.getAllRootElements()},Vt.frameworkStabilizers||(Vt.frameworkStabilizers=[]),Vt.frameworkStabilizers.push(function(t){var e=Vt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?zu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,mu=e}}]),t}(),kl=function(){var t=function(){function t(){v(this,t)}return y(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),El=new Un("EventManagerPlugins"),Tl=function(){var t=function(){function t(e,n){var r=this;v(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return y(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(El),ar(uu))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Ol=function(){function t(e){v(this,t),this._doc=e}return y(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=zu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),Rl=function(){var t=function(){function t(){v(this,t),this._stylesSet=new Set}return y(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Pl=function(){var t=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Map,r._hostNodes.set(t.head,[]),r}return y(n,[{key:"_addStylesToHost",value:function(t,e,n){var r=this;t.forEach(function(t){var i=r._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}},{key:"addHost",value:function(t){var e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}},{key:"removeHost",value:function(t){var e=this._hostNodes.get(t);e&&e.forEach(Il),this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n,r){e._addStylesToHost(t,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(t){return t.forEach(Il)})}}]),n}(Rl);return t.\u0275fac=function(e){return new(e||t)(ar(qu))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}();function Il(t){zu().remove(t)}var Al={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fl=/%COMP%/g;function jl(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?jl(t,i,n):(i=i.replace(Fl,t),n.push(i))}return n}function Ml(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Ll=function(){var t=function(){function t(e,n,r){v(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Dl(e)}return y(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Lt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Nl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case Lt.ShadowDom:return new zl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=jl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(Tl),ar(Pl),ar(Us))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Dl=function(){function t(e){v(this,t),this.eventManager=e,this.data=Object.create(null)}return y(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Al[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Al[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Al[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(kr.DashCase|kr.Important)?t.style.setProperty(e,n,r&kr.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&kr.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ml(n)):this.eventManager.addEventListener(t,e,Ml(n))}}]),t}(),Nl=function(t){u(n,t);var e=c(n);function n(t,r,i,o){var a;v(this,n),(a=e.call(this,t)).component=i;var s=jl(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(Fl,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(Fl,o+"-"+i.id),a}return y(n,[{key:"applyToHost",value:function(t){s(p(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=s(p(n.prototype),"createElement",this).call(this,t,e);return s(p(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Dl),zl=function(t){u(n,t);var e=c(n);function n(t,r,i,o){var a;v(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=jl(o.id,o.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return y(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return s(p(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return s(p(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return s(p(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(s(p(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Dl),ql=function(){var t=function(t){u(n,t);var e=c(n);function n(t){return v(this,n),e.call(this,t)}return y(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Ol);return t.\u0275fac=function(e){return new(e||t)(ar(qu))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Vl=["alt","control","meta","shift"],Gl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ul={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bl={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Hl=function(){var t=function(t){u(n,t);var e=c(n);function n(t){return v(this,n),e.call(this,t)}return y(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return zu().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Vl.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ul.hasOwnProperty(e)&&(e=Ul[e]))}return Gl[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Vl.forEach(function(r){r!=n&&(0,Bl[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Ol);return t.\u0275fac=function(e){return new(e||t)(ar(qu))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Wl=Cu(Mu,"browser",[{provide:Xs,useValue:"browser"},{provide:Ws,useValue:function(){bl.makeCurrent(),Sl.init()},multi:!0},{provide:qu,useFactory:function(){return function(t){pe=t}(document),document},deps:[]}]),Xl=[[],{provide:so,useValue:"root"},{provide:xr,useFactory:function(){return new xr},deps:[]},{provide:El,useClass:ql,multi:!0,deps:[qu,uu,Xs]},{provide:El,useClass:Hl,multi:!0,deps:[qu]},[],{provide:Ll,useClass:Ll,deps:[Tl,Pl,Us]},{provide:Aa,useExisting:Ll},{provide:Rl,useExisting:Pl},{provide:Pl,useClass:Pl,deps:[qu]},{provide:gu,useClass:gu,deps:[uu]},{provide:Tl,useClass:Tl,deps:[El,uu]},{provide:function t(){v(this,t)},useClass:kl,deps:[]},[]],Zl=function(){var t=function(){function t(e){if(v(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return y(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Us,useValue:e.appId},{provide:xl,useExisting:Us},Cl]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(t,12))},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({providers:Xl,imports:[vl,Du]}),t}();function Yl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return N(r)?(e.pop(),X(e,r)):nt(e)}"undefined"!=typeof window&&window;var Kl=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this))._value=t,r}return y(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=s(p(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F;return this._value}},{key:"next",value:function(t){s(p(n.prototype),"next",this).call(this,this._value=t)}}]),n}(L),Jl=function(t){u(n,t);var e=c(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(T),Ql=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return y(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(T);function $l(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ql(t,n,r);if(!i.closed)return e instanceof I?e.subscribe(i):W(e)(i)}var tc={},ec=function(){function t(e){v(this,t),this.resultSelector=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new nc(t,this.resultSelector))}}]),t}(),nc=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return y(n,[{key:"_next",value:function(t){this.values.push(tc),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add($l(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===tc?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Jl),rc=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function ic(){return et(1)(Yl.apply(void 0,arguments))}var oc=new I(function(t){return t.complete()});function ac(t){return t?function(t){return new I(function(e){return t.schedule(function(){return e.complete()})})}(t):oc}function sc(t){return new I(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Z(n):ac()).subscribe(e)})}function uc(t,e){return"function"==typeof e?function(n){return n.pipe(uc(function(n,r){return Z(t(n,r)).pipe(z(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new lc(t))}}var lc=function(){function t(e){v(this,t),this.project=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new cc(t,this.project))}}]),t}(),cc=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return y(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Y(this),r=this.destination;r.add(n),this.innerSubscription=J(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||s(p(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&s(p(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(K),hc=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function dc(t){return function(e){return 0===t?ac():e.lift(new fc(t))}}var fc=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new hc}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new pc(t,this.total))}}]),t}(),pc=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return y(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(T);function vc(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new gc(t,e,n))}}var gc=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new yc(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),yc=function(t){u(n,t);var e=c(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return y(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(T);function mc(t,e){return function(n){return n.lift(new _c(t,e))}}var _c=function(){function t(e,n){v(this,t),this.predicate=e,this.thisArg=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new bc(t,this.predicate,this.thisArg))}}]),t}(),bc=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return y(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(T);function wc(t){return function(e){var n=new xc(t),r=e.lift(n);return n.caught=r}}var xc=function(){function t(e){v(this,t),this.selector=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new Cc(t,this.selector,this.caught))}}]),t}(),Cc=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return y(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void s(p(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new Y(this);this.add(r);var i=J(e,r);i!==r&&this.add(i)}}}]),n}(K);function Sc(t,e){return Q(t,e,1)}function kc(t){return function(e){return 0===t?ac():e.lift(new Ec(t))}}var Ec=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new hc}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new Tc(t,this.total))}}]),t}(),Tc=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return y(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(T);function Oc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ic;return function(e){return e.lift(new Rc(t))}}var Rc=function(){function t(e){v(this,t),this.errorFactory=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new Pc(t,this.errorFactory))}}]),t}(),Pc=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return y(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(T);function Ic(){return new rc}function Ac(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Fc(t))}}var Fc=function(){function t(e){v(this,t),this.defaultValue=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new jc(t,this.defaultValue))}}]),t}(),jc=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return y(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(T);function Mc(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?mc(function(e,n){return t(e,n,r)}):P,dc(1),n?Ac(e):Oc(function(){return new rc}))}}function Lc(){}function Dc(t,e,n){return function(r){return r.lift(new Nc(t,e,n))}}var Nc=function(){function t(e,n,r){v(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new zc(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),zc=function(t){u(n,t);var e=c(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t))._tapNext=Lc,a._tapError=Lc,a._tapComplete=Lc,a._tapError=i||Lc,a._tapComplete=o||Lc,f(r)?(a._context=d(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||Lc,a._tapError=r.error||Lc,a._tapComplete=r.complete||Lc),a}return y(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(T),qc=function(){function t(e){v(this,t),this.callback=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new Vc(t,this.callback))}}]),t}(),Vc=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).add(new S(r)),i}return n}(T),Gc=function t(e,n){v(this,t),this.id=e,this.url=n},Uc=function(t){u(n,t);var e=c(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return y(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Gc),Bc=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return y(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Gc),Hc=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).reason=i,o}return y(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Gc),Wc=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).error=i,o}return y(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Gc),Xc=function(t){u(n,t);var e=c(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return y(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Gc),Zc=function(t){u(n,t);var e=c(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return y(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Gc),Yc=function(t){u(n,t);var e=c(n);function n(t,r,i,o,a){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return y(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Gc),Kc=function(t){u(n,t);var e=c(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return y(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Gc),Jc=function(t){u(n,t);var e=c(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return y(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Gc),Qc=function(){function t(e){v(this,t),this.route=e}return y(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),$c=function(){function t(e){v(this,t),this.route=e}return y(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),th=function(){function t(e){v(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),eh=function(){function t(e){v(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),nh=function(){function t(e){v(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),rh=function(){function t(e){v(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ih=function(){function t(e,n,r){v(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return y(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),oh=function(){function t(e){v(this,t),this.params=e||{}}return y(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function ah(t){return new oh(t)}function sh(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function uh(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function lh(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!ch(t[n=r[o]],e[n]))return!1;return!0}function ch(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var r=n(t).sort(),i=n(e).sort();return r.every(function(t,e){return i[e]===t})}return t===e}function hh(t){return Array.prototype.concat.apply([],t)}function dh(t){return t.length>0?t[t.length-1]:null}function fh(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ph(t){return No(t)?t:Do(t)?Z(Promise.resolve(t)):Yl(t)}var vh={exact:function t(e,n,r){if(!Sh(e.segments,n.segments))return!1;if(!bh(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:mh},gh={exact:function(t,e){return lh(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return ch(t[n],e[n])})},ignored:function(){return!0}};function yh(t,e,n){return vh[n.paths](t.root,e.root,n.matrixParams)&&gh[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function mh(t,e,n){return _h(t,e,e.segments,n)}function _h(t,e,n,r){if(t.segments.length>n.length){var i=t.segments.slice(0,n.length);return!!Sh(i,n)&&!e.hasChildren()&&!!bh(i,n,r)}if(t.segments.length===n.length){if(!Sh(t.segments,n))return!1;if(!bh(t.segments,n,r))return!1;for(var o in e.children){if(!t.children[o])return!1;if(!mh(t.children[o],e.children[o],r))return!1}return!0}var a=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!Sh(t.segments,a)&&!!bh(t.segments,a,r)&&!!t.children.primary&&_h(t.children.primary,e,s,r)}function bh(t,e,n){return e.every(function(e,r){return gh[n](t[r].parameters,e.parameters)})}var wh=function(){function t(e,n,r){v(this,t),this.root=e,this.queryParams=n,this.fragment=r}return y(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ah(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Th.serialize(this)}}]),t}(),xh=function(){function t(e,n){var r=this;v(this,t),this.segments=e,this.children=n,this.parent=null,fh(n,function(t,e){return t.parent=r})}return y(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Oh(this)}}]),t}(),Ch=function(){function t(e,n){v(this,t),this.path=e,this.parameters=n}return y(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ah(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Mh(this)}}]),t}();function Sh(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var kh=function t(){v(this,t)},Eh=function(){function t(){v(this,t)}return y(t,[{key:"parse",value:function(t){var e=new qh(t);return new wh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(Rh(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(Ih(t),"=").concat(Ih(e))}).join("&"):"".concat(Ih(t),"=").concat(Ih(e))}).filter(function(t){return!!t}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Th=new Eh;function Oh(t){return t.segments.map(function(t){return Mh(t)}).join("/")}function Rh(t,e){if(!t.hasChildren())return Oh(t);if(e){var n=t.children.primary?Rh(t.children.primary,!1):"",r=[];return fh(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(Rh(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return fh(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),fh(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[Rh(t.children.primary,!1)]:["".concat(n,":").concat(Rh(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Oh(t),"/").concat(i[0]):"".concat(Oh(t),"/(").concat(i.join("//"),")")}function Ph(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ih(t){return Ph(t).replace(/%3B/gi,";")}function Ah(t){return Ph(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fh(t){return decodeURIComponent(t)}function jh(t){return Fh(t.replace(/\+/g,"%20"))}function Mh(t){return"".concat(Ah(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Ah(t),"=").concat(Ah(e[t]))}).join("")));var e}var Lh=/^[^\/()?;=#]+/;function Dh(t){var e=t.match(Lh);return e?e[0]:""}var Nh=/^[^=?&#]+/,zh=/^[^?&#]+/,qh=function(){function t(e){v(this,t),this.url=e,this.remaining=e}return y(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xh([],{}):new xh([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new xh(t,e)),n}},{key:"parseSegment",value:function(){var t=Dh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Ch(Fh(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Dh(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Dh(this.remaining);r&&(n=r,this.capture(n))}t[Fh(e)]=Fh(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Nh);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(zh);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=jh(e),o=jh(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Dh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new xh([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Vh=function(){function t(e){v(this,t),this._root=e}return y(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Gh(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Gh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Uh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return Uh(t,this._root).map(function(t){return t.value})}}]),t}();function Gh(t,n){if(t===n.value)return n;var r,i=e(n.children);try{for(i.s();!(r=i.n()).done;){var o=Gh(t,r.value);if(o)return o}}catch(a){i.e(a)}finally{i.f()}return null}function Uh(t,n){if(t===n.value)return[n];var r,i=e(n.children);try{for(i.s();!(r=i.n()).done;){var o=Uh(t,r.value);if(o.length)return o.unshift(n),o}}catch(a){i.e(a)}finally{i.f()}return[]}var Bh=function(){function t(e,n){v(this,t),this.value=e,this.children=n}return y(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Hh(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Wh=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).snapshot=r,Qh(d(i),t),i}return y(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Vh);function Xh(t,e){var n=function(t,e){var n=new Kh([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Jh("",new Bh(n,[]))}(t,e),r=new Kl([new Ch("",{})]),i=new Kl({}),o=new Kl({}),a=new Kl({}),s=new Kl(""),u=new Zh(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Wh(new Bh(u,[]),n)}var Zh=function(){function t(e,n,r,i,o,a,s,u){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return y(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(z(function(t){return ah(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(z(function(t){return ah(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Yh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Kh=function(){function t(e,n,r,i,o,a,s,u,l,c,h){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return y(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ah(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ah(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Jh=function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,r)).url=t,Qh(d(i),r),i}return y(n,[{key:"toString",value:function(){return $h(this._root)}}]),n}(Vh);function Qh(t,e){e.value._routerState=t,e.children.forEach(function(e){return Qh(t,e)})}function $h(t){var e=t.children.length>0?" { ".concat(t.children.map($h).join(", ")," } "):"";return"".concat(t.value).concat(e)}function td(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,lh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),lh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!lh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),lh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ed(t,e){var n,r;return lh(t.params,e.params)&&Sh(n=t.url,r=e.url)&&n.every(function(t,e){return lh(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||ed(t.parent,e.parent))}function nd(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map(function(n){var i,o=e(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(n.value,a.value.snapshot))return nd(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return nd(t,n)})}(t,n,r);return new Bh(i,o)}if(t.shouldAttach(n.value)){var a=t.retrieve(n.value);if(null!==a){var s=a.route;return rd(n,s),s}}var u,l=new Zh(new Kl((u=n.value).url),new Kl(u.params),new Kl(u.queryParams),new Kl(u.fragment),new Kl(u.data),u.outlet,u.component,u),c=n.children.map(function(e){return nd(t,e)});return new Bh(l,c)}function rd(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)rd(t.children[n],e.children[n])}function id(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function od(t){return"object"==typeof t&&null!=t&&t.outlets}function ad(t,e,n,r,i){var o={};return r&&fh(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new wh(n.root===t?e:sd(n.root,t,e),o,i)}function sd(t,e,n){var r={};return fh(t.children,function(t,i){r[i]=t===e?n:sd(t,e,n)}),new xh(t.segments,r)}var ud=function(){function t(e,n,r){if(v(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&id(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(od);if(i&&i!==dh(r))throw new Error("{outlets:{}} has to be the last command")}return y(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),ld=function t(e,n,r){v(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function cd(t,e,n){if(t||(t=new xh([],{})),0===t.segments.length&&t.hasChildren())return hd(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(od(s))break;var u="".concat(s),l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!vd(u,l,a))return o;r+=2}else{if(!vd(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new xh(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new xh(t.segments.slice(r.pathIndex),t.children),hd(o,0,i)}return r.match&&0===i.length?new xh(t.segments,{}):r.match&&!t.hasChildren()?dd(t,e,n):r.match?hd(t,0,i):dd(t,e,n)}function hd(t,e,n){if(0===n.length)return new xh(t.segments,{});var r=function(t){return od(t[0])?t[0].outlets:{primary:t}}(n),i={};return fh(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=cd(t.children[r],e,n))}),fh(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new xh(t.segments,i)}function dd(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(od(o)){var a=fd(o.outlets);return new xh(r,a)}if(0===i&&id(n[0]))r.push(new Ch(t.segments[e].path,pd(n[0]))),i++;else{var s=od(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&id(u)?(r.push(new Ch(s,pd(u))),i+=2):(r.push(new Ch(s,{})),i++)}}return new xh(r,{})}function fd(t){var e={};return fh(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=dd(new xh([],{}),0,t))}),e}function pd(t){var e={};return fh(t,function(t,n){return e[n]="".concat(t)}),e}function vd(t,e,n){return t==n.path&&lh(e,n.parameters)}var gd=function(){function t(e,n,r,i){v(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return y(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),td(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Hh(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),fh(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Hh(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Hh(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new rh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new eh(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(td(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),yd(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=l,a.outlet&&a.outlet.activateWith(r,l),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function yd(t){td(t.value),t.children.forEach(yd)}var md=function t(e,n){v(this,t),this.routes=e,this.module=n};function _d(t){return"function"==typeof t}function bd(t){return t instanceof wh}var wd=Symbol("INITIAL_VALUE");function xd(){return uc(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return N(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&w(e[0])&&(e=e[0]),nt(e,i).lift(new ec(r))}(t.map(function(t){return t.pipe(dc(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return N(r)?(e.pop(),function(t){return ic(e,t,r)}):function(t){return ic(e,t)}}(wd))})).pipe(vc(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==wd)return t;if(r===wd&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||bd(r))return r}return t},t)},wd),mc(function(t){return t!==wd}),z(function(t){return bd(t)?t:!0===t}),dc(1))})}var Cd=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Qt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Mo(0,"router-outlet")},directives:function(){return[yf]},encapsulation:2}),t}();function Sd(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];kd(r,Ed(e,r))}}function kd(t,e){t.children&&Sd(t.children,e)}function Ed(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Td(t){var e=t.children&&t.children.map(Td),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Cd),n}function Od(t){return t.outlet||"primary"}function Rd(t,e){var r=t.filter(function(t){return Od(t)===e});return r.push.apply(r,n(t.filter(function(t){return Od(t)!==e}))),r}var Pd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Id(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Pd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||uh)(n,t,e);if(!i)return Object.assign({},Pd);var o={};fh(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ad(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(r.length>0&&function(t,e,n){return n.some(function(n){return Fd(t,e,n)&&"primary"!==Od(n)})}(t,r,i)){var a=new xh(n,function(t,n,r,i){var o={};o.primary=i,i._sourceSegment=t,i._segmentIndexShift=n.length;var a,s=e(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(""===u.path&&"primary"!==Od(u)){var l=new xh([],{});l._sourceSegment=t,l._segmentIndexShift=n.length,o[Od(u)]=l}}}catch(c){s.e(c)}finally{s.f()}return o}(t,n,i,new xh(r,t.children)));return a._sourceSegment=t,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:[]}}if(0===r.length&&function(t,e,n){return n.some(function(n){return Fd(t,e,n)})}(t,r,i)){var s=new xh(t.segments,function(t,n,r,i,o,a){var s,u={},l=e(i);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(Fd(t,r,c)&&!o[Od(c)]){var h=new xh([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===a?t.segments.length:n.length,u[Od(c)]=h}}}catch(d){l.e(d)}finally{l.f()}return Object.assign(Object.assign({},o),u)}(t,n,r,i,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:r}}var u=new xh(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:r}}function Fd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function jd(t,e,n,r){return!!(Od(t)===r||"primary"!==r&&Fd(e,n,t))&&("**"===t.path||Id(e,t,n).matched)}function Md(t,e,n){return 0===e.length&&!t.children[n]}var Ld=function t(e){v(this,t),this.segmentGroup=e||null},Dd=function t(e){v(this,t),this.urlTree=e};function Nd(t){return new I(function(e){return e.error(new Ld(t))})}function zd(t){return new I(function(e){return e.error(new Dd(t))})}function qd(t){return new I(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Vd=function(){function t(e,n,r,i,o){v(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(ss)}return y(t,[{key:"apply",value:function(){var t=this,e=Ad(this.urlTree.root,[],[],this.config).segmentGroup,n=new xh(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(z(function(e){return t.createUrlTree(Gd(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(wc(function(e){if(e instanceof Dd)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Ld)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(z(function(n){return e.createUrlTree(Gd(n),t.queryParams,t.fragment)})).pipe(wc(function(t){if(t instanceof Ld)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new xh([],{primary:t}):t;return new wh(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(z(function(t){return new xh([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Z(i).pipe(Sc(function(i){var o=n.children[i],a=Rd(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(z(function(t){return{segment:t,outlet:i}}))}),vc(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?mc(function(e,n){return t(e,n,r)}):P,kc(1),n?Ac(e):Oc(function(){return new rc}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Z(n).pipe(Sc(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(wc(function(t){if(t instanceof Ld)return Yl(null);throw t}))}),Mc(function(t){return!!t}),wc(function(t,n){if(t instanceof rc||"EmptyError"===t.name){if(Md(e,r,i))return Yl(new xh([],{}));throw new Ld(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return jd(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Nd(e):Nd(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?zd(o):this.lineralizeSegments(n,o).pipe(Q(function(n){var o=new xh(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Id(e,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return Nd(e);var d=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?zd(d):this.lineralizeSegments(r,d).pipe(Q(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Yl(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(z(function(t){return n._loadedConfig=t,new xh(r,{})})):Yl(new xh(r,{}));var a=Id(e,n,r),s=a.matched,u=a.consumedSegments,l=a.lastChild;if(!s)return Nd(e);var c=r.slice(l);return this.getChildConfig(t,n,r).pipe(Q(function(t){var r=t.module,a=t.routes,s=Ad(e,u,c,a),l=s.segmentGroup,h=s.slicedSegments,d=new xh(l.segments,l.children);if(0===h.length&&d.hasChildren())return o.expandChildren(r,a,d).pipe(z(function(t){return new xh(u,t)}));if(0===a.length&&0===h.length)return Yl(new xh(u,{}));var f=Od(n)===i;return o.expandSegment(r,d,a,h,f?"primary":i,!0).pipe(z(function(t){return new xh(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Yl(new md(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Yl(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Q(function(n){return n?r.configLoader.load(t.injector,e).pipe(z(function(t){return e._loadedConfig=t,t})):function(t){return new I(function(e){return e.error(sh("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Yl(new md([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;return i&&0!==i.length?Yl(i.map(function(r){var i,o=t.get(r);if(function(t){return t&&_d(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!_d(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return ph(i)})).pipe(xd(),Dc(function(t){if(bd(t)){var e=sh('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),z(function(t){return!0===t})):Yl(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Yl(n);if(r.numberOfChildren>1||!r.children.primary)return qd(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new wh(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return fh(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return fh(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new xh(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,n){var r,i=0,o=e(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.path===t.path)return n.splice(i),a;i++}}catch(s){o.e(s)}finally{o.f()}return t}}]),t}();function Gd(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=Gd(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new xh(t.segments.concat(e.segments),e.children)}return t}(new xh(t.segments,e))}var Ud=function t(e){v(this,t),this.path=e,this.route=this.path[this.path.length-1]},Bd=function t(e,n){v(this,t),this.component=e,this.route=n};function Hd(t,e,n){var r=t._root;return Xd(r,e?e._root:null,n,[r.value])}function Wd(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Xd(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Hh(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Sh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sh(t.url,e.url)||!lh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ed(t,e)||!lh(t.queryParams,e.queryParams);case"paramsChange":default:return!ed(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ud(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Xd(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Bd(s.outlet.component,a))}else a&&Zd(e,s,i),i.canActivateChecks.push(new Ud(r)),Xd(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),fh(o,function(t,e){return Zd(t,n.getContext(e),i)}),i}function Zd(t,e,n){var r=Hh(t),i=t.value;fh(r,function(t,r){Zd(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Bd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Yd=function t(){v(this,t)};function Kd(t){return new I(function(e){return e.error(t)})}var Jd=function(){function t(e,n,r,i,o,a){v(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return y(t,[{key:"recognize",value:function(){var t=Ad(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Kh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Bh(n,e),i=new Jh(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Yh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var r=[],i=0,o=Object.keys(e.children);i<o.length;i++){var a=o[i],s=e.children[a],u=Rd(t,a),l=this.processSegmentGroup(u,s,a);if(null===l)return null;r.push.apply(r,n(l))}var c=Qd(r);return c.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),c}},{key:"processSegment",value:function(t,n,r,i){var o,a=e(t);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=this.processSegmentAgainstRoute(s,n,r,i);if(null!==u)return u}}catch(l){a.e(l)}finally{a.f()}return Md(n,r,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!jd(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?dh(n).parameters:{};i=new Kh(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ef(t),Od(t),t.component,t,$d(e),tf(e)+n.length,nf(t))}else{var u=Id(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new Kh(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ef(t),Od(t),t.component,t,$d(e),tf(e)+o.length,nf(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=Ad(e,o,a,l.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=c.segmentGroup,d=c.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(l,h);return null===f?null:[new Bh(i,f)]}if(0===l.length&&0===d.length)return[new Bh(i,[])];var p=Od(t)===r,v=this.processSegment(l,h,d,p?"primary":r);return null===v?null:[new Bh(i,v)]}}]),t}();function Qd(t){var r,i=[],o=new Set,a=e(t);try{var s=function(){var t,e=r.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(e))return i.push(e),"continue";var a=i.find(function(t){return e.value.routeConfig===t.value.routeConfig});void 0!==a?((t=a.children).push.apply(t,n(e.children)),o.add(a)):i.push(e)};for(a.s();!(r=a.n()).done;)s()}catch(d){a.e(d)}finally{a.f()}var u,l=e(o);try{for(l.s();!(u=l.n()).done;){var c=u.value,h=Qd(c.children);i.push(new Bh(c.value,h))}}catch(d){l.e(d)}finally{l.f()}return i.filter(function(t){return!o.has(t)})}function $d(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function tf(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ef(t){return t.data||{}}function nf(t){return t.resolve||{}}function rf(t){return uc(function(e){var n=t(e);return n?Z(n).pipe(z(function(){return e})):Yl(e)})}var of=function(t){u(n,t);var e=c(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(function(){function t(){v(this,t)}return y(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),af=new Un("ROUTES"),sf=function(){function t(e,n,r,i){v(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return y(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(z(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new md(hh(i.injector.get(af,void 0,It.Self|It.Optional)).map(Td),i)}),wc(function(t){throw e._loader$=void 0,t}));return e._loader$=new st(r,function(){return new L}).pipe(rt()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Z(this.loader.load(t)):ph(t()).pipe(Q(function(t){return t instanceof us?Yl(t):Z(e.compiler.compileModuleAsync(t))}))}}]),t}(),uf=function t(){v(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new lf,this.attachRef=null},lf=function(){function t(){v(this,t),this.contexts=new Map}return y(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new uf,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),cf=function(){function t(){v(this,t)}return y(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function hf(t){throw t}function df(t,e,n){return e.parse("/")}function ff(t,e){return Yl(null)}var pf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gf=function(){var t=function(){function t(e,n,r,i,o,a,s,u){var l=this;v(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new L,this.errorHandler=hf,this.malformedUriErrorHandler=df,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ff,afterPreactivation:ff},this.urlHandlingStrategy=new cf,this.routeReuseStrategy=new of,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(ss),this.console=o.get(Ys);var c=o.get(uu);this.isNgZoneEnabled=c instanceof uu&&uu.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new wh(new xh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sf(a,s,function(t){return l.triggerEvent(new Qc(t))},function(t){return l.triggerEvent(new $c(t))}),this.routerState=Xh(this.currentUrlTree,this.rootComponentType),this.transitions=new Kl({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return y(t,[{key:"browserPageId",get:function(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}},{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(mc(function(t){return 0!==t.id}),z(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),uc(function(t){var r,i,o,a,s=!1,u=!1;return Yl(t).pipe(Dc(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),uc(function(t){var r=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||r)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Yl(t).pipe(uc(function(t){var r=e.transitions.getValue();return n.next(new Uc(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?oc:Promise.resolve(t)}),function(t,e,n,r){return uc(function(i){return function(t,e,n,r,i){return new Vd(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(z(function(t){return Object.assign(Object.assign({},i),{urlAfterRedirects:t})}))})}(e.ngModule.injector,e.configLoader,e.urlSerializer,e.config),Dc(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Q(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Jd(t,e,n,r,i,o).recognize();return null===a?Kd(new Yd):Yl(a)}catch(s){return Kd(s)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(z(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Dc(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,t),e.browserUrlTree=t.urlAfterRedirects);var r=new Xc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(r&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var i=t.id,o=t.extractedUrl,a=t.source,s=t.restoredState,u=t.extras,l=new Uc(i,e.serializeUrl(o),a,s);n.next(l);var c=Xh(o,e.rootComponentType).snapshot;return Yl(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:o,extras:Object.assign(Object.assign({},u),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),oc}),rf(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Dc(function(t){var n=new Zc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),z(function(t){return Object.assign(Object.assign({},t),{guards:Hd(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Q(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Yl(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Z(t).pipe(Q(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Yl(o.map(function(o){var a,s=Wd(o,e,i);if(function(t){return t&&_d(t.canDeactivate)}(s))a=ph(s.canDeactivate(t,e,n,r));else{if(!_d(s))throw new Error("Invalid CanDeactivate guard");a=ph(s(t,e,n,r))}return a.pipe(Mc())})).pipe(xd()):Yl(!0)}(t.component,t.route,n,e,r)}),Mc(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Q(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Z(e).pipe(Sc(function(e){return ic(function(t,e){return null!==t&&e&&e(new th(t)),Yl(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new nh(t)),Yl(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return sc(function(){return Yl(e.guards.map(function(i){var o,a=Wd(i,e.node,n);if(function(t){return t&&_d(t.canActivateChild)}(a))o=ph(a.canActivateChild(r,t));else{if(!_d(a))throw new Error("Invalid CanActivateChild guard");o=ph(a(r,t))}return o.pipe(Mc())})).pipe(xd())})});return Yl(i).pipe(xd())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Yl(r.map(function(r){return sc(function(){var i,o=Wd(r,e,n);if(function(t){return t&&_d(t.canActivate)}(o))i=ph(o.canActivate(e,t));else{if(!_d(o))throw new Error("Invalid CanActivate guard");i=ph(o(e,t))}return i.pipe(Mc())})})).pipe(xd()):Yl(!0)}(t,e.route,n))}),Mc(function(t){return!0!==t},!0))}(r,a,t,e):Yl(n)}),z(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Dc(function(t){if(bd(t.guardsResult)){var n=sh('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new Yc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),mc(function(t){return!!t.guardsResult||(e.restoreHistory(t),e.cancelNavigationTransition(t,""),!1)}),rf(function(t){if(t.guards.canActivateChecks.length)return Yl(t).pipe(Dc(function(t){var n=new Kc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),uc(function(t){var n,r,i=!1;return Yl(t).pipe((n=e.paramsInheritanceStrategy,r=e.ngModule.injector,Q(function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;if(!i.length)return Yl(t);var o=0;return Z(i).pipe(Sc(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Yl({});var o={};return Z(i).pipe(Q(function(i){return function(t,e,n,r){var i=Wd(t,e,r);return ph(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Dc(function(t){o[i]=t}))}),kc(1),Q(function(){return Object.keys(o).length===i.length?Yl(o):oc}))}(t._resolve,t,e,r).pipe(z(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Yh(t,n).resolve),null}))}(t.route,e,n,r)}),Dc(function(){return o++}),kc(1),Q(function(e){return o===i.length?Yl(t):oc}))})),Dc({next:function(){return i=!0},complete:function(){i||(e.restoreHistory(t),e.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}))}),Dc(function(t){var n=new Jc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),rf(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),z(function(t){var n=function(t,e,n){var r=nd(t,e._root,n?n._root:void 0);return new Wh(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Dc(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,t),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},z(function(t){return new gd(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),Dc({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){var n="Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId);"replace"===e.canceledNavigationResolution?(e.restoreHistory(t),e.cancelNavigationTransition(t,n)):e.cancelNavigationTransition(t,n)}e.currentNavigation=null},function(t){return t.lift(new qc(r))}),wc(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=bd(r.url);i||(e.navigated=!0,e.restoreHistory(t,!0));var o=new Hc(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.restoreHistory(t,!0);var a=new Wc(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(l){t.reject(l)}}var s;return oc}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Sd(t),this.config=t.map(Td),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=r||this.routerState.root,l=s?this.currentUrlTree.fragment:o,c=null;switch(a){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,r,i,o){if(0===r.length)return ad(e.root,e.root,e,i,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ud(!0,0,t);var e=0,r=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return fh(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(n(t),[{outlets:a}])}if(i.segmentPath)return[].concat(n(t),[i.segmentPath])}return"string"!=typeof i?[].concat(n(t),[i]):0===o?(i.split("/").forEach(function(n,i){0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?e++:""!=n&&t.push(n))}),t):[].concat(n(t),[i])},[]);return new ud(r,e,i)}(r);if(a.toRoot())return ad(e.root,new xh([],{}),e,i,o);var s=function(t,e,n){if(t.isAbsolute)return new ld(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new ld(r,r===e.root,0)}var i=id(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ld(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?hd(s.segmentGroup,s.index,a.commands):cd(s.segmentGroup,s.index,a.commands);return ad(s.segmentGroup,u,e,i,o)}(u,this.currentUrlTree,t,c,null!=l?l:null)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=bd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){var n;if(n=!0===e?Object.assign({},pf):!1===e?Object.assign({},vf):e,bd(t))return yh(this.currentUrlTree,t,n);var r=this.parseUrl(t);return yh(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.currentPageId=e.targetPageId,t.events.next(new Bc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a;if(this.disposed)return Promise.resolve(!1);var s,u,l,c=this.getTransition(),h="imperative"!==e&&"imperative"===(null==c?void 0:c.source),d=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(h&&d)return Promise.resolve(!0);i?(s=i.resolve,u=i.reject,l=i.promise):l=new Promise(function(t,e){s=t,u=e});var f,p=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(a=this.browserPageId)&&void 0!==a?a:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e){var n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}},{key:"restoreHistory",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(e=this.currentNavigation)||void 0===e?void 0:e.finalUrl)||0===i?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(t,e){var n=new Hc(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}},{key:"generateNgRouterState",value:function(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(Hn),ar(kh),ar(lf),ar(el),ar(_o),ar(Pu),ar(ou),ar(void 0))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),yf=function(){var t=function(){function t(e,n,r,i,o){v(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new ks,this.deactivateEvents=new ks,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return y(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new mf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Po(lf),Po(cs),Po(Ea),function(t,e){var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(gn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if("name"===o)return n[i+1];i+=2}}return null}(Le()),Po($a))},t.\u0275dir=ie({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t}(),mf=function(){function t(e,n,r){v(this,t),this.route=e,this.childContexts=n,this.parent=r}return y(t,[{key:"get",value:function(t,e){return t===Zh?this.route:t===lf?this.childContexts:this.parent.get(t,e)}}]),t}(),_f=function t(){v(this,t)},bf=function(){function t(){v(this,t)}return y(t,[{key:"preload",value:function(t,e){return Yl(null)}}]),t}(),wf=function(){var t=function(){function t(e,n,r,i,o){v(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new sf(n,r,function(t){return e.triggerEvent(new Qc(t))},function(t){return e.triggerEvent(new $c(t))})}return y(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(mc(function(t){return t instanceof Bc}),Sc(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(ss);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,n){var r,i=[],o=e(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children))}}catch(u){o.e(u)}finally{o.f()}return Z(i).pipe(et(),z(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Yl(e._loadedConfig):n.loader.load(t.injector,e)).pipe(Q(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(gf),ar(Pu),ar(ou),ar(_o),ar(_f))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),xf=function(){var t=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return y(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Uc?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Bc&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof ih&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new ih(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(gf),ar(gl),ar(void 0))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Cf=new Un("ROUTER_CONFIGURATION"),Sf=new Un("ROUTER_FORROOT_GUARD"),kf=[el,{provide:kh,useClass:Eh},{provide:gf,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,c=new gf(null,t,e,n,r,i,o,hh(a));return u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,c),s.enableTracing&&c.events.subscribe(function(t){var e,n;null===(e=console.group)||void 0===e||e.call(console,"Router Event: ".concat(t.constructor.name)),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[kh,lf,el,_o,Pu,ou,af,Cf,[function(){return function t(){v(this,t)}}(),new cr],[function(){return function t(){v(this,t)}}(),new cr]]},lf,{provide:Zh,useFactory:function(t){return t.routerState.root},deps:[gf]},{provide:Pu,useClass:Fu},wf,bf,function(){function t(){v(this,t)}return y(t,[{key:"preload",value:function(t,e){return e().pipe(wc(function(){return Yl(null)}))}}]),t}(),{provide:Cf,useValue:{enableTracing:!1}}];function Ef(){return new xu("Router",gf)}var Tf=function(){var t=function(){function t(e,n){v(this,t)}return y(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[kf,If(e),{provide:Sf,useFactory:Pf,deps:[[gf,new cr,new hr]]},{provide:Cf,useValue:n||{}},{provide:Ku,useFactory:Rf,deps:[Vu,[new lr(Qu),new cr],Cf]},{provide:xf,useFactory:Of,deps:[gf,gl,Cf]},{provide:_f,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bf},{provide:xu,multi:!0,useFactory:Ef},[Af,{provide:Vs,multi:!0,useFactory:Ff,deps:[Af]},{provide:Mf,useFactory:jf,deps:[Af]},{provide:Zs,multi:!0,useExisting:Mf}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[If(e)]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(Sf,8),ar(gf,8))},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({}),t}();function Of(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new xf(t,e,n)}function Rf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new tl(t,e):new $u(t,e)}function Pf(t){return"guarded"}function If(t){return[{provide:Bn,multi:!0,useValue:t},{provide:af,multi:!0,useValue:t}]}var Af=function(){var t=function(){function t(e){v(this,t),this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new L}return y(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Uu,Promise.resolve(null)).then(function(){if(t.destroyed)return Promise.resolve(!0);var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(gf),i=t.injector.get(Cf);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Yl(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Cf),n=this.injector.get(wf),r=this.injector.get(xf),i=this.injector.get(gf),o=this.injector.get(Ou);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(_o))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}();function Ff(t){return t.appInitializer.bind(t)}function jf(t){return t.bootstrapListener.bind(t)}var Mf=new Un("Router Initializer"),Lf=[],Df=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[Tf.forRoot(Lf)],Tf]}),t}(),Nf=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function zf(t,e){return t>e?1:t<e?-1:0}function qf(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return"function"==typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function Vf(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Gf(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]}function Uf(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Bf(){return!0}function Hf(){return!1}function Wf(){}function Xf(){return function(){throw new Error("Unimplemented abstract method.")}()}var Zf=0;function Yf(t){return t.ol_uid||(t.ol_uid=String(++Zf))}var Kf,Jf,Qf="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",$f=-1!==Qf.indexOf("firefox"),tp=(-1!==Qf.indexOf("safari")&&Qf.indexOf("chrom"),-1!==Qf.indexOf("webkit")&&-1==Qf.indexOf("edge")),ep=-1!==Qf.indexOf("macintosh"),np="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,rp="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,ip="undefined"!=typeof Image&&Image.prototype.decode,op=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}(),ap=(Kf=function(t,e){return(Kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Kf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sp=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/v"+"6.6.1".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return ap(e,t),e}(Error);function up(t,e){if(!t)throw new sp(e)}function lp(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function cp(t,e,n,r,i,o,a,s){var u=Math.sin(o),l=Math.cos(o);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=a*r*l-s*r*u+e,t[5]=a*i*u+s*i*l+n,t}function hp(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];up(0!==r,32);var i=e[0],o=e[1],a=e[2],s=e[3],u=e[4],l=e[5];return t[0]=s/r,t[1]=-o/r,t[2]=-a/r,t[3]=i/r,t[4]=(a*l-s*u)/r,t[5]=-(i*l-o*u)/r,t}function dp(t){var e="matrix("+t.join(", ")+")";if(rp)return e;var n=Jf||(Jf=document.createElement("div"));return n.style.transform=e,n.style.transform}function fp(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,r=t.length;n<r;++n)Ep(e,t[n]);return e}function pp(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function vp(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function gp(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function yp(t,e){return _p(t,e[0],e[1])}function mp(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function _p(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function bp(t,e){var n=e[0],r=e[1],i=0;return n<t[0]?i|=16:n>t[2]&&(i|=4),r<t[1]?i|=8:r>t[3]&&(i|=2),0===i&&(i=1),i}function wp(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function xp(t){return wp(1/0,1/0,-1/0,-1/0,t)}function Cp(t,e,n,r,i){return Tp(xp(i),t,e,n,r)}function Sp(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function kp(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Ep(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Tp(t,e,n,r,i){for(;n<r;n+=i)Op(t,e[n],e[n+1]);return t}function Op(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Rp(t,e){var n;return(n=e(Ip(t)))||(n=e(Ap(t)))||(n=e(zp(t)))?n:(n=e(Np(t)))||!1}function Pp(t){var e=0;return Gp(t)||(e=qp(t)*Lp(t)),e}function Ip(t){return[t[0],t[1]]}function Ap(t){return[t[2],t[1]]}function Fp(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function jp(t,e){var n;return"bottom-left"===e?n=Ip(t):"bottom-right"===e?n=Ap(t):"top-left"===e?n=Np(t):"top-right"===e?n=zp(t):up(!1,13),n}function Mp(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),u=Math.sin(n),l=o*s,c=o*u,h=a*s,d=a*u,f=t[0],p=t[1],v=f-l+d,g=f-l-d,y=f+l-d,m=f+l+d,_=p-c-h,b=p-c+h,w=p+c+h,x=p+c-h;return wp(Math.min(v,g,y,m),Math.min(_,b,w,x),Math.max(v,g,y,m),Math.max(_,b,w,x),i)}function Lp(t){return t[3]-t[1]}function Dp(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return Vp(t,e)?(r[0]=t[0]>e[0]?t[0]:e[0],r[1]=t[1]>e[1]?t[1]:e[1],r[2]=t[2]<e[2]?t[2]:e[2],r[3]=t[3]<e[3]?t[3]:e[3]):xp(r),r}function Np(t){return[t[0],t[3]]}function zp(t){return[t[2],t[3]]}function qp(t){return t[2]-t[0]}function Vp(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Gp(t){return t[2]<t[0]||t[3]<t[1]}function Up(t,e,n){return Math.min(Math.max(t,e),n)}new Array(6);var Bp="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},Hp="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function Wp(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return Xp(t,e,n,r)}function Xp(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}function Zp(t){return t*Math.PI/180}function Yp(t,e){var n=t%e;return n*e<0?n+e:n}function Kp(t,e,n){return t+n*(e-t)}var Jp=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Qp=/^([a-z]*)$|^hsla?\(.*\)$/i;function $p(t){return"string"==typeof t?t:rv(t)}var tv=function(){var t={},e=0;return function(n){var r;if(t.hasOwnProperty(n))r=t[n];else{if(e>=1024){var i=0;for(var o in t)0==(3&i++)&&(delete t[o],--e)}r=function(t){var e,n,r,i,o;if(Qp.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),Jp.exec(t)){var a,s=t.length-1;a=s<=4?1:2;var u=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),r=parseInt(t.substr(1+2*a,a),16),i=u?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?nv(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),nv(o)):up(!1,14);return o}(n),t[n]=r,++e}return r}}();function ev(t){return Array.isArray(t)?t:tv(t)}function nv(t){return t[0]=Up(t[0]+.5|0,0,255),t[1]=Up(t[1]+.5|0,0,255),t[2]=Up(t[2]+.5|0,0,255),t[3]=Up(t[3],0,1),t}function rv(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}function iv(t,e,n){return e+":"+t+":"+(n?$p(n):"null")}var ov=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_)0!=(3&t++)||this.cache_[e].hasListener()||(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(t,e,n){var r=iv(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var i=iv(t,e,n);this.cache_[i]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}()),av=function(){function t(t){this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),sv="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function uv(t){for(var e in t)delete t[e]}var lv="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function cv(t){var e;for(e in t)return!1;return!e}var hv,dv=(hv=function(t,e){return(hv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}hv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fv=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return dv(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new av(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,i=this.listeners_&&this.listeners_[n];if(i){var o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,a[n]=0),++o[n];for(var s=0,u=i.length;s<u;++s)if(!1===(r="handleEvent"in i[s]?i[s].handleEvent(e):i[s].call(this,e))||e.propagationStopped){r=!1;break}if(--o[n],0===o[n]){var l=a[n];for(delete a[n];l--;)this.removeEventListener(n,Wf);delete o[n]}return r}},e.prototype.disposeInternal=function(){this.listeners_&&uv(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=Wf,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(Nf);function pv(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function vv(t,e,n,r){return pv(t,e,n,r,!0)}function gv(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),uv(t))}var yv,mv,_v,bv,wv=(bv=function(t,e){return(bv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}bv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xv=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return wv(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=pv(this,t[i],e);return r}return pv(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var i=0;i<r;++i)n[i]=vv(this,t[i],e)}else n=vv(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)gv(t[e]);else gv(t)}(n);else if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(fv),Cv=(_v=function(t,e){return(_v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Sv=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return Cv(e,t),e}(av),kv=function(t){function e(e){var n=t.call(this)||this;return Yf(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return Cv(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&sv({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){this.dispatchEvent(new Sv("change:"+t,t,e)),this.dispatchEvent(new Sv("propertychange",t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:"+t,e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:"+t,e)},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var i=r[t];r[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&sv(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],cv(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(xv),Ev=(mv=function(t,e){return(mv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}mv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tv=function(t){function e(e){var n=t.call(this)||this,r=sv({},e);return"object"==typeof e.properties&&(delete r.properties,sv(r,e.properties)),r.opacity=void 0!==e.opacity?e.opacity:1,up("number"==typeof r.opacity,64),r.visible=void 0===e.visible||e.visible,r.zIndex=e.zIndex,r.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,r.minResolution=void 0!==e.minResolution?e.minResolution:0,r.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,r.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return Ev(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Up(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Xf()},e.prototype.getLayerStatesArray=function(t){return Xf()},e.prototype.getExtent=function(){return this.get("extent")},e.prototype.getMaxResolution=function(){return this.get("maxResolution")},e.prototype.getMinResolution=function(){return this.get("minResolution")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.getOpacity=function(){return this.get("opacity")},e.prototype.getSourceState=function(){return Xf()},e.prototype.getVisible=function(){return this.get("visible")},e.prototype.getZIndex=function(){return this.get("zIndex")},e.prototype.setExtent=function(t){this.set("extent",t)},e.prototype.setMaxResolution=function(t){this.set("maxResolution",t)},e.prototype.setMinResolution=function(t){this.set("minResolution",t)},e.prototype.setMaxZoom=function(t){this.set("maxZoom",t)},e.prototype.setMinZoom=function(t){this.set("minZoom",t)},e.prototype.setOpacity=function(t){up("number"==typeof t,64),this.set("opacity",t)},e.prototype.setVisible=function(t){this.set("visible",t)},e.prototype.setZIndex=function(t){this.set("zIndex",t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(kv),Ov=(yv=function(t,e){return(yv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}yv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Rv(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}var Pv=function(t){function e(e){var n=this,r=sv({},e);return delete r.source,(n=t.call(this,r)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener("source",n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return Ov(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get("source")||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(gv(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=pv(t,"change",this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(t){return t([])})},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(gv(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(gv(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=pv(t,"precompose",function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);up(!e.some(function(t){return t.layer===n.layer}),67),e.push(n)},this),this.mapRenderKey_=pv(this,"change",t.render,t),this.changed())},e.prototype.setSource=function(t){this.set("source",t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Tv);function Iv(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Av(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[1]*n+t[0]*r;return t[0]=t[0]*n-t[1]*r,t[1]=i,t}function Fv(t,e){if(e.canWrapX()){var n=qp(e.getExtent()),r=function(t,e,n){var r=e.getExtent(),i=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var o=n||qp(r);i=Math.floor((t[0]-r[0])/o)}return i}(t,e,n);r&&(t[0]-=r*n)}return t}var jv,Mv=(jv=function(t,e){return(jv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}jv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Lv(t,e){ov.expire()}var Dv,Nv=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return Mv(e,t),e.prototype.dispatchRenderEvent=function(t,e){Xf()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;cp(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),hp(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s){var u,l=e.viewState;function c(t,e,n,r){return i.call(o,e,t?n:null,r)}var h=l.projection,d=Fv(t.slice(),h),f=[[0,0]];if(h.canWrapX()&&r){var p=qp(h.getExtent());f.push([-p,0],[p,0])}for(var v=e.layerStatesArray,g=v.length,y=[],m=[],_=0;_<f.length;_++)for(var b=g-1;b>=0;--b){var w=v[b],x=w.layer;if(x.hasRenderer()&&Rv(w,l)&&a.call(s,x)){var C=x.getRenderer(),S=x.getSource();if(C&&S){var k=S.getWrapX()?d:t,E=c.bind(null,w.managed);m[0]=k[0]+f[_][0],m[1]=k[1]+f[_][1],u=C.forEachFeatureAtCoordinate(m,e,n,E,y)}if(u)return u}}if(0!==y.length){var T=1/y.length;return y.forEach(function(t,e){return t.distanceSq+=e*T}),y.sort(function(t,e){return t.distanceSq-e.distanceSq}),y.some(function(t){return u=t.callback(t.feature,t.layer,t.geometry)}),u}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){return Xf()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,Bf,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Xf()},e.prototype.scheduleExpireIconCache=function(t){ov.canExpireCache()&&t.postRenderFunctions.push(Lv)},e}(Nf),zv=(Dv=function(t,e){return(Dv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Dv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qv=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return zv(e,t),e}(av),Vv=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Gv=["style","variant","weight","size","lineHeight","family"],Uv=function(t){var e=t.match(Vv);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=Gv.length;r<i;++r){var o=e[r+1];void 0!==o&&(n[Gv[r]]=o)}return n.families=n.family.split(/,\s?/),n};function Bv(t,e,n,r){var i=n&&n.length?n.shift():rp?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function Hv(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function Wv(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function Xv(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Zv(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Yv(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var Kv=[],Jv=[0,0,0,0],Qv=new kv;(new fv).setSize=function(){console.warn("labelCache is deprecated.")};var $v,tg,eg=null,ng={},rg=function(){var t,e,n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";function o(t,o,a){for(var s=!0,u=0;u<r;++u){var l=n[u];if(e=og(t+" "+o+" 32px "+l,i),a!=l){var c=og(t+" "+o+" 32px "+a+","+l,i);s=s&&c!=e}}return!!s}function a(){for(var e=!0,n=Qv.getKeys(),r=0,i=n.length;r<i;++r){var a=n[r];Qv.get(a)<100&&(o.apply(this,a.split("\n"))?(uv(ng),eg=null,$v=void 0,Qv.set(a,100)):(Qv.set(a,Qv.get(a)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=Uv(e);if(n)for(var r=n.families,i=0,s=r.length;i<s;++i){var u=r[i],l=n.style+"\n"+n.weight+"\n"+u;void 0===Qv.get(l)&&(Qv.set(l,100,!0),o(n.style,n.weight,u)||(Qv.set(l,0,!0),void 0===t&&(t=setInterval(a,32))))}}}();function ig(t,e){return eg||(eg=Bv(1,1)),t!=$v&&(eg.font=t,$v=eg.font),eg.measureText(e)}function og(t,e){return ig(t,e).width}function ag(t,e,n){if(e in n)return n[e];var r=og(t,e);return n[e]=r,r}var sg,ug,lg,cg,hg,dg,fg,pg=(fg=function(t,e){return(fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}fg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vg=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=pv(Qv,"propertychange",e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className="ol-unselectable ol-layers";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return pg(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new qv(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){gv(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent("precompose",t);var e=t.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),n=t.viewState;this.children_.length=0;for(var r=[],i=null,o=0,a=e.length;o<a;++o){var s=e[o];if(t.layerIndex=o,Rv(s,n)&&("ready"==s.sourceState||"undefined"==s.sourceState)){var u=s.layer,l=u.render(t,i);l&&(l!==i&&(this.children_.push(l),i=l),"getDeclutter"in u&&r.push(u))}}for(o=r.length-1;o>=0;--o)r[o].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){for(var o=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var u=a[s],l=u.layer;if(l.hasRenderer()&&Rv(u,o)&&i(l)){var c=l.getRenderer().getDataAtPixel(t,e,n);if(c){var h=r(l,c);if(h)return h}}}},e}(Nv),gg=(dg=function(t,e){return(dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}dg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yg=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return gg(e,t),e}(av),mg=function(t){function e(e,n){var r=t.call(this)||this;if(r.unique_=!!(n||{}).unique,r.array_=e||[],r.unique_)for(var i=0,o=r.array_.length;i<o;++i)r.assertUnique_(r.array_[i],i);return r.updateLength_(),r}return gg(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get("length")},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new yg("add",e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new yg("remove",e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new yg("remove",r,t)),this.dispatchEvent(new yg("add",e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set("length",this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new sp(58)},e}(kv),_g=(hg=function(t,e){return(hg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}hg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bg=function(t){function e(e){var n=this,r=e||{},i=sv({},r);delete i.layers;var o=r.layers;return(n=t.call(this,i)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener("layers",n.handleLayersChanged_),o?Array.isArray(o)?o=new mg(o.slice(),{unique:!0}):up("function"==typeof o.getArray,43):o=new mg(void 0,{unique:!0}),n.setLayers(o),n}return _g(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(gv),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(pv(t,"add",this.handleLayersAdd_,this),pv(t,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(gv);uv(this.listenerKeys_);for(var n=t.getArray(),r=0,i=n.length;r<i;r++){var o=n[r];this.listenerKeys_[Yf(o)]=[pv(o,"propertychange",this.handleLayerChange_,this),pv(o,"change",this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Yf(e)]=[pv(e,"propertychange",this.handleLayerChange_,this),pv(e,"change",this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=Yf(t.element);this.listenerKeys_[e].forEach(gv),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get("layers")},e.prototype.setLayers=function(t){this.set("layers",t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});var r=this.getLayerState(),i=r.zIndex;t||void 0!==r.zIndex||(i=0);for(var o=n,a=e.length;o<a;o++){var s=e[o];s.opacity*=r.opacity,s.visible=s.visible&&r.visible,s.maxResolution=Math.min(s.maxResolution,r.maxResolution),s.minResolution=Math.max(s.minResolution,r.minResolution),s.minZoom=Math.max(s.minZoom,r.minZoom),s.maxZoom=Math.min(s.maxZoom,r.maxZoom),void 0!==r.extent&&(s.extent=void 0!==s.extent?Dp(s.extent,r.extent):r.extent),void 0===s.zIndex&&(s.zIndex=i)}return e},e.prototype.getSourceState=function(){return"ready"},e}(Tv),wg=(cg=function(t,e){return(cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}cg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xg=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return wg(e,t),e}(av),Cg=(lg=function(t,e){return(lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}lg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Sg=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,o)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return Cg(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(xg),kg={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Eg=(ug=function(t,e){return(ug=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ug(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tg=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=pv(i,"pointerdown",r.handlePointerDown_,r),r.relayedListenerKey_=pv(i,"pointermove",r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener("touchmove",r.boundHandleTouchMove_,!!op&&{passive:!1}),r}return Eg(e,t),e.prototype.emulateClick_=function(t){var e=new Sg(kg.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Sg(kg.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var e=new Sg(kg.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==kg.POINTERUP||e.type==kg.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==kg.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Sg(kg.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(gv),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new Sg(kg.POINTERDOWN,this.map_,t);for(var n in this.dispatchEvent(e),this.down_={},t){var r=t[n];this.down_[n]="function"==typeof r?Wf:r}if(0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(pv(i,kg.POINTERMOVE,this.handlePointerMove_,this),pv(i,kg.POINTERUP,this.handlePointerUp_,this),pv(this.element_,kg.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(pv(this.element_.getRootNode(),kg.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Sg(kg.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Sg(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(gv(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(gv(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(gv),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(fv),Og=1/0,Rg=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,uv(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){up(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Og&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<r&&n[u]<n[s]?u:s;e[t]=e[l],n[t]=n[l],t=l}e[t]=i,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==Og?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()},t}(),Pg=(sg=function(t,e){return(sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}sg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ig=function(t){function e(e,n){var r=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return Pg(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(2===n||3===n||4===n){e.removeEventListener("change",this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,i=0;this.tilesLoading_<t&&i<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),0!==n.getState()||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,n.load())},e}(Rg),Ag={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Fg={};Fg[Ag.DEGREES]=2*Math.PI*6370997/360,Fg[Ag.FEET]=.3048,Fg[Ag.METERS]=1,Fg[Ag.USFEET]=1200/3937;var jg,Mg,Lg,Dg,Ng,zg=Ag,qg=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Fg[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),Vg=(Ng=function(t,e){return(Ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ng(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gg=6378137*Math.PI,Ug=[-Gg,-Gg,Gg,Gg],Bg=[-180,-85,180,85],Hg=6378137*Math.log(Math.tan(Math.PI/2)),Wg=function(t){function e(e){return t.call(this,{code:e,units:zg.METERS,extent:Ug,global:!0,worldExtent:Bg,getPointResolution:function(t,e){return t/Bp(e[1]/6378137)}})||this}return Vg(e,t),e}(qg),Xg=[new Wg("EPSG:3857"),new Wg("EPSG:102100"),new Wg("EPSG:102113"),new Wg("EPSG:900913"),new Wg("http://www.opengis.net/gml/srs/epsg.xml#3857")],Zg=(Dg=function(t,e){return(Dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Dg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yg=[-180,-90,180,90],Kg=6378137*Math.PI/180,Jg=function(t){function e(e,n){return t.call(this,{code:e,units:zg.DEGREES,extent:Yg,axisOrientation:n,global:!0,metersPerUnit:Kg,worldExtent:Yg})||this}return Zg(e,t),e}(qg),Qg=[new Jg("CRS:84"),new Jg("EPSG:4326","neu"),new Jg("urn:ogc:def:crs:OGC:1.3:CRS84"),new Jg("urn:ogc:def:crs:OGC:2:84"),new Jg("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],$g={},ty={};function ey(t,e,n){var r=t.getCode(),i=e.getCode();r in ty||(ty[r]={}),ty[r][i]=n}function ny(t,e,n){var r=n||6371008.8,i=Zp(t[1]),o=Zp(e[1]),a=(o-i)/2,s=Zp(e[0]-t[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function ry(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function iy(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function oy(t){!function(t,e){$g[t]=e}(t.getCode(),t),ey(t,t,ry)}function ay(t){return"string"==typeof t?$g[e=t]||$g[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function sy(t,e,n,r){var i,o=(t=ay(t)).getPointResolutionFunc();if(o)i=o(e,n),r&&r!==t.getUnits()&&(s=t.getMetersPerUnit())&&(i=i*s/Fg[r]);else{var a=t.getUnits();if(a==zg.DEGREES&&!r||r==zg.DEGREES)i=e;else{var s,u=hy(t,ay("EPSG:4326"));if(u===iy&&a!==zg.DEGREES)i=e*t.getMetersPerUnit();else{var l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];i=(ny((l=u(l,l,2)).slice(0,2),l.slice(2,4))+ny(l.slice(4,6),l.slice(6,8)))/2}void 0!==(s=r?Fg[r]:t.getMetersPerUnit())&&(i/=s)}}return i}function uy(t){!function(t){t.forEach(oy)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&ey(e,t,ry)})})}function ly(t,e){return t?"string"==typeof t?ay(t):t:ay(e)}function cy(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||hy(t,e)===ry)&&n}function hy(t,e){var n=function(t,e){var n;return t in ty&&e in ty[t]&&(n=ty[t][e]),n}(t.getCode(),e.getCode());return n||(n=iy),n}function dy(t,e){return hy(ay(t),ay(e))}function fy(t,e,n){return dy(e,n)(t,void 0,t.length)}function py(t,e){return t}function vy(t,e){return t}function gy(t,e){return t}function yy(t,e){return t}function my(t,e,n){return function(r,i,o,a,s){if(r){var u=e?0:o[0]*i,l=e?0:o[1]*i,c=s?s[0]:0,h=s?s[1]:0,d=t[0]+u/2+c,f=t[2]-u/2+c,p=t[1]+l/2+h,v=t[3]-l/2+h;d>f&&(f=d=(f+d)/2),p>v&&(v=p=(v+p)/2);var g=Up(r[0],d,f),y=Up(r[1],p,v),m=30*i;return a&&n&&(g+=-m*Math.log(1+Math.max(0,d-r[0])/m)+m*Math.log(1+Math.max(0,r[0]-f)/m),y+=-m*Math.log(1+Math.max(0,p-r[1])/m)+m*Math.log(1+Math.max(0,r[1]-v)/m)),[g,y]}}}function _y(t){return t}function by(t,e,n,r){var i=qp(e)/n[0],o=Lp(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function wy(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Up(r,n/2,2*e)}function xy(t,e,n,r,i){return function(o,a,s,u){if(void 0!==o){var l=r?by(t,r,s,i):t;return(void 0===n||n)&&u?wy(o,l,e):Up(o,e,l)}}}function Cy(t){return void 0!==t?0:void 0}function Sy(t){return void 0!==t?t:void 0}function ky(t){return Math.pow(t,3)}function Ey(t){return 1-ky(1-t)}function Ty(t){return 3*t*t-2*t*t*t}function Oy(t){return t}function Ry(t,e,n,r,i,o){for(var a=o||[],s=0,u=e;u<n;u+=r){var l=t[u],c=t[u+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function Py(t,e,n,r,i,o,a){for(var s=a||[],u=Math.cos(i),l=Math.sin(i),c=o[0],h=o[1],d=0,f=e;f<n;f+=r){var p=t[f]-c,v=t[f+1]-h;s[d++]=c+p*u-v*l,s[d++]=h+p*l+v*u;for(var g=f+2;g<f+r;++g)s[d++]=t[g]}return a&&s.length!=d&&(s.length=d),s}uy(Xg),uy(Qg),jg=Xg,Mg=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i){o[a]=Gg*t[a]/180;var s=6378137*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));s>Hg?s=Hg:s<-Hg&&(s=-Hg),o[a+1]=s}return o},Lg=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/Gg,o[a+1]=360*Math.atan(Math.exp(t[a+1]/6378137))/Math.PI-90;return o},Qg.forEach(function(t){jg.forEach(function(e){ey(t,e,Mg),ey(e,t,Lg)})});var Iy,Ay,Fy=(Ay=function(t,e){return(Ay=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ay(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jy=[1,0,0,1,0,0],My=function(t){function e(){var e,n,r,i,o,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)},o=!1,function(){var t=Array.prototype.slice.call(arguments);return o&&this===i&&Uf(t,r)||(o=!0,i=this,r=t,n=e.apply(this,arguments)),n}),a}return Fy(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Xf()},e.prototype.closestPointXY=function(t,e,n,r){return Xf()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Xf()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&xp(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){Xf()},e.prototype.scale=function(t,e,n){Xf()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Xf()},e.prototype.getType=function(){return Xf()},e.prototype.applyTransform=function(t){Xf()},e.prototype.intersectsExtent=function(t){return Xf()},e.prototype.translate=function(t,e){Xf()},e.prototype.transform=function(t,e){var n=ay(t),r=n.getUnits()==zg.TILE_PIXELS?function(t,r,i){var o=n.getExtent(),a=n.getWorldExtent(),s=Lp(a)/Lp(o);return cp(jy,a[0],a[3],s,-s,0,0,0),Ry(t,0,t.length,i,jy,r),dy(n,e)(t,r,i)}:dy(n,e);return this.applyTransform(r),this},e}(kv),Ly=(Iy=function(t,e){return(Iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Iy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Dy(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}var Ny=function(t){function e(){var e=t.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return Ly(e,t),e.prototype.computeExtent=function(t){return Cp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Xf()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Dy(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Xf()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=Dy(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Py(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=Fp(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();!function(t,e,n,r,i,o,a,s){for(var u=s||[],l=a[0],c=a[1],h=0,d=0;d<n;d+=r){var f=t[d+1]-c;u[h++]=l+i*(t[d]-l),u[h++]=c+o*f;for(var p=d+2;p<d+r;++p)u[h++]=t[p]}s&&u.length!=h&&(u.length=h)}(o,0,o.length,a,t,r,i,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();!function(t,e,n,r,i,o,a){for(var s=a||[],u=0,l=0;l<n;l+=r){s[u++]=t[l]+i,s[u++]=t[l+1]+o;for(var c=l+2;c<l+r;++c)s[u++]=t[c]}a&&s.length!=u&&(s.length=u)}(n,0,n.length,r,t,e,n),this.changed()}},e}(My);function zy(t,e,n,r,i,o,a){var s,u=t[e],l=t[e+1],c=t[n]-u,h=t[n+1]-l;if(0===c&&0===h)s=e;else{var d=((i-u)*c+(o-l)*h)/(c*c+h*h);if(d>1)s=n;else{if(d>0){for(var f=0;f<r;++f)a[f]=Kp(t[e+f],t[n+f],d);return void(a.length=r)}s=e}}for(f=0;f<r;++f)a[f]=t[s+f];a.length=r}function qy(t,e,n,r,i){var o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],u=t[e+1],l=Xp(o,a,s,u);l>i&&(i=l),o=s,a=u}return i}function Vy(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=qy(t,e,s,r,i),e=s}return i}function Gy(t,e,n,r,i,o,a,s,u,l,c){if(e==n)return l;var h,d;if(0===i){if((d=Xp(a,s,t[e],t[e+1]))<l){for(h=0;h<r;++h)u[h]=t[e+h];return u.length=r,d}return l}for(var f=c||[NaN,NaN],p=e+r;p<n;)if(zy(t,p-r,p,r,a,s,f),(d=Xp(a,s,f[0],f[1]))<l){for(l=d,h=0;h<r;++h)u[h]=f[h];u.length=r,p+=r}else p+=r*Math.max((Math.sqrt(d)-Math.sqrt(l))/i|0,1);if(o&&(zy(t,n-r,e,r,a,s,f),(d=Xp(a,s,f[0],f[1]))<l)){for(l=d,h=0;h<r;++h)u[h]=f[h];u.length=r}return l}function Uy(t,e,n,r,i,o,a,s,u,l,c){for(var h=c||[NaN,NaN],d=0,f=n.length;d<f;++d){var p=n[d];l=Gy(t,e,p,r,i,o,a,s,u,l,h),e=p}return l}function By(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)t[e++]=a[s];return e}function Hy(t,e,n,r,i){for(var o=i||[],a=0,s=0,u=n.length;s<u;++s){var l=By(t,e,n[s],r);o[a++]=l,e=l}return o.length=a,o}function Wy(t,e,n,r,i,o,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[e,n-r],c=0;l.length>0;){for(var h=l.pop(),d=l.pop(),f=0,p=t[d],v=t[d+1],g=t[h],y=t[h+1],m=d+r;m<h;m+=r){var _=Wp(t[m],t[m+1],p,v,g,y);_>f&&(c=m,f=_)}f>i&&(u[(c-e)/r]=1,d+r<c&&l.push(d,c),c+r<h&&l.push(c,h))}for(m=0;m<s;++m)u[m]&&(o[a++]=t[e+m*r],o[a++]=t[e+m*r+1]);return a}function Xy(t,e){return e*Math.round(t/e)}function Zy(t,e,n,r,i,o,a){if(e==n)return a;var s,u,l=Xy(t[e],i),c=Xy(t[e+1],i);e+=r,o[a++]=l,o[a++]=c;do{if(s=Xy(t[e],i),u=Xy(t[e+1],i),(e+=r)==n)return o[a++]=s,o[a++]=u,a}while(s==l&&u==c);for(;e<n;){var h=Xy(t[e],i),d=Xy(t[e+1],i);if(e+=r,h!=s||d!=u){var f=s-l,p=u-c,v=h-l,g=d-c;f*g==p*v&&(f<0&&v<f||f==v||f>0&&v>f)&&(p<0&&g<p||p==g||p>0&&g>p)?(s=h,u=d):(o[a++]=s,o[a++]=u,l=s,c=u,s=h,u=d)}}return o[a++]=s,o[a++]=u,a}function Yy(t,e,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=Zy(t,e,c,r,i,o,a),s.push(a),e=c}return a}function Ky(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=e;s<n;s+=r)o[a++]=t.slice(s,s+r);return o.length=a,o}function Jy(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=Ky(t,e,l,r,o[a]),e=l}return o.length=a,o}function Qy(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=Jy(t,e,l,r,o[a]),e=l[l.length-1]}return o.length=a,o}function $y(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=a*s-o*u,o=s,a=u}return i/2}function tm(t,e,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=$y(t,e,s,r),e=s}return i}var em,nm,rm=(nm=function(t,e){return(nm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}nm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),im=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return rm(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<gp(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Gy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return $y(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Ky(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Wy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=By(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Ny),om=(em=function(t,e){return(em=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}em(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),am=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return om(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=Xp(t,e,i[0],i[1]);if(o<r){for(var a=this.stride,s=0;s<a;++s)n[s]=i[s];return n.length=a,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return wp(n=(e=this.flatCoordinates)[0],r=e[1],n,r,t);var e,n,r},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return _p(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t),this.changed()},e}(Ny);function sm(t,e,n,r,i){return!Rp(i,function(i){return!um(t,e,n,r,i[0],i[1])})}function um(t,e,n,r,i,o){for(var a=0,s=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=o?c>o&&(l-s)*(o-u)-(i-s)*(c-u)>0&&a++:c<=o&&(l-s)*(o-u)-(i-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function lm(t,e,n,r,i,o){if(0===n.length)return!1;if(!um(t,e,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(um(t,n[a-1],n[a],r,i,o))return!1;return!0}function cm(t,e,n,r,i,o,a){for(var s,u,l,c,h,d,f,p=i[o+1],v=[],g=0,y=n.length;g<y;++g){var m=n[g];for(c=t[m-r],d=t[m-r+1],s=e;s<m;s+=r)h=t[s],f=t[s+1],(p<=d&&f<=p||d<=p&&p<=f)&&v.push(l=(p-d)/(f-d)*(h-c)+c),c=h,d=f}var _=NaN,b=-1/0;for(v.sort(zf),c=v[0],s=1,u=v.length;s<u;++s){h=v[s];var w=Math.abs(h-c);w>b&&lm(t,e,n,r,l=(c+h)/2,p)&&(_=l,b=w),c=h}return isNaN(_)&&(_=i[o]),a?(a.push(_,p,b),a):[_,p,b]}function hm(t,e,n,r,i){for(var o,a=[t[e],t[e+1]],s=[];e+r<n;e+=r){if(s[0]=t[e+r],s[1]=t[e+r+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}function dm(t,e,n,r,i){var o=Tp([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!Vp(i,o)&&(!!mp(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]||hm(t,e,n,r,function(t,e){return function(t,e,n){var r=!1,i=bp(t,e),o=bp(t,n);if(1===i||1===o)r=!0;else{var a=t[0],s=t[1],u=t[2],l=t[3],c=n[0],h=n[1],d=(h-e[1])/(c-e[0]),f=void 0,p=void 0;2&o&&!(2&i)&&(r=(f=c-(h-l)/d)>=a&&f<=u),r||!(4&o)||4&i||(r=(p=h-(c-u)*d)>=s&&p<=l),r||!(8&o)||8&i||(r=(f=c-(h-s)/d)>=a&&f<=u),r||!(16&o)||16&i||(r=(p=h-(c-a)*d)>=s&&p<=l)}return r}(i,t,e)}))}function fm(t,e,n,r,i){if(!function(t,e,n,r,i){return!!(dm(t,e,n,r,i)||um(t,e,n,r,i[0],i[1])||um(t,e,n,r,i[0],i[3])||um(t,e,n,r,i[2],i[1])||um(t,e,n,r,i[2],i[3]))}(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(var o=1,a=n.length;o<a;++o)if(sm(t,n[o-1],n[o],r,i)&&!dm(t,n[o-1],n[o],r,i))return!1;return!0}function pm(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function vm(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=(s-o)*(u+a),o=s,a=u}return 0===i?void 0:i>0}function gm(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=vm(t,e,u,r);if(0===a){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=u}return!0}function ym(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=vm(t,e,u,r);(0===a?o&&l||!o&&!l:o&&!l||!o&&l)&&pm(t,e,u,r),e=u}return e}function mm(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o)e=ym(t,e,n[o],r,i);return e}var _m,bm=(_m=function(t,e){return(_m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wm=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return bm(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Gf(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<gp(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vy(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Uy(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return lm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return tm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?ym(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Jy(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Fp(this.getExtent());this.flatInteriorPoint_=cm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new am(this.getFlatInteriorPoint(),"XYM")},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new im(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o],u=new im(e.slice(i,s),t);r.push(u),i=s}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;gm(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ym(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Yy(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,"XY",r)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return fm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Hy(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Ny),xm=wm;function Cm(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new wm(o,"XY",[o.length])}var Sm,km=(Sm=function(t,e){return(Sm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Sm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Em(t,e){setTimeout(function(){t(e)},0)}function Tm(t){return!(t.sourceCenter&&t.targetCenter&&!Iv(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function Om(t,e,n,r,i){var o=Math.cos(-i),a=Math.sin(-i),s=t[0]*o-t[1]*a,u=t[1]*o+t[0]*a;return[(s+=(e[0]/2-n[0])*r)*o-(u+=(n[1]-e[1]/2)*r)*(a=-a),u*o+s*a]}var Rm=function(t){function e(e){var n=t.call(this)||this,r=sv({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=ly(r.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,r.center&&(r.center=vy(r.center)),r.extent&&(r.extent=yy(r.extent)),n.applyOptions_(r),n}return km(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,r,i=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,l=void 0!==t.showFullExtent&&t.showFullExtent,c=ly(t.projection,"EPSG:3857"),h=c.getExtent(),d=t.constrainOnlyCenter,f=t.extent;if(s||f||!c.isGlobal()||(d=!1,f=h),void 0!==t.resolutions){var p=t.resolutions;n=p[i],r=void 0!==p[o]?p[o]:p[p.length-1],e=t.constrainResolution?function(t,e,n,r){return function(i,o,a,s){if(void 0!==i){var u=t[0],l=t[t.length-1],c=n?by(u,n,a,r):u;if(s)return void 0===e||e?wy(i,c,l):Up(i,l,c);var h=Math.min(c,i),d=Math.floor(qf(t,h,o));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}(p,u,!d&&f,l):xy(n,r,u,!d&&f,l)}else{var v=(h?Math.max(qp(h),Lp(h)):360*Fg[zg.DEGREES]/c.getMetersPerUnit())/256/Math.pow(2,0),g=v/Math.pow(2,28);void 0!==(n=t.maxResolution)?i=0:n=v/Math.pow(a,i),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):v/Math.pow(a,o):g),o=i+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,o-i),e=t.constrainResolution?function(t,e,n,r,i,o){return function(a,s,u,l){if(void 0!==a){var c=i?by(e,i,u,o):e,h=void 0!==n?n:0;if(l)return void 0===r||r?wy(a,c,h):Up(a,h,c);var d=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),f=-s*(.5-1e-9)+.5,p=Math.min(c,a),v=Math.floor(Math.log(e/p)/Math.log(t)+f),g=Math.max(d,v);return Up(e/Math.pow(t,g),h,c)}}}(a,n,r,u,!d&&f,l):xy(n,r,u,!d&&f,l)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent)return my(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=ly(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,my(n,!1,!1)}return _y}(t),r=e.constraint,i=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(r=Zp(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=r?0:t:void 0}):!1===e?Sy:"number"==typeof e?(n=2*Math.PI/e,function(t,e){return e?t:void 0!==t?t=Math.floor(t/n+.5)*n:void 0}):Sy}return Cy;var n,r}(t);this.constraints_={center:n,resolution:r,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var r=t||[0,0,0,0];e=e||[0,0,0,0];var i=this.getResolution();this.setCenterInternal([n[0]+i/2*(r[3]-e[3]+e[1]-r[1]),n[1]-i/2*(r[0]-e[0]+e[2]-r[2])])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=sv({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),sv({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=sv({},r)).center=vy(r.center,this.getProjection())),r.anchor&&((r=sv({},r)).anchor=vy(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&Em(e,!0))}for(var i=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,u=[],l=0;l<n;++l){var c=arguments[l],h={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Ty,callback:e};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=s;var d=Yp(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+d,s=h.targetRotation}Tm(h)?h.complete=!0:i+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&Em(r[0].callback,!1),!t)for(var i=0,o=r.length;i<o;++i){var a=r[i];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var u=s.duration>0?(t-s.start)/s.duration:1;u>=1?(s.complete=!0,u=1):i=!1;var l=s.easing(u);if(s.sourceCenter){var c=s.sourceCenter[0],h=s.sourceCenter[1];this.targetCenter_=[c+l*(s.targetCenter[0]-c),h+l*(s.targetCenter[1]-h)]}if(s.sourceResolution&&s.targetResolution){var d=1===l?s.targetResolution:s.sourceResolution+l*(s.targetResolution-s.sourceResolution);if(s.anchor){var f=this.getViewportSize_(this.getRotation()),p=this.constraints_.resolution(d,0,f,!0);this.targetCenter_=this.calculateCenterZoom(p,s.anchor)}this.targetResolution_=d,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var v=1===l?Yp(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+l*(s.targetRotation-s.sourceRotation);if(s.anchor){var g=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(g,s.anchor)}this.targetRotation_=v}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(0,-1);var y=r[0].callback;y&&Em(y,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r,i,o=this.getCenterInternal();return void 0!==o&&(Av(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),(r=n)[0]+=+(i=e)[0],r[1]+=+i[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?py(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get("center")},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return gy(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();up(n,1);var r=this.getResolution();up(void 0!==r,2);var i=this.getRotation();return up(void 0!==i,3),Mp(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get("resolution")},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(yy(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),r=qp(t)/n[0],i=Lp(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get("rotation")},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=Math.log(n/this.minResolution_)/e;return function(t){return Math.log(n/t)/e/r}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),i=this.padding_;if(i){var o=this.getViewportSizeMinusPadding_();r=Om(r,this.getViewportSize_(),[o[0]/2+i[3],o[1]/2+i[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=qf(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Up(Math.floor(t),0,this.resolutions_.length-2);return this.resolutions_[e]/Math.pow(this.resolutions_[e]/this.resolutions_[e+1],Up(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(up(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))up(!Gp(t),25),n=Cm(r=yy(t,this.getProjection()));else if("Circle"===t.getType()){var r;(n=Cm(r=yy(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),Fp(r))}else n=t;this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),i=t.getFlatCoordinates(),o=t.getStride(),a=1/0,s=1/0,u=-1/0,l=-1/0,c=0,h=i.length;c<h;c+=o){var d=i[c]*n-i[c+1]*r,f=i[c]*r+i[c+1]*n;a=Math.min(a,d),s=Math.min(s,f),u=Math.max(u,d),l=Math.max(l,f)}return[a,s,u,l]},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSizeMinusPadding_());var i,o=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(t),u=this.getResolutionForExtentInternal(s,[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]);u=isNaN(u)?i:Math.max(u,i),u=this.getConstrainedResolution(u,a?0:1);var l=this.getRotation(),c=Math.sin(l),h=Math.cos(l),d=Fp(s);d[0]+=(o[1]-o[3])/2*u,d[1]+=(o[0]-o[2])/2*u;var f=this.getConstrainedCenter([d[0]*h-d[1]*c,d[1]*h+d[0]*c],u),p=n.callback?n.callback:Wf;void 0!==n.duration?this.animateInternal({resolution:u,center:f,duration:n.duration,easing:n.easing},p):(this.targetResolution_=u,this.targetCenter_=f,this.applyTargetState_(!1,!0),Em(p,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(vy(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(Om(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,r){var i,o=this.padding_;if(o&&t){var a=this.getViewportSizeMinusPadding_(-n),s=Om(t,r,[a[0]/2+o[3],a[1]/2+o[0]],e,n);i=[t[0]-s[0],t[1]-s[1]]}return i},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=py(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&vy(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=vy(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(vy(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,o,i,n,this.calculateCenterShift(this.targetCenter_,o,r,i));this.get("rotation")!==r&&this.set("rotation",r),this.get("resolution")!==o&&this.set("resolution",o),this.get("center")&&Iv(this.get("center"),a)||this.set("center",a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),u=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,o,a));if(0===r&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=u,void this.applyTargetState_();var l=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&Iv(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:u,resolution:s,duration:r,easing:Ey,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&vy(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(kv);function Pm(t){return t[0]>0&&t[1]>0}function Im(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var Am,Fm,jm,Mm,Lm,Dm,Nm=(Dm=function(t,e){return(Dm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Dm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zm=function(t){function e(e){var n=t.call(this)||this,r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,i,o={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new bg({layers:t.layers});return o.layergroup=a,o.target=t.target,o.view=void 0!==t.view?t.view:new Rm,void 0!==t.controls&&(Array.isArray(t.controls)?n=new mg(t.controls.slice()):(up("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new mg(t.interactions.slice()):(up("function"==typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?i=new mg(t.overlays.slice()):(up("function"==typeof t.overlays.getArray,49),i=t.overlays):i=new mg,{controls:n,interactions:r,keyboardEventTarget:e,overlays:i,values:o}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:np,n.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=r.controls||new mg,n.interactions=r.interactions||new mg,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new Ig(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener("layergroup",n.handleLayerGroupChanged_),n.addChangeListener("view",n.handleViewChanged_),n.addChangeListener("size",n.handleSizeChanged_),n.addChangeListener("target",n.handleTargetChanged_),n.setProperties(r.values),n.controls.forEach((function(t){t.setMap(this)}).bind(n)),n.controls.addEventListener("add",(function(t){t.element.setMap(this)}).bind(n)),n.controls.addEventListener("remove",(function(t){t.element.setMap(null)}).bind(n)),n.interactions.forEach((function(t){t.setMap(this)}).bind(n)),n.interactions.addEventListener("add",(function(t){t.element.setMap(this)}).bind(n)),n.interactions.addEventListener("remove",(function(t){t.element.setMap(null)}).bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener("add",(function(t){this.addOverlayInternal_(t.element)}).bind(n)),n.overlays_.addEventListener("remove",(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}).bind(n)),n}return Nm(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t);return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,e,null,void 0!==n.layerFilter?n.layerFilter:Bf,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{};return this.renderer_.forEachLayerAtPixel(t,this.frameState_,void 0!==r.hitTolerance?r.hitTolerance:0,e,r.layerFilter||Bf)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance:0,!1!==e.checkWrapped,void 0!==e.layerFilter?e.layerFilter:Bf,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get("target")},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return py(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?lp(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get("layergroup")},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer.getSource();if(r&&r.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=vy(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?lp(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get("size")},e.prototype.getView=function(){return this.get("view")},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,r){return function(t,e,n,r,i){if(!t||!(n in t.wantedTiles))return Og;if(!t.wantedTiles[n][e.getKey()])return Og;var o=t.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=new Sg(e||t.type,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if("pointerdown"===n||"wheel"===n||"keydown"===n){var r=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=e.target;if(this.overlayContainerStopEvent_.contains(o)||!(i===r?r.documentElement:i).contains(o))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var u=a[s];if(u.getMap()===this&&u.getActive()&&this.getTargetElement()&&(!u.handleEvent(t)||t.propagationStopped))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[0]||i[1]){var o=Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}!t||!this.hasListener("rendercomplete")||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent("rendercomplete",t);for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)gv(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Zv(this.viewport_)}if(t){for(var r in t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Tg(this,this.moveTolerance_),kg)this.mapBrowserEventHandler_.addEventListener(kg[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!op&&{passive:!1});var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[pv(i,"keydown",this.handleBrowserEvent,this),pv(i,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(gv(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(gv(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=pv(t,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=pv(t,"change",this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(gv),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[pv(t,"propertychange",this.render,this),pv(t,"change",this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),r=this.getView(),i=this.frameState_,o=null;if(void 0!==n&&Pm(n)&&r&&r.isDef()){var a=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=r.getState();o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Mp(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{}}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i&&(!this.previousExtent_||!Gp(this.previousExtent_)&&!Sp(o.extent,this.previousExtent_))&&(this.dispatchEvent(new xg("movestart",this,i)),this.previousExtent_=xp(this.previousExtent_)),this.previousExtent_&&!o.viewHints[0]&&!o.viewHints[1]&&!Sp(o.extent,this.previousExtent_)&&(this.dispatchEvent(new xg("moveend",this,o)),vp(o.extent,this.previousExtent_))),this.dispatchEvent(new xg("postrender",this,o)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){this.set("layergroup",t)},e.prototype.setSize=function(t){this.set("size",t)},e.prototype.setTarget=function(t){this.set("target",t)},e.prototype.setView=function(t){this.set("view",t)},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),i=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(i)||Pm(e=[r,i])||console.warn("No map visible because the map container's width or height are 0.")}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(kv),qm=(Lm=function(t,e){return(Lm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Lm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vm=function(t){function e(e){var n=t.call(this)||this,r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return qm(e,t),e.prototype.disposeInternal=function(){Zv(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Zv(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)gv(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Wf&&this.listenerKeys.push(pv(t,"postrender",this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(kv),Gm=(Mm=function(t,e){return(Mm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Mm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Um=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",o=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.expandClassName?r.expandClassName:i+"-expand",s=void 0!==r.collapseLabel?r.collapseLabel:"\xbb",u=void 0!==r.collapseClassName?r.collapseClassName:i+"-collpase";"string"==typeof s?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=s,n.collapseLabel_.className=u):n.collapseLabel_=s;var l=void 0!==r.label?r.label:"i";"string"==typeof l?(n.label_=document.createElement("span"),n.label_.textContent=l,n.label_.className=a):n.label_=l;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=o,n.toggleButton_.appendChild(c),n.toggleButton_.addEventListener("click",n.handleClick_.bind(n),!1);var h=n.element;return h.className=i+" ol-unselectable ol-control"+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),h.appendChild(n.toggleButton_),h.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return Gm(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=!0,i=t.layerStatesArray,o=0,a=i.length;o<a;++o){var s=i[o];if(Rv(s,t.viewState)){var u=s.layer.getSource();if(u){var l=u.getAttributions();if(l){var c=l(t);if(c)if(r=r&&!1!==u.getAttributionsCollapsible(),Array.isArray(c))for(var h=0,d=c.length;h<d;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Uf(e,this.renderedAttributions_)){Yv(this.ulElement_);for(var r=0,i=e.length;r<i;++r){var o=document.createElement("li");o.innerHTML=e[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?Xv(this.collapseLabel_,this.label_):Xv(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Vm),Bm=(jm=function(t,e){return(jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}jm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hm=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var i=void 0!==r.className?r.className:"ol-rotate",o=void 0!==r.label?r.label:"\u21e7",a=void 0!==r.compassClassName?r.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=a,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(a));var s=r.tipLabel?r.tipLabel:"Reset rotation",u=document.createElement("button");u.className=i+"-reset",u.setAttribute("type","button"),u.title=s,u.appendChild(n.label_),u.addEventListener("click",n.handleClick_.bind(n),!1);var l=n.element;return l.className=i+" ol-unselectable ol-control",l.appendChild(u),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add("ol-hidden"),n}return Bm(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:Ey}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains("ol-hidden");i||0!==n?i&&0!==n&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.label_.style.transform=r}this.rotation_=n}},e}(Vm),Wm=(Fm=function(t,e){return(Fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Fm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xm=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var i=void 0!==r.className?r.className:"ol-zoom",o=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInClassName?r.zoomInClassName:i+"-in",s=void 0!==r.zoomOutClassName?r.zoomOutClassName:i+"-out",u=void 0!==r.zoomInLabel?r.zoomInLabel:"+",l=void 0!==r.zoomOutLabel?r.zoomOutLabel:"\u2212",c=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=a,d.setAttribute("type","button"),d.title=c,d.appendChild("string"==typeof u?document.createTextNode(u):u),d.addEventListener("click",n.handleClick_.bind(n,o),!1);var f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=h,f.appendChild("string"==typeof l?document.createTextNode(l):l),f.addEventListener("click",n.handleClick_.bind(n,-o),!1);var p=n.element;return p.className=i+" ol-unselectable ol-control",p.appendChild(d),p.appendChild(f),n.duration_=void 0!==r.duration?r.duration:250,n}return Wm(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:Ey})):e.setZoom(r)}}},e}(Vm),Zm=(Am=function(t,e){return(Am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Am(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Ym(t,e,n,r){var i=t.getZoom();if(void 0!==i){var o=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:Ey})}}var Km,Jm,Qm=function(t){function e(e){var n=t.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return Zm(e,t),e.prototype.getActive=function(){return this.get("active")},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set("active",t)},e.prototype.setMap=function(t){this.map_=t},e}(kv),$m=(Jm=function(t,e){return(Jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Jm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),t_=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return $m(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==kg.DBLCLICK){var n=t.originalEvent,r=t.coordinate,i=n.shiftKey?-this.delta_:this.delta_;Ym(t.map.getView(),i,r,this.duration_),n.preventDefault(),e=!0}return!e},e}(Qm),e_=(Km=function(t,e){return(Km=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Km(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function n_(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}var r_=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return e_(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==kg.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==kg.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==kg.POINTERDOWN){var r=this.handleDownEvent(t);this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==kg.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===kg.POINTERDOWN||e===kg.POINTERDRAG||e===kg.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==kg.POINTERUP?delete this.trackedPointers_[n]:(t.type==kg.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=lv(this.trackedPointers_)}},e}(Qm);function i_(t){var e=arguments;return function(t){for(var n=!0,r=0,i=e.length;r<i&&(n=n&&e[r](t));++r);return n}}var o_,a_,s_,u_,l_,c_,h_,d_,f_,p_,v_,g_,y_,m_,__=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},b_=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},w_=Bf,x_=function(t){var e=t.originalEvent;return 0==e.button&&!(tp&&ep&&e.ctrlKey)},C_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},S_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},k_=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},E_=function(t){var e=t.originalEvent;return up(void 0!==e,56),"mouse"==e.pointerType},T_=function(t){var e=t.originalEvent;return up(void 0!==e,56),e.isPrimary&&0===e.button},O_=(m_=function(t,e){return(m_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}m_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),R_=function(t){function e(e){var n=t.call(this,{stopDown:Hf})||this,r=e||{};n.kinetic_=r.kinetic,n.lastCentroid=null,n.panning_=!1;var i=r.condition?r.condition:i_(C_,T_);return n.condition_=r.onFocusOnly?i_(b_,i):i,n.noKinetic_=!1,n}return O_(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,r=this.targetPointers,i=n_(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=t.map.getView();e=o,n=a.getResolution(),e[0]*=n,e[1]*=n,Av(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),s=e.getCoordinateFromPixelInternal([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:Ey})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(r_),P_=(y_=function(t,e){return(y_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}y_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),I_=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:Hf})||this).condition_=r.condition?r.condition:__,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return P_(e,t),e.prototype.handleDragEvent=function(t){if(E_(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Cy){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);void 0!==this.lastAngle_&&n.adjustRotationInternal(-(o-this.lastAngle_)),this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!E_(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!E_(t)||!x_(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(r_),A_=(g_=function(t,e){return(g_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}g_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),F_=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return A_(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new xm([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Nf),j_=(v_=function(t,e){return(v_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}v_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),M_=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return j_(e,t),e}(av),L_=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.box_=new F_(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(n.onBoxEnd=r.onBoxEnd),n.startPixel_=null,n.condition_=r.condition?r.condition:x_,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return j_(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new M_("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new M_(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new M_("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(r_),D_=(p_=function(t,e){return(p_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}p_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),N_=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{condition:r.condition?r.condition:S_,className:r.className||"ol-dragzoom",minArea:r.minArea})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return D_(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var r=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(r),o=e.getResolution()/i;(n=n.clone()).scale(o*o)}e.fitInternal(n,{duration:this.duration_,easing:Ey})},e}(L_),z_=(f_=function(t,e){return(f_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}f_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),q_=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.defaultCondition_=function(t){return C_(t)&&k_(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return z_(e,t),e.prototype.handleEvent=function(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent,r=n.keyCode;if(this.condition_(t)&&(40==r||37==r||39==r||38==r)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,a=0,s=0;40==r?s=-o:37==r?a=-o:39==r?a=o:s=o;var u=[a,s];Av(u,i.getRotation()),function(t,e,n){var r=t.getCenterInternal();r&&t.animateInternal({duration:void 0!==n?n:250,easing:Oy,center:t.getConstrainedCenter([r[0]+e[0],r[1]+e[1]])})}(i,u,this.duration_),n.preventDefault(),e=!0}}return!e},e}(Qm),V_=(d_=function(t,e){return(d_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}d_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),G_=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.condition_=r.condition?r.condition:k_,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return V_(e,t),e.prototype.handleEvent=function(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent,r=n.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=t.map,o=r=="+".charCodeAt(0)?this.delta_:-this.delta_;Ym(i.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(Qm),U_=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),B_=(h_=function(t,e){return(h_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),H_=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var i=r.condition?r.condition:w_;return n.condition_=r.onFocusOnly?i_(b_,i):i,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return B_(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if("wheel"!==t.type)return!0;var e,n=t.map,r=t.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),"wheel"==t.type&&(e=r.deltaY,$f&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=np),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?"trackpad":"wheel");var o=n.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var a=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-Up(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Ym(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Qm),W_=(c_=function(t,e){return(c_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}c_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),X_=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=Hf),(n=t.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return W_(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Cy){var u=a.getViewport().getBoundingClientRect(),l=n_(this.targetPointers);l[0]-=u.left,l[1]-=u.top,this.anchor_=a.getCoordinateFromPixelInternal(l),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(r_),Z_=(l_=function(t,e){return(l_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}l_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Y_=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=Hf),(n=t.call(this,i)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Z_(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,u=s.getView();1!=e&&(this.lastScaleDelta_=e);var l=s.getViewport().getBoundingClientRect(),c=n_(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),u.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(r_),K_=(u_=function(t,e){return(u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}u_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),J_=function(t){function e(e){return(e=sv({},e)).controls||(e.controls=function(t){var e={},n=new mg;return(void 0===e.zoom||e.zoom)&&n.push(new Xm(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Hm(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Um(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e={onFocusOnly:!0}||{},n=new mg,r=new U_(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new I_),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new t_({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new R_({onFocusOnly:e.onFocusOnly,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new X_),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Y_({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new q_),n.push(new G_({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new H_({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new N_({duration:e.zoomDuration})),n}()),t.call(this,e)||this}return K_(e,t),e.prototype.createRenderer=function(){return new vg(this)},e}(zm),Q_=(s_=function(t,e){return(s_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$_=function(t){function e(e){var n=this,r=e||{},i=sv({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return Q_(e,t),e.prototype.getPreload=function(){return this.get("preload")},e.prototype.setPreload=function(t){this.set("preload",t)},e.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},e.prototype.setUseInterimTilesOnError=function(t){this.set("useInterimTilesOnError",t)},e}(Pv),tb=(a_=function(t,e){return(a_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),eb=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return tb(e,t),e.prototype.getFeatures=function(t){return Xf()},e.prototype.prepareFrame=function(t){return Xf()},e.prototype.renderFrame=function(t,e){return Xf()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return(function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}).bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return Xf()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){2===t.target.getState()&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return 2!=e&&3!=e&&t.addEventListener("change",this.boundHandleImageChange_),0==e&&(t.load(),e=t.getState()),2==e},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&"ready"==t.getSourceState()&&t.changed()},e}(xv),nb=(o_=function(t,e){return(o_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rb=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return nb(e,t),e.prototype.useContainer=function(t,e,n){var r,i,o=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===o&&(a=t.firstElementChild)instanceof HTMLCanvasElement&&(i=a.getContext("2d")),!i||0!==i.canvas.width&&i.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=i,this.containerReused=!0),!this.container){(r=document.createElement("div")).className=o;var a,s=r.style;s.position="absolute",s.width="100%",s.height="100%",i=Bv(),r.appendChild(a=i.canvas),(s=a.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=r,this.context=i}},e.prototype.clipUnrotated=function(t,e,n){var r=Np(n),i=zp(n),o=Ap(n),a=Ip(n);lp(e.coordinateToPixelTransform,r),lp(e.coordinateToPixelTransform,i),lp(e.coordinateToPixelTransform,o),lp(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;lp(s,r),lp(s,i),lp(s,o),lp(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new qv(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,a){var s=r/e;return cp(this.tempTransform,i/2,o/2,s,-s,-n,-t[0]+a,-t[1])},e.prototype.getDataAtPixel=function(t,e,n){var r,i=lp(this.inversePixelTransform,t.slice()),o=this.context,a=this.getLayer().getExtent();if(a&&!yp(a,lp(e.pixelToCoordinateTransform,t.slice())))return null;try{var s=Math.round(i[0]),u=Math.round(i[1]),l=document.createElement("canvas"),c=l.getContext("2d");l.width=1,l.height=1,c.clearRect(0,0,1,1),c.drawImage(o.canvas,s,u,1,1,0,0,1,1),r=c.getImageData(0,0,1,1).data}catch(h){return"SecurityError"===h.name?new Uint8Array:r}return 0===r[3]?null:r},e}(eb),ib=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function ob(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new ib(t,e,n,r)}var ab,sb,ub=ib,lb=(sb=function(t,e){return(sb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}sb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cb=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new ub(0,0,0,0),n}return lb(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return 2==n||4==n||3==n&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,i,o);return 3==s.getState()&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(2)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,i=r.projection,o=r.resolution,a=r.center,s=r.rotation,u=t.pixelRatio,l=this.getLayer(),c=l.getSource(),h=c.getRevision(),d=c.getTileGridForProjection(i),f=d.getZForResolution(o,c.zDirection),p=d.getResolution(f),v=t.extent,g=n.extent&&yy(n.extent);g&&(v=Dp(v,yy(n.extent)));var y=c.getTilePixelRatio(u),m=Math.round(t.size[0]*y),_=Math.round(t.size[1]*y);if(s){var b=Math.round(Math.sqrt(m*m+_*_));m=b,_=b}var w=p*m/2/y,x=p*_/2/y,C=[a[0]-w,a[1]-x,a[0]+w,a[1]+x],S=d.getTileRangeForExtentAndZ(v,f),k={};k[f]={};var E=this.createLoadedTileFinder(c,i,k),T=this.tmpExtent,O=this.tmpTileRange_;this.newTiles_=!1;for(var R=S.minX;R<=S.maxX;++R)for(var P=S.minY;P<=S.maxY;++P){var I=this.getTile(f,R,P,t);if(this.isDrawableTile(I)){var A=Yf(this);if(2==I.getState()){k[f][I.tileCoord.toString()]=I;var F=I.inTransition(A);this.newTiles_||!F&&-1!==this.renderedTiles.indexOf(I)||(this.newTiles_=!0)}if(1===I.getAlpha(A,t.time))continue}var j=d.getTileCoordChildTileRange(I.tileCoord,O,T),M=!1;j&&(M=E(f+1,j)),M||d.forEachTileCoordParentTileRange(I.tileCoord,E,O,T)}var L=p/o;cp(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/y,1/y,s,-m/2,-_/2);var D=dp(this.pixelTransform);this.useContainer(e,D,n.opacity);var N=this.context,z=N.canvas;hp(this.inversePixelTransform,this.pixelTransform),cp(this.tempTransform,m/2,_/2,L,L,0,-m/2,-_/2),z.width!=m||z.height!=_?(z.width=m,z.height=_):this.containerReused||N.clearRect(0,0,m,_),g&&this.clipUnrotated(N,t,g),sv(N,c.getContextOptions()),this.preRender(N,t),this.renderedTiles.length=0;var q,V,G,U=Object.keys(k).map(Number);U.sort(zf),1!==n.opacity||this.containerReused&&!c.getOpaque(t.viewState.projection)?(q=[],V=[]):U=U.reverse();for(var B=U.length-1;B>=0;--B){var H=U[B],W=c.getTilePixelSize(H,u,i),X=d.getResolution(H)/p,Z=W[0]*X*L,Y=W[1]*X*L,K=d.getTileCoordForCoordAndZ(Np(C),H),J=d.getTileCoordExtent(K),Q=lp(this.tempTransform,[y*(J[0]-C[0])/p,y*(C[3]-J[3])/p]),$=y*c.getGutterForProjection(i),tt=k[H];for(var et in tt){var nt=(I=tt[et]).tileCoord,rt=K[1]-nt[1],it=Math.round(Q[0]-(rt-1)*Z),ot=K[2]-nt[2],at=Math.round(Q[1]-(ot-1)*Y),st=it-(R=Math.round(Q[0]-rt*Z)),ut=at-(P=Math.round(Q[1]-ot*Y)),lt=f===H;if(!(F=lt&&1!==I.getAlpha(Yf(this),t.time)))if(q){N.save(),G=[R,P,R+st,P,R+st,P+ut,R,P+ut];for(var ct=0,ht=q.length;ct<ht;++ct)if(f!==H&&H<V[ct]){var dt=q[ct];N.beginPath(),N.moveTo(G[0],G[1]),N.lineTo(G[2],G[3]),N.lineTo(G[4],G[5]),N.lineTo(G[6],G[7]),N.moveTo(dt[6],dt[7]),N.lineTo(dt[4],dt[5]),N.lineTo(dt[2],dt[3]),N.lineTo(dt[0],dt[1]),N.clip()}q.push(G),V.push(H)}else N.clearRect(R,P,st,ut);this.drawTileImage(I,t,R,P,st,ut,$,lt,n.opacity),q&&!F?(N.restore(),this.renderedTiles.unshift(I)):this.renderedTiles.push(I),this.updateUsedTiles(t.usedTiles,c,I)}}return this.renderedRevision=h,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Sp(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=u,this.renderedProjection=i,this.manageTilePyramid(t,c,d,u,i,v,f,l.getPreload()),this.scheduleExpireCache(t,c),this.postRender(N,t),n.extent&&N.restore(),D!==z.style.transform&&(z.style.transform=D),this.container},e.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,u){var l=this.getTileImage(t);if(l){var c=Yf(this),h=s?t.getAlpha(c,e.time):1,d=u*h,f=d!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,n,r,i,o),f&&this.context.restore(),1!==h?e.animate=!0:s&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=(function(t,e,n){var r=Yf(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}).bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=Yf(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,r,i,o,a,s,u){var l=Yf(e);l in t.wantedTiles||(t.wantedTiles[l]={});var c,h,d,f,p,v,g=t.wantedTiles[l],y=t.tileQueue,m=0;for(v=n.getMinZoom();v<=a;++v)for(h=n.getTileRangeForExtentAndZ(o,v,h),d=n.getResolution(v),f=h.minX;f<=h.maxX;++f)for(p=h.minY;p<=h.maxY;++p)a-v<=s?(++m,0==(c=e.getTile(v,f,p,r,i)).getState()&&(g[c.getKey()]=!0,y.isKeyQueued(c.getKey())||y.enqueue([c,l,n.getTileCoordCenter(c.tileCoord),d])),void 0!==u&&u(c)):e.useTile(v,f,p,i);e.updateCacheSize(m,i)},e}(rb),hb=(ab=function(t,e){return(ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ab(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),db=function(t){function e(e){return t.call(this,e)||this}return hb(e,t),e.prototype.createRenderer=function(){return new cb(this)},e}($_),fb=l(3036),pb=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Im(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Xf()},t.prototype.getImage=function(t){return Xf()},t.prototype.getHitDetectionImage=function(){return Xf()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Xf()},t.prototype.getImageSize=function(){return Xf()},t.prototype.getOrigin=function(){return Xf()},t.prototype.getSize=function(){return Xf()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Im(t)},t.prototype.listenImageChange=function(t){Xf()},t.prototype.load=function(){Xf()},t.prototype.unlistenImageChange=function(t){Xf()},t}();function vb(t){return Array.isArray(t)?rv(t):t}var gb,yb,mb=(yb=function(t,e){return(yb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}yb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_b=function(t){function e(e){var n=this;return(n=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.renderOptions_=null,n.render(),n}return mb(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,r=Bv(n.size*t,n.size*t);this.draw_(n,r,t),this.canvas_[t]=e=r.canvas}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return 2},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var r=this.radius_,i=void 0===this.radius2_?r:this.radius2_;if(r<i){var o=r;r=i,i=o}var a=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),s=i*Math.sin(a),u=r-Math.sqrt(i*i-s*s),l=Math.sqrt(s*s+u*u),c=l/s;if("miter"===t&&c<=n)return c*e;var h=e/2/c,d=e/2*(u/l),f=Math.sqrt((r+h)*(r+h)+d*d)-r;if(void 0===this.radius2_||"bevel"===t)return 2*f;var p=r*Math.sin(a),v=i-Math.sqrt(r*r-p*p),g=Math.sqrt(p*p+v*v)/p;return g<=n?2*Math.max(f,g*e/2-i-r):2*f},e.prototype.createRenderOptions=function(){var t,e="round",n=0,r=null,i=0,o=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=vb(t),void 0===(o=this.stroke_.getWidth())&&(o=1),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e="round"),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var a=this.calculateLineJoinSize_(e,o,n),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*s+a),lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size,e=this.getDisplacement();this.canvas_={},this.anchor_=[t/2-e[0],t/2+e[1]],this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r="#000"),e.fillStyle=vb(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=ev(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=Bv(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var i=this.angle_-Math.PI/2,o=2*Math.PI/e,a=0;a<e;a++){var s=i+a*o,u=a%2==0?n:r;t.lineTo(u*Math.cos(s),u*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(pb),bb=(gb=function(t,e){return(gb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}gb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wb=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return bb(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(_b),xb=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),Cb=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),Sb=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Tb,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Tb,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),kb=null;function Eb(t,e){if(!kb){var n=new xb({color:"rgba(255,255,255,0.4)"}),r=new Cb({color:"#3399CC",width:1.25});kb=[new Sb({image:new wb({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return kb}function Tb(t){return t.getGeometry()}var Ob,Rb,Pb,Ib,Ab,Fb=Sb,jb=(Ab=function(t,e){return(Ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ab(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mb=function(t){function e(e){var n=this,r=e||{},i=sv({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(n=t.call(this,i)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return jb(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get("renderOrder")},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new fb(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set("renderOrder",t)},e.prototype.setStyle=function(t){var e,n,r;this.style_=void 0!==t?t:Eb,this.styleFunction_=null===t?void 0:("function"==typeof(e=this.style_)?n=e:(Array.isArray(e)?r=e:(up("function"==typeof e.getZIndex,41),r=[e]),n=function(){return r}),n),this.changed()},e}(Pv),Lb={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Db=[Lb.FILL],Nb=[Lb.STROKE],zb=[Lb.BEGIN_PATH],qb=[Lb.CLOSE_PATH],Vb=Lb,Gb=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),Ub=(Ib=function(t,e){return(Ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ib(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bb=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return Ub(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates,o=i.length,a=0,s=t.length;a<s;a+=e)r[0]=t[a],r[1]=t[a+1],yp(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,n,r,i,o){var a=this.coordinates,s=a.length,u=this.getBufferedMaxExtent();o&&(e+=r);var l,c,h,d=t[e],f=t[e+1],p=this.tmpCoordinate_,v=!0;for(l=e+r;l<n;l+=r)p[0]=t[l],p[1]=t[l+1],(h=bp(u,p))!==c?(v&&(a[s++]=d,a[s++]=f,v=!1),a[s++]=p[0],a[s++]=p[1]):1===h?(a[s++]=p[0],a[s++]=p[1],v=!1):v=!0,d=p[0],f=p[1],c=h;return(i&&v||l===e+r)&&(a[s++]=d,a[s++]=f),s},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],u=this.appendFlatLineCoordinates(t,e,s,r,!1,!1);i.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,s,u=t.getType(),l=t.getStride(),c=this.coordinates.length;if("MultiPolygon"==u){r=t.getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var d=0,f=h.length;d<f;++d){var p=[];s=this.drawCustomCoordinates_(r,s,h[d],l,p),a.push(p)}this.instructions.push([Vb.CUSTOM,c,a,t,n,Qy])}else"Polygon"==u||"MultiLineString"==u?(o=[],r="Polygon"==u?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),l,o),this.instructions.push([Vb.CUSTOM,c,o,t,n,Jy])):"LineString"==u||"Circle"==u?(r=t.getFlatCoordinates(),i=this.appendFlatLineCoordinates(r,0,r.length,l,!1,!1),this.instructions.push([Vb.CUSTOM,c,i,t,n,Ky])):"MultiPoint"==u?(r=t.getFlatCoordinates(),(i=this.appendFlatPointCoordinates(r,l))>c&&this.instructions.push([Vb.CUSTOM,c,i,t,n,Ky])):"Point"==u&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),this.instructions.push([Vb.CUSTOM,c,i=this.coordinates.length,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Vb.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Vb.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==Vb.END_GEOMETRY?o=t:r==Vb.BEGIN_GEOMETRY&&(n[2]=t,Vf(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=vb(r||"#000")}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=vb(i||"#000");var o=e.getLineCap();n.lineCap=void 0!==o?o:"round";var a=e.getLineDash();n.lineDash=a?a.slice():Kv;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:"round";var l=e.getWidth();n.lineWidth=void 0!==l?l:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Vb.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Vb.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!Uf(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Vb.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){return this.bufferedMaxExtent_||(this.bufferedMaxExtent_=vp(this.maxExtent),this.maxLineWidth>0&&pp(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_)),this.bufferedMaxExtent_},e}(Gb),Hb=(Pb=function(t,e){return(Pb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Pb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wb=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return Hb(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([Vb.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Vb.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([Vb.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Vb.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterImageWithText_=e},e}(Bb),Xb=(Rb=function(t,e){return(Rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Rb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zb=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Xb(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),a=[Vb.MOVE_TO_LINE_TO,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Vb.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Kv,0],zb);var r=t.getFlatCoordinates(),i=t.getStride();this.drawFlatCoordinates_(r,0,r.length,i),this.hitDetectionInstructions.push(Nb),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Vb.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],zb);for(var r=t.getEnds(),i=t.getFlatCoordinates(),o=t.getStride(),a=0,s=0,u=r.length;s<u;++s)a=this.drawFlatCoordinates_(i,a,r[s],o);this.hitDetectionInstructions.push(Nb),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Nb),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Nb),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(zb)},e}(Bb),Yb=(Ob=function(t,e){return(Ob=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ob(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kb=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Yb(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=void 0!==i.strokeStyle,s=n.length;this.instructions.push(zb),this.hitDetectionInstructions.push(zb);for(var u=0;u<s;++u){var l=n[u],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,l,r,!0,!a),d=[Vb.MOVE_TO_LINE_TO,c,h];this.instructions.push(d),this.hitDetectionInstructions.push(d),a&&(this.instructions.push(qb),this.hitDetectionInstructions.push(qb)),e=l}return o&&(this.instructions.push(Db),this.hitDetectionInstructions.push(Db)),a&&(this.instructions.push(Nb),this.hitDetectionInstructions.push(Nb)),e},e.prototype.drawCircle=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Vb.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Vb.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,i,!1,!1);var a=[Vb.CIRCLE,o];this.instructions.push(zb,a),this.hitDetectionInstructions.push(zb,a),void 0!==n.fillStyle&&(this.instructions.push(Db),this.hitDetectionInstructions.push(Db)),void 0!==n.strokeStyle&&(this.instructions.push(Nb),this.hitDetectionInstructions.push(Nb)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Vb.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Vb.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),i=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(i,0,r,o),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Vb.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Vb.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var r=t.getEndss(),i=t.getOrientedFlatCoordinates(),o=t.getStride(),a=0,s=0,u=r.length;s<u;++s)a=this.drawFlatCoordinatess_(i,a,r[s],o);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,i=n.length;r<i;++r)n[r]=Xy(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Bb);function Jb(t,e,n,r,i){var o,a,s,u,l,c,h,d,f,p=n,v=n,g=0,y=0,m=n;for(o=n;o<r;o+=i){var _=e[o],b=e[o+1];void 0!==u&&(d=_-u,f=b-l,s=Math.sqrt(d*d+f*f),void 0!==c&&(y+=a,Math.acos((c*d+h*f)/(a*s))>t&&(y>g&&(g=y,p=m,v=o),y=0,m=o-i)),a=s,c=d,h=f),u=_,l=b}return(y+=s)>g?[m,o]:[p,v]}var Qb,$b=(Qb=function(t,e){return(Qb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Qb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tw={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},ew={Circle:Kb,Default:Bb,Image:Wb,LineString:Zb,Polygon:Kb,Text:function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return $b(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textState_;if(""!==this.text_&&n&&(this.textFillState_||this.textStrokeState_)){var r=this.coordinates,i=r.length,o=t.getType(),a=null,s=t.getStride();if("line"!==n.placement||"LineString"!=o&&"MultiLineString"!=o&&"Polygon"!=o&&"MultiPolygon"!=o){var u=n.overflow?null:[];switch(o){case"Point":case"MultiPoint":a=t.getFlatCoordinates();break;case"LineString":a=t.getFlatMidpoint();break;case"Circle":a=t.getCenter();break;case"MultiLineString":a=t.getFlatMidpoints(),s=2;break;case"Polygon":a=t.getFlatInteriorPoint(),n.overflow||u.push(a[2]/this.resolution),s=3;break;case"MultiPolygon":var l=t.getFlatInteriorPoints();for(a=[],b=0,w=l.length;b<w;b+=3)n.overflow||u.push(l[b+2]/this.resolution),a.push(l[b],l[b+1]);if(0===a.length)return;s=2}if((O=this.appendFlatPointCoordinates(a,s))===i)return;if(u&&(O-i)/2!=a.length/s){var c=i/2;u=u.filter(function(t,e){var n=r[2*(c+e)]===a[e*s]&&r[2*(c+e)+1]===a[e*s+1];return n||--c,n})}this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var h=n.padding;if(h!=Jv&&(n.scale[0]<0||n.scale[1]<0)){var d=n.padding[0],f=n.padding[1],p=n.padding[2],v=n.padding[3];n.scale[0]<0&&(f=-f,v=-v),n.scale[1]<0&&(d=-d,p=-p),h=[d,f,p,v]}var g=this.pixelRatio;this.instructions.push([Vb.DRAW_IMAGE,i,O,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,h==Jv?Jv:h.map(function(t){return t*g}),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]);var y=1/g;this.hitDetectionInstructions.push([Vb.DRAW_IMAGE,i,O,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,this.declutterImageWithText_,h,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]),this.endGeometry(e)}else{if(!Vp(this.getBufferedMaxExtent(),t.getExtent()))return;var m=void 0;if(a=t.getFlatCoordinates(),"LineString"==o)m=[a.length];else if("MultiLineString"==o)m=t.getEnds();else if("Polygon"==o)m=t.getEnds().slice(0,1);else if("MultiPolygon"==o){var _=t.getEndss();m=[];for(var b=0,w=_.length;b<w;++b)m.push(_[b][0])}this.beginGeometry(t,e);for(var x=n.textAlign,C=0,S=void 0,k=0,E=m.length;k<E;++k){if(null==x){var T=Jb(n.maxAngle,a,C,m[k],s);C=T[0],S=T[1]}else S=m[k];for(b=C;b<S;b+=s)r.push(a[b],a[b+1]);var O;C=m[k],this.drawChars_(i,O=r.length),i=O}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||"center",textBaseline:e.textBaseline||"middle",scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,u=tw[r.textBaseline],l=this.textOffsetY_*s,c=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Vb.DRAW_CHARS,t,e,u,r.overflow,a,r.maxAngle,s,l,i,h*s,c,o,1]),this.hitDetectionInstructions.push([Vb.DRAW_CHARS,t,e,u,r.overflow,a,r.maxAngle,1,l,i,h,c,o,1/s])},e.prototype.setTextStyle=function(t,e){var n,r,i;if(t){var o=t.getFill();o?((r=this.textFillState_)||(this.textFillState_=r={}),r.fillStyle=vb(o.getColor()||"#000")):this.textFillState_=r=null;var a=t.getStroke();if(a){(i=this.textStrokeState_)||(this.textStrokeState_=i={});var s=a.getLineDash(),u=a.getLineDashOffset(),l=a.getWidth(),c=a.getMiterLimit();i.lineCap=a.getLineCap()||"round",i.lineDash=s?s.slice():Kv,i.lineDashOffset=void 0===u?0:u,i.lineJoin=a.getLineJoin()||"round",i.lineWidth=void 0===l?1:l,i.miterLimit=void 0===c?10:c,i.strokeStyle=vb(a.getColor()||"#000")}else this.textStrokeState_=i=null;n=this.textState_;var h=t.getFont()||"10px sans-serif";rg(h);var d=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Jv,n.scale=void 0===d?[1,1]:d;var f=t.getOffsetX(),p=t.getOffsetY(),v=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===p?0:p,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===g?0:g,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:Yf(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Yf(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(Bb)},nw=function(){function t(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(this.buildersByZIndex_[n]=r={});var i=r[e];return void 0===i&&(i=new(0,ew[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i),i},t}();function rw(t,e,n,r,i,o,a,s,u,l,c,h){var d=t[e],f=t[e+1],p=0,v=0,g=0,y=0;function m(){p=d,v=f,d=t[e+=r],f=t[e+1],y+=g,g=Math.sqrt((d-p)*(d-p)+(f-v)*(f-v))}do{m()}while(e<n-r&&y+g<o);for(var _=(o-y)/g,b=Kp(p,d,_),w=Kp(v,f,_),x=e-r,C=y,S=o+s*u(l,i,c);e<n-r&&y+g<S;)m();var k,E=Kp(p,d,_=(S-y)/g),T=Kp(v,f,_);if(h){var O=[b,w,E,T];Py(O,0,4,2,h,O,O),k=O[0]>O[2]}else k=b>E;var R,P=Math.PI,I=[],A=x+r===e;if(g=0,y=C,d=t[e=x],f=t[e+1],A){m();var F=Math.atan2(f-v,d-p);return k&&(F+=F>0?-P:P),I[0]=[G=(E+b)/2,U=(T+w)/2,(S-o)/2,F,i],I}for(var j=0,M=i.length;j<M;){m();var L=Math.atan2(f-v,d-p);if(k&&(L+=L>0?-P:P),void 0!==R){var D=L-R;if(D+=D>P?-2*P:D<-P?2*P:0,Math.abs(D)>a)return null}R=L;for(var N=j,z=0;j<M;++j){var q=s*u(l,i[k?M-j-1:j],c);if(e+r<n&&y+g<o+z+q/2)break;z+=q}if(j!==N){var V=k?i.substring(M-N,M-j):i.substring(N,j),G=Kp(p,d,_=(o+z/2-y)/g),U=Kp(v,f,_);I.push([G,U,z/2,L,V]),o+=z}}return I}function iw(t,e,n,r){for(var i=t[e],o=t[e+1],a=0,s=e+r;s<n;s+=r){var u=t[s],l=t[s+1];a+=Math.sqrt((u-i)*(u-i)+(l-o)*(l-o)),i=u,o=l}return a}var ow=[1/0,1/0,-1/0,-1/0],aw=[],sw=[],uw=[],lw=[];function cw(t){return t[3].declutterBox}var hw=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function dw(t,e){return"start"!==e&&"end"!==e||hw.test(t)||(e="start"===e?"left":"right"),tw[e]}var fw,pw,vw,gw=function(){function t(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var i=t+e+n+r;if(this.labels_[i])return this.labels_[i];var o=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],u=this.pixelRatio,l=[s.scale[0]*u,s.scale[1]*u],c=dw(t,s.textAlign||"center"),h=r&&o.lineWidth?o.lineWidth:0,d=t.split("\n"),f=d.length,p=[],v=function(t,e,n){for(var r=e.length,i=0,o=0;o<r;++o){var a=og(t,e[o]);i=Math.max(i,a),n.push(a)}return i}(s.font,d,p),g=function(t){var e=ng[t];if(null==e){if(rp){var n=Uv(t),r=ig(t,"\u017dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else tg||((tg=document.createElement("div")).innerHTML="M",tg.style.minHeight="0",tg.style.maxHeight="none",tg.style.height="auto",tg.style.padding="0",tg.style.border="none",tg.style.position="absolute",tg.style.display="block",tg.style.left="-99999px"),tg.style.font=t,document.body.appendChild(tg),e=tg.offsetHeight,document.body.removeChild(tg);ng[t]=e}return e}(s.font),y=v+h,m=[],_=(y+2)*l[0],b=(g*f+h)*l[1],w={width:_<0?Math.floor(_):Math.ceil(_),height:b<0?Math.floor(b):Math.ceil(b),contextInstructions:m};1==l[0]&&1==l[1]||m.push("scale",l),m.push("font",s.font),r&&(m.push("strokeStyle",o.strokeStyle),m.push("lineWidth",h),m.push("lineCap",o.lineCap),m.push("lineJoin",o.lineJoin),m.push("miterLimit",o.miterLimit),(rp?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(m.push("setLineDash",[o.lineDash]),m.push("lineDashOffset",o.lineDashOffset))),n&&m.push("fillStyle",a.fillStyle),m.push("textBaseline","middle"),m.push("textAlign","center");var x,C=.5-c,S=c*y+C*h;if(r)for(x=0;x<f;++x)m.push("strokeText",[d[x],S+C*p[x],.5*(h+g)+x*g]);if(n)for(x=0;x<f;++x)m.push("fillText",[d[x],S+C*p[x],.5*(h+g)+x*g]);return this.labels_[i]=w,w},t.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,r,i,o,a,s,u,l,c,h,d,f,p,v){var g,y=n-(a*=h[0]),m=r-(s*=h[1]),_=i+u>t?t-u:i,b=o+l>e?e-l:o,w=f[3]+_*h[0]+f[1],x=f[0]+b*h[1]+f[2],C=y-f[3],S=m-f[0];return(p||0!==c)&&(aw[0]=C,lw[0]=C,aw[1]=S,sw[1]=S,sw[0]=C+w,uw[0]=sw[0],uw[1]=S+x,lw[1]=uw[1]),0!==c?(lp(g=cp([1,0,0,1,0,0],n,r,1,1,c,-n,-r),aw),lp(g,sw),lp(g,uw),lp(g,lw),wp(Math.min(aw[0],sw[0],uw[0],lw[0]),Math.min(aw[1],sw[1],uw[1],lw[1]),Math.max(aw[0],sw[0],uw[0],lw[0]),Math.max(aw[1],sw[1],uw[1],lw[1]),ow)):wp(Math.min(C,C+w),Math.min(S,S+x),Math.max(C,C+w),Math.max(S,S+x),ow),d&&(y=Math.round(y),m=Math.round(m)),{drawImageX:y,drawImageY:m,drawImageW:_,drawImageH:b,originX:u,originY:l,declutterBox:{minX:ow[0],minY:ow[1],maxX:ow[2],maxY:ow[3],value:v},canvasTransform:g,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,r,i,o,a){var s=r.declutterBox,u=t.canvas,l=a?a[2]*r.scale[0]/2:0;return s.minX-l<=u.width/e&&s.maxX+l>=0&&s.minY-l<=u.height/e&&s.maxY+l>=0&&(!(!o&&!a)&&this.replayTextBackground_(t,aw,sw,uw,lw,o,a),function(t,e,n,r,i,o,a,s,u,l,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),function(t,e){for(var n=t.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}(r,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(r,i,o,a,s,0,0,a,s)):t.drawImage(r,i,o,a,s,u,l,a*c[0],s*c[1]),t.restore()}(t,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=lp(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.createLabel(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,u=dw(t,i.textAlign||"center"),l=tw[i.textBaseline||"middle"],c=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:u*(o.width/s-2*i.scale[0])+2*(.5-u)*c,anchorY:l*o.height/s+2*(.5-l)*c}},t.prototype.execute_=function(t,e,n,r,i,o,a,s){var u,l,c;this.pixelCoordinates_&&Uf(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Ry(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(l=this.renderedTransform_)[0]=(c=n)[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5]);for(var h,d,f,p,v,g,y,m,_,b,w,x,C,S,k,E,T=0,O=r.length,R=0,P=0,I=0,A=null,F=null,j=this.coordinateCache_,M=this.viewRotation_,L=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,D={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:M},N=this.instructions!=r||this.overlaps?0:200;T<O;){var z=r[T];switch(z[0]){case Vb.BEGIN_GEOMETRY:E=z[3],(C=z[1]).getGeometry()?void 0===a||Vp(a,E.getExtent())?++T:T=z[2]+1:T=z[2];break;case Vb.BEGIN_PATH:P>N&&(this.fill_(t),P=0),I>N&&(t.stroke(),I=0),P||I||(t.beginPath(),p=NaN,v=NaN),++T;break;case Vb.CIRCLE:var q=u[R=z[1]],V=u[R+1],G=u[R+2]-q,U=u[R+3]-V,B=Math.sqrt(G*G+U*U);t.moveTo(q+B,V),t.arc(q,V,B,0,2*Math.PI,!0),++T;break;case Vb.CLOSE_PATH:t.closePath(),++T;break;case Vb.CUSTOM:R=z[1],h=z[2];var H=z[4],W=6==z.length?z[5]:void 0;D.geometry=z[3],D.feature=C,T in j||(j[T]=[]);var X=j[T];W?W(u,R,h,2,X):(X[0]=u[R],X[1]=u[R+1],X.length=2),H(X,D),++T;break;case Vb.DRAW_IMAGE:R=z[1],h=z[2],d=z[4],f=z[5];var Z=z[6],Y=z[7],K=z[8],J=z[9],Q=z[10],$=z[11],tt=z[12],et=z[13],nt=z[14];if(!(m=z[3])&&z.length>=19){var rt=this.drawLabelWithPointPlacement_(_=z[18],b=z[19],w=z[20],x=z[21]);z[3]=m=rt.label,z[4]=d=(rt.anchorX-z[22])*this.pixelRatio,z[5]=f=(rt.anchorY-z[23])*this.pixelRatio,z[6]=Z=m.height,z[13]=et=m.width}var it=void 0;z.length>24&&(it=z[24]);var ot=void 0,at=void 0,st=void 0;z.length>16?(ot=z[15],at=z[16],st=z[17]):(ot=Jv,at=!1,st=!1),Q&&L?$+=M:Q||L||($-=M);for(var ut=0;R<h;R+=2)if(!(it&&it[ut++]<et/this.pixelRatio)){var lt=[t,e,m,jt=this.calculateImageOrLabelDimensions_(m.width,m.height,u[R],u[R+1],et,Z,d,f,K,J,$,tt,i,ot,at||st,C),Y,at?A:null,st?F:null],ct=void 0,ht=void 0;if(s&&nt){var dt=h-R;if(!nt[dt]){nt[dt]=lt;continue}if(ct=nt[dt],delete nt[dt],ht=cw(ct),s.collides(ht))continue}s&&s.collides(jt.declutterBox)||(ct&&(s&&s.insert(ht),this.replayImageOrLabel_.apply(this,ct)),s&&s.insert(jt.declutterBox),this.replayImageOrLabel_.apply(this,lt))}++T;break;case Vb.DRAW_CHARS:var ft=z[1],pt=z[2],vt=z[3],gt=z[4];x=z[5];var yt=z[6],mt=z[7],_t=z[8];w=z[9];var bt=z[10];_=z[11];var wt=[z[13],z[13]],xt=this.textStates[b=z[12]],Ct=xt.font,St=[xt.scale[0]*mt,xt.scale[1]*mt],kt=void 0;Ct in this.widths_?kt=this.widths_[Ct]:this.widths_[Ct]=kt={};var Et=iw(u,ft,pt,2),Tt=Math.abs(St[0])*ag(Ct,_,kt);if(gt||Tt<=Et){var Ot=rw(u,ft,pt,2,_,(Et-Tt)*tw[this.textStates[b].textAlign],yt,Math.abs(St[0]),ag,Ct,kt,L?0:this.viewRotation_);t:if(Ot){var Rt=[],Pt=void 0,It=void 0,At=void 0,Ft=void 0;if(w)for(Pt=0,It=Ot.length;Pt<It;++Pt){At=this.createLabel((Ft=Ot[Pt])[4],b,"",w);var jt=this.calculateImageOrLabelDimensions_(At.width,At.height,Ft[0],Ft[1],At.width,At.height,d=Ft[2]+(St[0]<0?-bt:bt),f=vt*At.height+2*(.5-vt)*bt*St[1]/St[0]-_t,0,0,Ft[3],wt,!1,Jv,!1,C);if(s&&s.collides(jt.declutterBox))break t;Rt.push([t,e,At,jt,1,null,null])}if(x)for(Pt=0,It=Ot.length;Pt<It;++Pt){if(At=this.createLabel((Ft=Ot[Pt])[4],b,x,""),jt=this.calculateImageOrLabelDimensions_(At.width,At.height,Ft[0],Ft[1],At.width,At.height,d=Ft[2],f=vt*At.height-_t,0,0,Ft[3],wt,!1,Jv,!1,C),s&&s.collides(jt.declutterBox))break t;Rt.push([t,e,At,jt,1,null,null])}s&&s.load(Rt.map(cw));for(var Mt=0,Lt=Rt.length;Mt<Lt;++Mt)this.replayImageOrLabel_.apply(this,Rt[Mt])}}++T;break;case Vb.END_GEOMETRY:if(void 0!==o){var Dt=o(C=z[1],E);if(Dt)return Dt}++T;break;case Vb.FILL:N?P++:this.fill_(t),++T;break;case Vb.MOVE_TO_LINE_TO:for(h=z[2],y=(k=u[(R=z[1])+1])+.5|0,(g=(S=u[R])+.5|0)===p&&y===v||(t.moveTo(S,k),p=g,v=y),R+=2;R<h;R+=2)g=(S=u[R])+.5|0,y=(k=u[R+1])+.5|0,R!=h-2&&g===p&&y===v||(t.lineTo(S,k),p=g,v=y);++T;break;case Vb.SET_FILL_STYLE:A=z,this.alignFill_=z[2],P&&(this.fill_(t),P=0,I&&(t.stroke(),I=0)),t.fillStyle=z[1],++T;break;case Vb.SET_STROKE_STYLE:F=z,I&&(t.stroke(),I=0),this.setStrokeStyle_(t,z),++T;break;case Vb.STROKE:N?I++:t.stroke(),++T;break;default:++T}}P&&this.fill_(t),I&&t.stroke()},t.prototype.execute=function(t,e,n,r,i,o){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,i,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,i)},t}(),yw=["Polygon","Circle","LineString","Image","Text","Default"],mw=function(){function t(t,e,n,r,i,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(i)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var r=t[e];for(var i in r)n[i]=new gw(this.resolution_,this.pixelRatio_,this.overlaps_,r[i])}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o){var a=2*(r=Math.round(r))+1,s=cp(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Bv(a,a));var l,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):u||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(Ep(l=[1/0,1/0,-1/0,-1/0],t),pp(l,e*(this.renderBuffer_+r),l));var h,d=function(t){if(void 0!==_w[t])return _w[t];for(var e=2*t+1,n=t*t,r=new Array(n+1),i=0;i<=t;++i)for(var o=0;o<=t;++o){var a=i*i+o*o;if(a>n)break;var s=r[a];s||(r[a]=s=[]),s.push(4*((t+i)*e+(t+o))+3),i>0&&s.push(4*((t-i)*e+(t+o))+3),o>0&&(s.push(4*((t+i)*e+(t-o))+3),i>0&&s.push(4*((t-i)*e+(t-o))+3))}for(var u=[],l=(i=0,r.length);i<l;++i)r[i]&&u.push.apply(u,r[i]);return _w[t]=u,u}(r);function f(t,e){for(var n=c.getImageData(0,0,a,a).data,s=0,u=d.length;s<u;s++)if(n[d[s]]>0){if(!o||"Image"!==h&&"Text"!==h||-1!==o.indexOf(t)){var l=(d[s]-3)/4,f=r-l%a,p=r-(l/a|0),v=i(t,e,f*f+p*p);if(v)return v}c.clearRect(0,0,a,a);break}}var p,v,g,y,m,_=Object.keys(this.executorsByZIndex_).map(Number);for(_.sort(zf),p=_.length-1;p>=0;--p){var b=_[p].toString();for(g=this.executorsByZIndex_[b],v=yw.length-1;v>=0;--v)if(void 0!==(y=g[h=yw[v]])&&(m=y.executeHitDetection(c,s,n,f,l)))return m}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return Ry(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return cv(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,r,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(zf),this.maxExtent_&&(t.save(),this.clip(t,n));var u,l,c,h,d,f,p=o||yw;for(a&&s.reverse(),u=0,l=s.length;u<l;++u){var v=s[u].toString();for(d=this.executorsByZIndex_[v],c=0,h=p.length;c<h;++c)void 0!==(f=d[p[c]])&&f.execute(t,e,n,r,i,a)}this.maxExtent_&&t.restore()},t}(),_w={},bw=mw,ww=(vw=function(t,e){return(vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}vw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xw=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=r,u.transform_=i,u.viewRotation_=o,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=[1,0,0,1,0,0],u}return ww(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=Ry(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var l=0,c=i.length;l<c;l+=2){var h=i[l]-this.imageAnchorX_,d=i[l+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var f=h+this.imageAnchorX_,p=d+this.imageAnchorY_;cp(a,f,p,1,1,u,-f,-p),o.setTransform.apply(o,a),o.translate(f,p),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,d,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=Ry(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,u=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var l=cp(this.tmpLocalTransform_,s,u,1,1,a,-s,-u);o.setTransform.apply(o,l),o.translate(s,u),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,s,u),this.textFillState_&&o.fillText(this.text_,s,u)}}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=Ry(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var u=2;u<s;u+=2)o.lineTo(a[u],a[u+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if(Vp(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return Ry(r,0,r.length,i,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Vp(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Vp(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Vp(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,o=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,u=o.length;s<u;++s)i=this.moveToLineTo_(r,i,o[s],a,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Vp(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Vp(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=i.length;a<s;++a)r=this.drawRings_(n,r,i[a],o);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Uf(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var r=t.getColor();this.fillState_={fillStyle:vb(r||"#000")}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),u=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit(),h=a||Kv;this.strokeState_={lineCap:void 0!==o?o:"round",lineDash:1===this.pixelRatio_?h:h.map(function(t){return t*n.pixelRatio_}),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==u?u:"round",lineWidth:(void 0!==l?l:1)*this.pixelRatio_,miterLimit:void 0!==c?c:10,strokeStyle:vb(i||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:vb(n||"#000")}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),u=r.getLineJoin(),l=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:a||Kv,lineDashOffset:s||0,lineJoin:void 0!==u?u:"round",lineWidth:void 0!==l?l:1,miterLimit:void 0!==c?c:10,strokeStyle:vb(i||"#000")}}else this.textStrokeState_=null;var h=t.getFont(),d=t.getOffsetX(),f=t.getOffsetY(),p=t.getRotateWithView(),v=t.getRotation(),g=t.getScaleArray(),y=t.getText(),m=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==m?m:"center",textBaseline:void 0!==_?_:"middle"},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0!==v?v:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}else this.text_=""},e}(Gb),Cw=(pw=function(t,e){return(pw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}pw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Sw=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return Cw(e,t),e.prototype.changed=function(){this.dispatchEvent("change")},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Xf()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Xf()},e}(fv),kw=(fw=function(t,e){return(fw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}fw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Ew(t,e,n){var r=t;if(r.src&&ip){var i=r.decode(),o=!0;return i.then(function(){o&&e()}).catch(function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){o=!1}}var a=[vv(r,"load",e),vv(r,"error",n)];return function(){a.forEach(gv)}}!function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,0)||this;return s.src_=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.state=0,s.imageLoadFunction_=a,s}kw(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Lp(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},e.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Ew(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Lp(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(Sw);var Tw,Ow,Rw=(Ow=function(t,e){return(Ow=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ow(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pw=null,Iw=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=r,s.src_=n,s}return Rw(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){Pw||(Pw=Bv(1,1)),Pw.drawImage(this.image_,0,0);try{Pw.getImageData(0,0,1,1),this.tainted_=!1}catch(t){Pw=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},e.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=Bv(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Ew(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=$p(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,o=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,u=this.color_[3],l=0,c=i.length;l<c;l+=4)i[l]*=o,i[l+1]*=a,i[l+2]*=s,i[l+3]*=u;n.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(fv),Aw=(Tw=function(t,e){return(Tw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Tw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fw=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{opacity:void 0!==r.opacity?r.opacity:1,rotation:void 0!==r.rotation?r.rotation:0,scale:void 0!==r.scale?r.scale:1,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:"fraction",n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var i=void 0!==r.img?r.img:null,o=void 0!==r.imgSize?r.imgSize:null,a=r.src;up(!(void 0!==a&&i),4),up(!i||i&&o,5),void 0!==a&&0!==a.length||!i||(a=i.src||Yf(i)),up(void 0!==a&&a.length>0,6);var s=void 0!==r.src?0:2;return n.color_=void 0!==r.color?ev(r.color):null,n.iconImage_=function(t,e,n,r,i,o){var a=ov.get(e,r,o);return a||(a=new Iw(t,e,n,r,i,o),ov.set(e,r,o,a)),a}(i,a,o,n.crossOrigin_,s,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return Aw(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}var n=this.getDisplacement();return t[0]-=n[0],t[1]+=n[1],this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if("top-left"!=this.offsetOrigin_){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener("change",t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener("change",t)},e}(pb),jw={Point:function(t,e,n,r,i){var o,a=n.getImage(),s=n.getText();if(i&&(t=i,o=a&&s&&s.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(a,o),u.drawPoint(e,r)}if(s&&s.getText()){var l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(s,o),l.drawText(e,r)}},LineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,r)}var s=n.getText();if(s&&s.getText()){var u=(i||t).getBuilder(n.getZIndex(),"Text");u.setTextStyle(s),u.drawText(e,r)}},Polygon:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(u),l.drawText(e,r)}},MultiPoint:function(t,e,n,r,i){var o,a=n.getImage(),s=n.getText();if(i&&(t=i,o=a&&s&&s.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(a,o),u.drawMultiPoint(e,r)}if(s&&s.getText()){var l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s,o),l.drawText(e,r)}},MultiLineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,r)}var s=n.getText();if(s&&s.getText()){var u=(i||t).getBuilder(n.getZIndex(),"Text");u.setTextStyle(s),u.drawText(e,r)}},MultiPolygon:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(a||o){var s=t.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(u),l.drawText(e,r)}},GeometryCollection:function(t,e,n,r,i){var o,a,s=e.getGeometriesArray();for(o=0,a=s.length;o<a;++o)(0,jw[s[o].getType()])(t,s[o],n,r,i)},Circle:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(o,a),s.drawCircle(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(u),l.drawText(e,r)}}};function Mw(t,e){return parseInt(Yf(t),10)-parseInt(Yf(e),10)}function Lw(t,e){return.5*t/e}function Dw(t,e,n,r,i,o,a){var s=!1,u=n.getImage();if(u){var l=u.getImageState();2==l||3==l?u.unlistenImageChange(i):(0==l&&u.load(),l=u.getImageState(),u.listenImageChange(i),s=!0)}return function(t,e,n,r,i,o){var a=n.getGeometryFunction()(e);if(a){var s=a.simplifyTransformed(r,i);n.getRenderer()?Nw(t,s,n,e):(0,jw[s.getType()])(t,s,n,e,o)}}(t,e,n,r,o,a),s}function Nw(t,e,n,r){if("GeometryCollection"!=e.getType())t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer());else for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)Nw(t,i[o],n,r)}var zw,qw,Vw,Gw=(Vw=function(t,e){return(Vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Vw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Uw=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return Gw(e,t),e.prototype.useContainer=function(e,n,r){r<1&&(e=null),t.prototype.useContainer.call(this,e,n,r)},e.prototype.renderWorlds=function(t,e,n){var r=e.extent,i=e.viewState,o=i.center,a=i.resolution,s=i.projection,u=i.rotation,l=s.getExtent(),c=this.getLayer().getSource(),h=e.pixelRatio,d=e.viewHints,f=!(d[0]||d[1]),p=this.context,v=Math.round(e.size[0]*h),g=Math.round(e.size[1]*h),y=c.getWrapX()&&s.canWrapX(),m=y?qp(l):null,_=y?Math.ceil((r[2]-l[2])/m)+1:1,b=y?Math.floor((r[0]-l[0])/m):0;do{var w=this.getRenderTransform(o,a,u,h,v,g,b*m);t.execute(p,1,w,u,f,void 0,n)}while(++b<_)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];!function(t,e,n){!function(t,e,n,r,i,o,a){t[0]=e,t[1]=0,t[2]=0,t[3]=i,t[4]=0,t[5]=0}(t,e,0,0,n)}(this.pixelTransform,1/n,1/n),hp(this.inversePixelTransform,this.pixelTransform);var i=dp(this.pixelTransform);this.useContainer(e,i,r.opacity);var o=this.context,a=o.canvas,s=this.replayGroup_,u=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!u||u.isEmpty()))return!this.containerReused&&a.width>0&&(a.width=0),this.container;var l=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);a.width!=l||a.height!=c?(a.width=l,a.height=c,a.style.transform!==i&&(a.style.transform=i)):this.containerReused||o.clearRect(0,0,l,c),this.preRender(o,t);var h=t.viewState,d=!1,f=!0;if(r.extent&&this.clipping){var p=yy(r.extent);(d=(f=Vp(p,t.extent))&&!mp(p,t.extent))&&this.clipUnrotated(o,t,p)}f&&this.renderWorlds(s,t),d&&o.restore(),this.postRender(o,t);var v=r.opacity,g=this.container;return v!==parseFloat(g.style.opacity)&&(g.style.opacity=1===v?"":String(v)),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise((function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];lp(this.pixelTransform,n);var r=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,u=this.getLayer(),l=[],c=.5*n[0],h=.5*n[1];l.push(this.getRenderTransform(r,i,o,.5,c,h,0).slice());var d=u.getSource(),f=a.getExtent();if(d.getWrapX()&&a.canWrapX()&&!mp(f,s)){for(var p=s[0],v=qp(f),g=0;p<f[0];)--g,l.push(this.getRenderTransform(r,i,o,.5,c,h,v*g).slice()),p+=v;for(g=0,p=s[2];p>f[2];)++g,l.push(this.getRenderTransform(r,i,o,.5,c,h,v*g).slice()),p-=v}this.hitDetectionImageData_=function(t,e,n,r,i,o,a){var s=Bv(.5*t[0],.5*t[1]);s.imageSmoothingEnabled=!1;for(var u=s.canvas,l=new xw(s,.5,i,null,a),c=n.length,h=Math.floor(16777215/c),d={},f=1;f<=c;++f){var p=n[f-1],v=p.getStyleFunction()||r;if(r){var g=v(p,o);if(g){Array.isArray(g)||(g=[g]);for(var y="#"+("000000"+(f*h).toString(16)).slice(-6),m=0,_=g.length;m<_;++m){var b=g[m],w=b.getGeometryFunction()(p);if(w&&Vp(i,w.getExtent())){var x=b.clone(),C=x.getFill();C&&C.setColor(y);var S=x.getStroke();S&&(S.setColor(y),S.setLineDash(null)),x.setText(void 0);var k=b.getImage();if(k&&0!==k.getOpacity()){var E=k.getImageSize();if(!E)continue;var T=Bv(E[0],E[1],void 0,{alpha:!1}),O=T.canvas;T.fillStyle=y,T.fillRect(0,0,O.width,O.height),x.setImage(new Fw({img:O,imgSize:E,anchor:k.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:k.getOrigin(),opacity:1,size:k.getSize(),scale:k.getScale(),rotation:k.getRotation(),rotateWithView:k.getRotateWithView()}))}var R=x.getZIndex()||0;(A=d[R])||(d[R]=A={},A.Polygon=[],A.Circle=[],A.LineString=[],A.Point=[]),A[w.getType().replace("Multi","")].push(w,x)}}}}}for(var P=Object.keys(d).map(Number).sort(zf),I=(f=0,P.length);f<I;++f){var A=d[P[f]];for(var F in A){var j=A[F];for(m=0,_=j.length;m<_;m+=2){l.setStyle(j[m+1]);for(var M=0,L=e.length;M<L;++M)l.setTransform(e[M]),l.drawGeometry(j[m])}}}return s.getImageData(0,0,u.width,u.height)}(n,l,this.renderedFeatures_,u.getStyleFunction(),s,i,o)}e(function(t,e,n){var r=[];if(n){var i=Math.floor(.5*Math.round(t[0])),o=Math.floor(.5*Math.round(t[1])),a=4*(Up(i,0,n.width-1)+Up(o,0,n.height-1)*n.width),s=n.data[a+2]+256*(n.data[a+1]+256*n.data[a]),u=Math.floor(16777215/e.length);s&&s%u==0&&r.push(e[s/u-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this;if(this.replayGroup_){var a,s=e.viewState.resolution,u=e.viewState.rotation,l=this.getLayer(),c={},h=function(t,e,n){var o=Yf(t),a=c[o];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return c[o]=!0,i.splice(i.lastIndexOf(a),1),r(t,l,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return c[o]=!0,r(t,l,e);i.push(c[o]={feature:t,layer:l,geometry:e,distanceSq:n,callback:r})}},d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some(function(r){return a=r.forEachFeatureAtCoordinate(t,s,u,n,h,r===o.declutterExecutorGroup?e.declutterTree.all().map(function(t){return t.value}):null)}),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[0],i=t.viewHints[1],o=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!a&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,u=t.viewState,l=u.projection,c=u.resolution,h=t.pixelRatio,d=e.getRevision(),f=e.getRenderBuffer(),p=e.getRenderOrder();void 0===p&&(p=Mw);var v=u.center.slice(),g=pp(s,f*c),y=g.slice(),m=[g.slice()],_=l.getExtent();if(n.getWrapX()&&l.canWrapX()&&!mp(_,t.extent)){var b=qp(_),w=Math.max(qp(g)/2,b);g[0]=_[0]-w,g[2]=_[2]+w,Fv(v,l);var x=function(t,e){var n=e.getExtent(),r=Fp(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=qp(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}(m[0],l);x[0]<_[0]&&x[2]<_[2]?m.push([x[0]+b,x[1],x[2]+b,x[3]]):x[0]>_[0]&&x[2]>_[2]&&m.push([x[0]-b,x[1],x[2]-b,x[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==p&&mp(this.wrappedRenderedExtent_,g))return Uf(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=v,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var C,S,k,E=new nw(Lw(c,h),g,c,h);for(this.getLayer().getDeclutter()&&(C=new nw(Lw(c,h),g,c,h)),S=0,k=m.length;S<k;++S)n.loadFeatures(m[S],c,l);var T=function(t,e){var n=Lw(t,e);return n*n}(c,h),O=(function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,c)),n){var i=this.renderFeature(t,T,n,E,void 0,C);this.dirty_=this.dirty_||i}}).bind(this),R=gy(g),P=n.getFeaturesInExtent(R);for(p&&P.sort(p),S=0,k=P.length;S<k;++S)O(P[S]);this.renderedFeatures_=P;var I=E.finish(),A=new bw(g,c,h,n.getOverlaps(),I,e.getRenderBuffer());return C&&(this.declutterExecutorGroup=new bw(g,c,h,n.getOverlaps(),C.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=p,this.renderedExtent_=y,this.wrappedRenderedExtent_=g,this.renderedCenter_=v,this.renderedProjection_=l,this.replayGroup_=A,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i,o){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,u=n.length;s<u;++s)a=Dw(r,t,n[s],e,this.boundHandleStyleImageChange_,i,o)||a;else a=Dw(r,t,n,e,this.boundHandleStyleImageChange_,i,o);return a},e}(rb),Bw=(qw=function(t,e){return(qw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hw=function(t){function e(e){return t.call(this,e)||this}return Bw(e,t),e.prototype.createRenderer=function(){return new Uw(this)},e}(Mb),Ww=function(){function t(t){this.rbush_=new fb(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Yf(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],a=e[r],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[r]=s,this.items_[Yf(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=Yf(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[Yf(e)];Sp([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return cv(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return wp(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),Xw=(zw=function(t,e){return(zw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}zw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Zw(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var Yw=function(t){function e(e){var n=t.call(this)||this;return n.projection=ay(e.projection),n.attributions_=Zw(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return Xw(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Xf()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Zw(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(kv);function Kw(t,e){return[[-1/0,-1/0,1/0,1/0]]}function Jw(t,e){return function(n,r,i,o,a){var s=this;!function(t,e,n,r,i,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,r,i):t,!0),"arraybuffer"==e.getType()&&(s.responseType="arraybuffer"),s.withCredentials=!1,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),u=void 0;"json"==r||"text"==r?u=s.responseText:"xml"==r?(u=s.responseXML)||(u=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==r&&(u=s.response),u?o(e.readFeatures(u,{extent:n,featureProjection:i}),e.readProjection(u)):a()}else a()},s.onerror=a,s.send()}(t,e,n,r,i,function(t,e){s.addFeatures(t),void 0!==o&&o(t)},a||Wf)}}var Qw,$w,tx,ex=(tx=function(t,e){return(tx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}tx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nx=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.feature=n,i.features=r,i}return ex(e,t),e}(av),rx=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,projection:void 0,state:"ready",wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=Wf,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(up(n.format_,7),n.loader_=Jw(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:Kw;var i,o,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new Ww:null,n.loadedExtentsRtree_=new Ww,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(i=r.features).getArray()),a||void 0!==i||(i=new mg(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==i&&n.bindFeaturesCollection_(i),n}return ex(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Yf(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new nx("addfeature",t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[pv(e,"change",this.handleFeatureChange_,this),pv(e,"propertychange",this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(up(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],i=0,o=t.length;i<o;i++){var a=Yf(u=t[i]);this.addToIndex_(a,u)&&n.push(u)}i=0;for(var s=n.length;i<s;i++){var u;a=Yf(u=n[i]),this.setupChangeEvents_(a,u);var l=u.getGeometry();if(l){var c=l.getExtent();e.push(c),r.push(u)}else this.nullGeometryFeatures_[a]=u}this.featuresRtree_&&this.featuresRtree_.load(e,r),i=0;for(var h=n.length;i<h;i++)this.dispatchEvent(new nx("addfeature",n[i]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener("addfeature",function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener("removefeature",function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener("add",(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}).bind(this)),t.addEventListener("remove",(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}).bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(gv);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new nx("clear");this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){return this.forEachFeatureInExtent([t[0],t[1],t[0],t[1]],function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),cv(this.nullGeometryFeatures_)||Gf(t,lv(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||Bf;return this.featuresRtree_.forEachInExtent(s,function(t){if(u(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(n,r,o,a))<l){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}}),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Yf(e),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new nx("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Yf(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&cv(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){for(var r=this.loadedExtentsRtree_,i=this.strategy_(t,e),o=function(t,o){var s=i[t];r.forEachInExtent(s,function(t){return mp(t.extent,s)})||(++a.loadingExtentsCount_,a.dispatchEvent(new nx("featuresloadstart")),a.loader_.call(a,s,e,n,(function(t){--this.loadingExtentsCount_,this.dispatchEvent(new nx("featuresloadend",void 0,t))}).bind(a),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new nx("featuresloaderror"))}).bind(a)),r.insert(s,{extent:s.slice()}))},a=this,s=0,u=i.length;s<u;++s)o(s);this.loading=this.loader_!==Wf&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Sp(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Yf(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Yf(t);this.featureChangeKeys_[e].forEach(gv),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new nx("removefeature",t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){up(this.format_,7),this.url_=t,this.setLoader(Jw(t,this.format_))},e}(Yw),ix=($w=function(t,e){return($w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}$w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ox=function(t){function e(e){var n=t.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return ix(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(gv(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=pv(t,"change",this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(up("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(kv),ax=(Qw=function(t,e){return(Qw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Qw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function sx(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}var ux=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return ax(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(gv),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(pv(this.geometries_[t],"change",this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<gp(this.getExtent(),t,e))return r;for(var i=this.geometries_,o=0,a=i.length;o<a;++o)r=i[o].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){xp(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)kp(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return sx(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,i=!1,o=0,a=r.length;o<a;++o){var s=r[o],u=s.getSimplifiedGeometry(t);n.push(u),u!==s&&(i=!0)}if(i){var l=new e(null);return l.setGeometriesArray(n),l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=Fp(this.getExtent()));for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(sx(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(My),lx=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?ay(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===zg.TILE_PIXELS&&(r=ay(r)).setWorldExtent(e.extent),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return sv({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Xf()},t.prototype.readFeature=function(t,e){return Xf()},t.prototype.readFeatures=function(t,e){return Xf()},t.prototype.readGeometry=function(t,e){return Xf()},t.prototype.readProjection=function(t){return Xf()},t.prototype.writeFeature=function(t,e){return Xf()},t.prototype.writeFeatures=function(t,e){return Xf()},t.prototype.writeGeometry=function(t,e){return Xf()},t}();function cx(t,e,n){var r,i=n?ay(n.featureProjection):null,o=n?ay(n.dataProjection):null;if(r=i&&o&&!cy(i,o)?(e?t.clone():t).transform(e?i:o,e?o:i):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t})}return r}var hx,dx=(hx=function(t,e){return(hx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}hx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function fx(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}var px=function(t){function e(){return t.call(this)||this}return dx(e,t),e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(fx(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(fx(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Xf()},e.prototype.readFeaturesFromObject=function(t,e){return Xf()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(fx(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Xf()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(fx(t))},e.prototype.readProjectionFromObject=function(t){return Xf()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Xf()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Xf()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Xf()},e}(lx);function vx(t,e,n,r,i,o,a){var s,u,l=(n-e)/r;if(1===l)s=e;else if(2===l)s=e,u=i;else if(0!==l){for(var c=t[e],h=t[e+1],d=0,f=[0],p=e+r;p<n;p+=r){var v=t[p],g=t[p+1];d+=Math.sqrt((v-c)*(v-c)+(g-h)*(g-h)),f.push(d),c=v,h=g}var y=i*d,m=function(t,e,n){for(var r,i,o=zf,a=0,s=t.length,u=!1;a<s;)(i=+o(t[r=a+(s-a>>1)],e))<0?a=r+1:(s=r,u=!i);return u?a:~a}(f,y);m<0?(u=(y-f[-m-2])/(f[-m-1]-f[-m-2]),s=e+(-m-2)*r):s=e+m*r}var _=a>1?a:2,b=o||new Array(_);for(p=0;p<_;++p)b[p]=void 0===s?NaN:void 0===u?t[s+p]:Kp(t[s+p],t[s+r+p],u);return b}function gx(t,e,n,r,i,o){if(n==e)return null;var a;if(i<t[e+r-1])return o?((a=t.slice(e,e+r))[r-1]=i,a):null;if(t[n-1]<i)return o?((a=t.slice(n-r,n))[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,u=n/r;s<u;){var l=s+u>>1;i<t[(l+1)*r-1]?u=l:s=l+1}var c=t[s*r-1];if(i==c)return t.slice((s-1)*r,(s-1)*r+r);var h=(i-c)/(t[(s+1)*r-1]-c);a=[];for(var d=0;d<r-1;++d)a.push(Kp(t[(s-1)*r+d],t[s*r+d],h));return a.push(i),a}var yx,mx,_x,bx,wx,xx=(wx=function(t,e){return(wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}wx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cx=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return xx(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Gf(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<gp(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Gy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:gx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,void 0!==e&&e)},e.prototype.getCoordinates=function(){return Ky(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return vx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return iw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Wy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return dm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=By(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Ny),Sx=(bx=function(t,e){return(bx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}bx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kx=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(e[0]))i.setCoordinates(e,n);else if(void 0!==n&&r)i.setFlatCoordinates(n,e),i.ends_=r;else{for(var o=i.getLayout(),a=e,s=[],u=[],l=0,c=a.length;l<c;++l){var h=a[l];0===l&&(o=h.getLayout()),Gf(s,h.getFlatCoordinates()),u.push(s.length)}i.setFlatCoordinates(o,s),i.ends_=u}return i}return Sx(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Gf(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<gp(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vy(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Uy(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function(t,e,n,r,i,o,a){if(a)return gx(t,e,n[n.length-1],r,i,o);var s;if(i<t[r-1])return o?((s=t.slice(0,r))[r-1]=i,s):null;if(t[t.length-1]<i)return o?((s=t.slice(t.length-r))[r-1]=i,s):null;for(var u=0,l=n.length;u<l;++u){var c=n[u];if(e!=c){if(i<t[e+r-1])return null;if(i<=t[c-1])return gx(t,e,c,r,i,!1);e=c}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,void 0!==e&&e,void 0!==n&&n)},e.prototype.getCoordinates=function(){return Jy(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Cx(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],i=0,o=0,a=e.length;o<a;++o){var s=e[o],u=new Cx(t.slice(i,s),n);r.push(u),i=s}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,i=this.stride,o=0,a=r.length;o<a;++o){var s=r[o];Gf(t,vx(e,n,s,i,.5)),n=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=Wy(t,e,c,r,i,o,a),s.push(a),e=c}return a}(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,"XY",r)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){if(dm(t,e,n[o],r,i))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Hy(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Ny),Ex=(_x=function(t,e){return(_x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tx=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return Ex(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Gf(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<gp(this.getExtent(),t,e))return r;for(var i=this.flatCoordinates,o=this.stride,a=0,s=i.length;a<s;a+=o){var u=Xp(t,e,i[a],i[a+1]);if(u<r){r=u;for(var l=0;l<o;++l)n[l]=i[a+l];n.length=o}}return r},e.prototype.getCoordinates=function(){return Ky(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){return t<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=t?null:new am(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var a=new am(t.slice(i,i+n),e);r.push(a)}return r},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,i=e.length;r<i;r+=n)if(_p(t,e[r],e[r+1]))return!0;return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=By(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Ny),Ox=(mx=function(t,e){return(mx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}mx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rx=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=i.getLayout(),a=e,s=[],u=[],l=0,c=a.length;l<c;++l){var h=a[l];0===l&&(o=h.getLayout());for(var d=s.length,f=h.getEnds(),p=0,v=f.length;p<v;++p)f[p]+=d;Gf(s,h.getFlatCoordinates()),u.push(f)}n=o,e=s,r=u}return void 0!==n&&r?(i.setFlatCoordinates(n,e),i.endss_=r):i.setCoordinates(e,n),i}return Ox(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Gf(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,i=(e=t.getEnds().slice()).length;r<i;++r)e[r]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();var i=new e(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,e,n,r){return r<gp(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=Vy(t,e,s,r,i),e=s[s.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,r,i,o,a,s,u,l,c){for(var h=[NaN,NaN],d=0,f=n.length;d<f;++d){var p=n[d];l=Uy(t,e,p,r,i,!0,a,s,u,l,h),e=p[p.length-1]}return l}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,r))},e.prototype.containsXY=function(t,e){return function(t,e,n,r,i,o){if(0===n.length)return!1;for(var a=0,s=n.length;a<s;++a){var u=n[a];if(lm(t,e,u,r,i,o))return!0;e=u[u.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=tm(t,e,s,r),e=s[s.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?mm(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,Qy(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,r){for(var i=[],o=[1/0,1/0,-1/0,-1/0],a=0,s=n.length;a<s;++a){var u=n[a];o=Cp(t,e,u[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=u[u.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,r,i){for(var o=[],a=0,s=n.length;a<s;++a){var u=n[a];o=cm(t,e,u,r,i,2*a,o),e=u[u.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new Tx(this.getFlatInteriorPoints().slice(),"XYM")},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(!gm(t,e,s,r,void 0))return!1;s.length&&(e=s[s.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=mm(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u],h=[];a=Yy(t,e,c,r,i,o,a,h),s.push(h),e=c[c.length-1]}return a}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,"XY",r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(var o=0,a=r.length;o<a;++o)r[o]-=e;return new xm(this.flatCoordinates.slice(e,i),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),u=s[s.length-1];if(0!==i)for(var l=0,c=s.length;l<c;++l)s[l]-=i;var h=new xm(e.slice(i,u),t,s);r.push(h),i=u}return r},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(fm(t,e,s,r,i))return!0;e=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,r,i){for(var o=i||[],a=0,s=0,u=n.length;s<u;++s){var l=Hy(t,e,n[s],r,o[a]);o[a++]=l,e=l[l.length-1]}return o.length=a,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(Ny),Px=(yx=function(t,e){return(yx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}yx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Ix(t,e){if(!t)return null;var n;switch(t.type){case"Point":n=function(t){return new am(t.coordinates)}(t);break;case"LineString":n=function(t){return new Cx(t.coordinates)}(t);break;case"Polygon":n=function(t){return new xm(t.coordinates)}(t);break;case"MultiPoint":n=function(t){return new Tx(t.coordinates)}(t);break;case"MultiLineString":n=function(t){return new kx(t.coordinates)}(t);break;case"MultiPolygon":n=function(t){return new Rx(t.coordinates)}(t);break;case"GeometryCollection":n=function(t,e){var n=t.geometries.map(function(t){return Ix(t,void 0)});return new ux(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return cx(n,!1,e)}function Ax(t,e){var n,r=(t=cx(t,!0,e)).getType();switch(r){case"Point":n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=sv({},e);return delete n.featureProjection,Ax(t,n)})}}(t,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}var Fx,jx,Mx,Lx=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).dataProjection=ay(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=ay(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n}return Px(e,t),e.prototype.readFeatureFromObject=function(t,e){var n,r=Ix((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),i=new ox;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&i.setGeometryName(n.geometry_name),i.setGeometry(r),"id"in n&&i.setId(n.id),n.properties&&i.setProperties(n.properties,!0),i},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var r=t.features,i=0,o=r.length;i<o;++i)n.push(this.readFeatureFromObject(r[i],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return Ix(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=ay(n.properties.name):"EPSG"===n.type?e=ay("EPSG:"+n.properties.code):up(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();if(void 0!==r&&(n.id=r),!t.hasProperties())return n;var i=t.getProperties(),o=t.getGeometry();return o&&(n.geometry=Ax(o,e),delete i[t.getGeometryName()]),cv(i)||(n.properties=i),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return Ax(t,this.adaptOptions(e))},e}(px),Dx=(Mx=function(t,e){return(Mx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Mx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nx=function(t){function e(e,n,r){var i=t.call(this)||this,o=r||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return Dx(e,t),e.prototype.changed=function(){this.dispatchEvent("change")},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Xf()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else this.transitionStarts_[t]=n=e;var r=e-n+1e3/60;return r>=this.transition_?1:ky(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(fv),zx=(jx=function(t,e){return(jx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}jx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qx=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=i,s.src_=r,s.key=r,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return zx(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=2,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=3,this.unlistenImage_(),this.image_=((t=Bv(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?2:4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Ew(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Nx),Vx=function(){function t(t,e,n,r,i,o){this.sourceProj_=t,this.targetProj_=e;var a={},s=dy(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&qp(r)==qp(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?qp(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?qp(this.targetProj_.getExtent()):null;var u=Np(n),l=zp(n),c=Ap(n),h=Ip(n),d=this.transformInv_(u),f=this.transformInv_(l),p=this.transformInv_(c),v=this.transformInv_(h),g=10+(o?Math.max(0,Math.ceil(Hp(Pp(n)/(o*o*256*256)))):0);if(this.addQuad_(u,l,c,h,d,f,p,v,g),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}).bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,i,o,a,s,u){var l=fp([i,o,a,s]),c=this.sourceWorldWidth_?qp(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&c>.5&&c<1,f=!1;if(u>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(f=qp(fp([t,e,n,r]))/this.targetWorldWidth_>.25||f),!d&&this.sourceProj_.isGlobal()&&c&&(f=c>.25||f)),!(!f&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3]))||Vp(l,this.maxSourceExtent_)){var p=0;if(!(f||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(u>0)f=!0;else if(1!=(p=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=p&&4!=p&&8!=p)return;if(u>0){if(!f){var v,g=this.transformInv_([(t[0]+n[0])/2,(t[1]+n[1])/2]);v=d?(Yp(i[0],h)+Yp(a[0],h))/2-Yp(g[0],h):(i[0]+a[0])/2-g[0];var y=(i[1]+a[1])/2-g[1];f=v*v+y*y>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var m=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(m),b=[(r[0]+t[0])/2,(r[1]+t[1])/2],w=this.transformInv_(b);this.addQuad_(t,e,m,b,i,o,_,w,u-1),this.addQuad_(b,m,n,r,w,_,a,s,u-1)}else{var x=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(x),S=[(n[0]+r[0])/2,(n[1]+r[1])/2],k=this.transformInv_(S);this.addQuad_(t,x,S,r,i,C,k,s,u-1),this.addQuad_(x,e,n,S,C,o,a,k,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(t,n,r,i,a,s),0==(14&p)&&this.addTriangle_(t,n,e,i,a,o),p&&(0==(13&p)&&this.addTriangle_(e,r,t,o,s,i),0==(7&p)&&this.addTriangle_(e,r,n,o,s,a))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,r){var i=e.source;Ep(t,i[0]),Ep(t,i[1]),Ep(t,i[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),Gx={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function Ux(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function Bx(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Hx(t,e,n,r){var i=fy(n,e,t),o=sy(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var u=t.getExtent();if(!u||yp(u,i)){var l=sy(t,o,i)/o;isFinite(l)&&l>0&&(o/=l)}return o}var Wx,Xx=(Wx=function(t,e){return(Wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Wx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zx=function(t){function e(e,n,r,i,o,a,s,u,l,c,h,d){var f=t.call(this,o,0)||this;f.renderEdges_=void 0!==h&&h,f.contextOptions_=d,f.pixelRatio_=s,f.gutter_=u,f.canvas_=null,f.sourceTileGrid_=n,f.targetTileGrid_=i,f.wrappedTileCoord_=a||o,f.sourceTiles_=[],f.sourcesListenerKeys_=null,f.sourceZ_=0;var p=i.getTileCoordExtent(f.wrappedTileCoord_),v=f.targetTileGrid_.getExtent(),g=f.sourceTileGrid_.getExtent(),y=v?Dp(p,v):p;if(0===Pp(y))return f.state=4,f;var m=e.getExtent();m&&(g=g?Dp(g,m):m);var _=i.getResolution(f.wrappedTileCoord_[0]),b=function(t,e,n,r){var i=Fp(n),o=Hx(t,e,i,r);return(!isFinite(o)||o<=0)&&Rp(n,function(n){return o=Hx(t,e,n,r),isFinite(o)&&o>0}),o}(e,r,y,_);if(!isFinite(b)||b<=0)return f.state=4,f;if(f.triangulation_=new Vx(e,r,y,g,b*(void 0!==c?c:.5),_),0===f.triangulation_.getTriangles().length)return f.state=4,f;f.sourceZ_=n.getZForResolution(b);var w=f.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(w[1]=Up(w[1],g[1],g[3]),w[3]=Up(w[3],g[1],g[3])):w=Dp(w,g)),Pp(w)){for(var x=n.getTileRangeForExtentAndZ(w,f.sourceZ_),C=x.minX;C<=x.maxX;C++)for(var S=x.minY;S<=x.maxY;S++){var k=l(f.sourceZ_,C,S,s);k&&f.sourceTiles_.push(k)}0===f.sourceTiles_.length&&(f.state=4)}else f.state=4;return f}return Xx(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(e,n,r){e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=3;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,r,i,o,a,s,u,l,c,h){var d=Bv(Math.round(n*t),Math.round(n*e));if(sv(d,h),0===u.length)return d.canvas;function f(t){return Math.round(t*n)/n}d.scale(n,n),d.globalCompositeOperation="lighter";var p=[1/0,1/0,-1/0,-1/0];u.forEach(function(t,e,n){kp(p,t.extent)});var v=qp(p),g=Lp(p),y=Bv(Math.round(n*v/r),Math.round(n*g/r));sv(y,h);var m=n/r;u.forEach(function(t,e,n){var r=t.extent[0]-p[0],i=-(t.extent[3]-p[3]),o=qp(t.extent),a=Lp(t.extent);t.image.width>0&&t.image.height>0&&y.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,r*m,i*m,o*m,a*m)});var _=Np(a);return s.getTriangles().forEach(function(t,e,i){var a=t.source,s=t.target,u=a[0][0],l=a[0][1],c=a[1][0],v=a[1][1],g=a[2][0],m=a[2][1],b=f((s[0][0]-_[0])/o),w=f(-(s[0][1]-_[1])/o),x=f((s[1][0]-_[0])/o),C=f(-(s[1][1]-_[1])/o),S=f((s[2][0]-_[0])/o),k=f(-(s[2][1]-_[1])/o),E=u,T=l;u=0,l=0;var O=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var h=new Array(e),d=e-1;d>=0;d--){h[d]=t[d][e]/t[d][d];for(var f=d-1;f>=0;f--)t[f][e]-=t[f][d]*h[d]}return h}([[c-=E,v-=T,0,0,x-b],[g-=E,m-=T,0,0,S-b],[0,0,c,v,C-w],[0,0,g,m,k-w]]);if(O){if(d.save(),d.beginPath(),function(){if(void 0===Fx){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Ux(t,4,5,4,0),Ux(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;Fx=Bx(e,0)||Bx(e,4)||Bx(e,8)}return Fx}()||h===Gx){d.moveTo(x,C);for(var R=b-x,P=w-C,I=0;I<4;I++)d.lineTo(x+f((I+1)*R/4),C+f(I*P/3)),3!=I&&d.lineTo(x+f((I+1)*R/4),C+f((I+1)*P/3));d.lineTo(S,k)}else d.moveTo(x,C),d.lineTo(b,w),d.lineTo(S,k);d.clip(),d.transform(O[0],O[2],O[1],O[3],b,w),d.translate(p[0]-E,p[3]-T),d.scale(r/n,-r/n),d.drawImage(y.canvas,0,0),d.restore()}}),c&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var r=t.target,i=(r[0][0]-_[0])/o,a=-(r[0][1]-_[1])/o,s=(r[1][0]-_[0])/o,u=-(r[1][1]-_[1])/o,l=(r[2][0]-_[0])/o,c=-(r[2][1]-_[1])/o;d.beginPath(),d.moveTo(s,u),d.lineTo(i,a),d.lineTo(l,c),d.closePath(),d.stroke()}),d.restore()),d.canvas}(r,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(e,n,r){var i=e.getState();if(0==i||1==i){t++;var o=pv(e,"change",function(n){var r=e.getState();2!=r&&3!=r&&4!=r||(gv(o),0==--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}).bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,e,n){0==t.getState()&&t.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(gv),this.sourcesListenerKeys_=null},e}(Nx),Yx=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return up(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return up(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){up(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function Kx(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function Jx(t,e,n){return t+"/"+e+"/"+n}function Qx(t){return Jx(t[0],t[1],t[2])}var $x,tC=($x=function(t,e){return($x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}$x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),eC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tC(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=(e=this.peekFirstKey(),e.split("/").map(Number))[0];this.forEach((function(e){e.tileCoord[0]!==t&&(this.remove(Qx(e.tileCoord)),e.release())}).bind(this))}var e},e}(Yx),nC=[0,0,0],rC=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,up(function(t,e,n){var r=function(t,e){return e-t}||zf;return t.every(function(e,n){if(0===n)return!0;var i=r(t[n-1],e);return!(i>0||0===i)})}(this.resolutions_),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,up(this.origins_.length==this.resolutions_.length,20));var i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=Np(i)),up(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,up(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,up(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){var n=new ub(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(i){var r=this.getTileRangeForExtentAndZ(i,e);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n},this):i&&this.calculateTileRanges_(i)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var i,o,a=null,s=t[0]-1;for(2===this.zoomFactor_?(i=t[1],o=t[2]):a=this.getTileCoordExtent(t,r);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?ob(i=Math.floor(i/2),i,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return ob(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var r=t[0],i=t[1],o=t[2];if(e===r)return ob(i,o,i,o,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-r),s=Math.floor(i*a),u=Math.floor(o*a);return e<r?ob(s,s,u,u,n):ob(s,Math.floor(a*(i+1))-1,u,Math.floor(a*(o+1))-1,n)}var l=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=Im(this.getTileSize(t),this.tmpSize_);return wp(r[0]+e.minX*o[0]*i,r[1]+e.minY*o[1]*i,r[0]+(e.maxX+1)*o[0]*i,r[1]+(e.maxY+1)*o[1]*i,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=nC;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),ob(i,r[1],o,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Im(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=Im(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,a=n[1]-(t[2]+1)*i[1]*r;return wp(o,a,o+i[0]*r,a+i[1]*r,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),u=Im(this.getTileSize(o),this.tmpSize_),l=r?.5:0,c=Math.floor((t-s[0])/n+(r?.5:0)),h=Math.floor((s[1]-e)/n+l),d=a*c/u[0],f=a*h/u[1];return r?(d=Math.ceil(d)-1,f=Math.ceil(f)-1):(d=Math.floor(d),f=Math.floor(f)),Kx(o,d,f,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=Im(this.getTileSize(n),this.tmpSize_),u=r?.5:0,l=Math.floor((t-o[0])/a+(r?.5:0)),c=Math.floor((o[1]-e)/a+u),h=l/s[0],d=c/s[1];return r?(h=Math.ceil(h)-1,d=Math.ceil(d)-1):(h=Math.floor(h),d=Math.floor(d)),Kx(n,h,d,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){return Up(qf(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();function iC(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return o=oC(i=aC(t),void 0,void 0),new rC({extent:i,origin:jp(i,"top-left"),resolutions:o,tileSize:void 0});var i,o}(t),t.setDefaultTileGrid(e)),e}function oC(t,e,n,r){for(var i=void 0!==e?e:42,o=Lp(t),a=qp(t),s=Im(void 0!==n?n:256),u=r>0?r:Math.max(a/s[0],o/s[1]),l=i+1,c=new Array(l),h=0;h<l;++h)c[h]=u/Math.pow(2,h);return c}function aC(t){var e=(t=ay(t)).getExtent();if(!e){var n=180*Fg[zg.DEGREES]/t.getMetersPerUnit();e=wp(-n,-n,n,n)}return e}var sC,uC=(sC=function(t,e){return(sC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}sC(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lC=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=e.tileGrid;return r&&Im(r.getTileSize(r.getMinZoom()),[256,256]),n.tileCache=new eC(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return uC(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var o,a,s,u=!0,l=n.minX;l<=n.maxX;++l)for(var c=n.minY;c<=n.maxY;++c)a=Jx(e,l,c),s=!1,i.containsKey(a)&&(s=2===(o=i.get(a)).getState())&&(s=!1!==r(o)),s||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,r,i){return Xf()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:iC(t)},e.prototype.getTileCacheForProjection=function(t){return up(cy(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r,i,o,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),u=Im(a.getTileSize(t),this.tmpSize);return 1==s?u:(void 0===(o=this.tmpSize)&&(o=[0,0]),o[0]=(r=u)[0]*(i=s)+.5|0,o[1]=r[1]*i+.5|0,o)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=aC(n);if(yp(o,i))return e;var a=qp(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,t.getTileCoordForCoordAndZ(i,r)}(r,t,n)),function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,r){},e}(Yw),cC=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return uC(e,t),e}(av);function hC(t,e){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,u){return a?t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var t=e.getFullTileRange(a[0]);return up(t,55),(t.getHeight()-a[2]-1).toString()}):void 0}}var dC,fC,pC=(fC=function(t,e){return(fC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}fC(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vC=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return pC(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=Yf(n),i=n.getState();1==i?(this.tileLoadingKeys_[r]=!0,e="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=3==i?"tileloaderror":2==i?"tileloadend":void 0),null!=e&&this.dispatchEvent(new cC(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=hC(t[i],e);return function(t){return 1===t.length?t[0]:function(e,n,r){if(e){var i=Yp(function(t){return(t[1]<<t[0])+t[2]}(e),t.length);return t[i](e,n,r)}}}(r)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var r=Jx(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(lC),gC=(dC=function(t,e){return(dC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}dC(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function yC(t,e){t.getImage().src=e}var mC,_C,bC,wC=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:yC,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:qx,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?Gx:void 0,n.renderReprojectionEdges_=!1,n}return gC(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==n?e:{})}},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!cy(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!cy(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!cy(e,t)){var n=Yf(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=iC(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||cy(e,t))return this.tileCache;var n=Yf(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new eC(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,r,i,o){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,i),u=s?this.tileUrlFunction(s,r,i):void 0,l=new this.tileClass(a,void 0!==u?0:4,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return l.key=o,l.addEventListener("change",this.handleTileChange.bind(this)),l},e.prototype.getTile=function(t,e,n,r,i){var o=this.getProjection();if(o&&i&&!cy(o,i)){var a=this.getTileCacheForProjection(i),s=[t,e,n],u=void 0,l=Qx(s);a.containsKey(l)&&(u=a.get(l));var c=this.getKey();if(u&&u.key==c)return u;var h=this.getTileGridForProjection(o),d=this.getTileGridForProjection(i),f=this.getTileCoordForTileUrlFunction(s,i),p=new Zx(o,h,i,d,s,f,this.getTilePixelRatio(r),this.getGutter(),(function(t,e,n,r){return this.getTileInternal(t,e,n,r,o)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return p.key=c,u?(p.interimTile=u,p.refreshInterimChain(),a.replace(l,p)):a.set(l,p),p}return this.getTileInternal(t,e,n,r,o||i)},e.prototype.getTileInternal=function(t,e,n,r,i){var o=null,a=Jx(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var u=o;(o=this.createTile_(t,e,n,r,i,s)).interimTile=0==u.getState()?u.interimTile:u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,r,i,s),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=ay(t);if(n){var r=Yf(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(vC),xC=(bC=function(t,e){return(bC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}bC(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),CC=function(t){function e(e){var n=e||{},r=void 0!==n.projection?n.projection:"EPSG:3857",i=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||ay("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:oC(n,e.maxZoom,e.tileSize,e.maxResolution)};return new rC(r)}({extent:aC(r),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,opaque:n.opaque,projection:r,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return xC(e,t),e}(wC),SC=(_C=function(t,e){return(_C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kC=function(t){function e(e){var n=e||{};return t.call(this,{attributions:void 0!==n.attributions?n.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:void 0!==n.crossOrigin?n.crossOrigin:"anonymous",imageSmoothing:n.imageSmoothing,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,opaque:void 0===n.opaque||n.opaque,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:n.wrapX,zDirection:n.zDirection})||this}return SC(e,t),e}(CC),EC=(mC=function(t,e){return(mC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}mC(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),TC=function(t){function e(e){var n=t.call(this)||this;n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",n.element.style.position="absolute",n.element.style.pointerEvents="auto";var r=e.autoPan;return r&&"object"!=typeof r&&(r={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=r||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener("element",n.handleElementChanged),n.addChangeListener("map",n.handleMapChanged),n.addChangeListener("offset",n.handleOffsetChanged),n.addChangeListener("position",n.handlePositionChanged),n.addChangeListener("positioning",n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:"top-left"),void 0!==e.position&&n.setPosition(e.position),n}return EC(e,t),e.prototype.getElement=function(){return this.get("element")},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get("map")},e.prototype.getOffset=function(){return this.get("offset")},e.prototype.getPosition=function(){return this.get("position")},e.prototype.getPositioning=function(){return this.get("positioning")},e.prototype.handleElementChanged=function(){Yv(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Zv(this.element),gv(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=pv(t,"postrender",this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set("element",t)},e.prototype.setMap=function(t){this.set("map",t)},e.prototype.setOffset=function(t){this.set("offset",t)},e.prototype.setPosition=function(t){this.set("position",t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get("position")){var n=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),i=this.getRect(r,[Hv(r),Wv(r)]),o=t||{},a=void 0===o.margin?20:o.margin;if(!mp(n,i)){var s=i[0]-n[0],u=n[2]-i[2],l=i[1]-n[1],c=n[3]-i[3],h=[0,0];if(s<0?h[0]=s-a:u<0&&(h[0]=Math.abs(u)+a),l<0?h[1]=l-a:c<0&&(h[1]=Math.abs(c)+a),0!==h[0]||0!==h[1]){var d=e.getView().getCenterInternal(),f=e.getPixelFromCoordinateInternal(d);if(!f)return;var p=[f[0]+h[0],f[1]+h[1]],v=o.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(p),duration:v.duration,easing:v.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set("positioning",t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o="0%",a="0%";"bottom-right"==i||"center-right"==i||"top-right"==i?o="-100%":"bottom-center"!=i&&"center-center"!=i&&"top-center"!=i||(o="-50%"),"bottom-left"==i||"bottom-center"==i||"bottom-right"==i?a="-100%":"center-left"!=i&&"center-center"!=i&&"center-right"!=i||(a="-50%");var s="translate("+o+", "+a+") translate("+Math.round(t[0]+r[0])+"px, "+Math.round(t[1]+r[1])+"px)";this.rendered.transform_!=s&&(this.rendered.transform_=s,n.transform=s,n.msTransform=s)},e.prototype.getOptions=function(){return this.options},e}(kv),OC=JSON.parse('{"v":[{"number":"1","category":"Tr\xe1nsito","label":"\xedndice motorizaci\xf3n","name_ind":"ind_moto","description":"El \xedndice de motorizaci\xf3n es la relaci\xf3n entre la cantidad de veh\xedculos de motor registrados en una determinada unidad espacial de referencia y en un per\xedodo de tiempo (1 a\xf1o), por cada 1000 habitantes.","unit":"veh/1000 hab","color":"#c0c0c0","icon":"default.png","colorname":"Plateado","maxv":"150","info":"Es la relaci\xf3n entre la cantidad de veh\xedculos de motor registrados en una determinada unidad espacial de referencia y en un per\xedodo de tiempo (1 a\xf1o), por cada 1000 habitantes. El \xedndice de motorizaci\xf3n es uno de los indicadores de mayor relevancia para la movilidad, a su vez este dato puede compararse con a\xf1os anteriores para determinar el incremento o disminuci\xf3n del parque automotor y en funci\xf3n de ello realizar proyecciones.","formula":"image002","data":"IM = \xcdndice de motorizaci\xf3n\\r\\nVm = N\xfamero de veh\xedculos automotores registrados a excepci\xf3n de los que utilizan energ\xedas alternativas (h\xedbridos y el\xe9ctricos), en un per\xedodo de tiempo y una unidad espacial de referencia\\r\\nPt = N\xfamero de habitantes que viven dentro de la unidad espacial de referencia en un per\xedodo de tiempo\\r\\n","type":"geometry","cat":"false"},{"number":"2","category":"Tr\xe1nsito","label":"Automotores privados en circulaci\xf3n","name_ind":"autos_priv","description":"Relaci\xf3n de los veh\xedculos motorizados particulares que circulan por un punto determinado de la v\xeda (estaci\xf3n), con el total de veh\xedculos registrados en una unidad de tiempo (12 horas).","unit":"veh\xedculos","color":"#F4D03F","icon":"default.png","colorname":"Amarillo","maxv":"1000","info":"Es la relaci\xf3n de los veh\xedculos motorizados particulares que circulan por un punto determinado de la v\xeda (estaci\xf3n), con el total de veh\xedculos registrados en una unidad de tiempo (12 horas). La informaci\xf3n provista del indicador resulta fundamental para determinar el porcentaje en el que los veh\xedculos privados utilizan la v\xeda y con base en este dato implementar nuevas pol\xedticas de gesti\xf3n para disminuir su uso y reducir los impactos sobre el medio ambiente.","formula":"image004","data":"VMP = Veh\xedculos motorizados privados\\r\\nVp = N\xfamero de veh\xedculos privados de pasajeros que circulan en las 12 horas de conteo\\r\\nM = N\xfamero de motos que circulan en las 12 horas de conteo\\r\\n","type":"geometry","cat":"false"},{"number":"3","category":"Tr\xe1nsito","label":"Viajes en medios no motorizados","name_ind":"no_moto","description":"Proporci\xf3n de viajes que se realizan a trav\xe9s de medios no motorizados, es decir en bicicleta y a pie, en funci\xf3n del total de viajes realizados.","unit":"%","color":"#5DADE2","icon":"default.png","colorname":"Celeste","maxv":"50","info":"Es la proporci\xf3n de viajes que se realizan a trav\xe9s de medios no motorizados, es decir en bicicleta y a pie, en funci\xf3n del total de viajes realizados. Desde el punto de vista de la sostenibilidad, este tipo de movilidad es relevante al contribuir con el medio ambiente debido a que permite la reducci\xf3n de las emisiones de gases contaminantes, as\xed como la reducci\xf3n del consumo de combustibles f\xf3siles.","formula":"image006","data":"VMNM = Viajes en medios no motorizados\\r\\nVnm = Viajes realizados a pie y en bicicleta\\r\\nTv = N\xfamero total de viajes realizados seg\xfan las encuestas realizadas\\r\\n","type":"geometry","cat":"false"},{"number":"4","category":"Tr\xe1nsito","label":"Tr\xe1fico promedio diario anual TPDA","name_ind":"tpda","description":"El TPDA es el volumen total de veh\xedculos que pasan por un punto o secci\xf3n de carretera en un periodo de tiempo determinado, que es mayor a un d\xeda y menor o igual a un a\xf1o, dividido por el n\xfamero de d\xedas comprendido en dicho per\xedodo de medici\xf3n.","unit":"veh\xedculos/d\xeda","color":"#5499C7","icon":"default.png","colorname":"Azul obscuro","maxv":"15000","info":"Es el volumen total de veh\xedculos que pasan por un punto o secci\xf3n de carretera en un periodo de tiempo determinado, que es mayor a un d\xeda y menor o igual a un a\xf1o, dividido por el n\xfamero de d\xedas comprendido en dicho per\xedodo de medici\xf3n. A trav\xe9s de este dato se puede conocer peri\xf3dicamente la tendencia de incremento o disminuci\xf3n del volumen vehicular.","formula":"image008","data":"Fh = Factor horario\\r\\nVhmf = N\xfamero de veh\xedculos en hora de mayor flujo\\r\\nVta = Volumen de tr\xe1nsito absoluto: n\xfamero total de veh\xedculos que pasan por un determinado periodo de tiempo\\r\\nTpd = Tr\xe1fico promedio diario\\r\\nTps = Tr\xe1fico promedio semanal\\r\\nTpa = Tr\xe1fico promedio anual\\r\\nTPDA = Tr\xe1fico promedio diario anual\\r\\n","type":"geometry","cat":"false"},{"number":"5","category":"Tr\xe1nsito","label":"Accidentabilidad anual","name_ind":"accidentes","description":"N\xfamero de accidentes de tr\xe1nsito ocurridos en un a\xf1o para una relaci\xf3n de 100.000 habitantes.","unit":"accidentes/100mil hab.","color":"#CB4335","icon":"default.png","colorname":"rojo - sangre","maxv":"150","info":"Es el n\xfamero de accidentes de tr\xe1nsito ocurridos en un a\xf1o para una relaci\xf3n de 100.000 habitantes. Es uno de los indicadores m\xe1s conocidos a nivel internacional y con los que se compara el estado general de accidentabilidad de un pa\xeds en especial con pa\xedses de la misma motorizaci\xf3n.","formula":"image010","data":"TA= Tasa de accidentabilidad\\r\\nTna = N\xfamero total anual de accidentes de tr\xe1nsito registrados por accidentes de tr\xe1nsito\\r\\nPt = Poblaci\xf3n total del \xe1rea de estudio.\\r\\n","type":"geometry","cat":"false"},{"number":"6","category":"Tr\xe1nsito","label":"Emisiones de CO provocado por el transporte","name_ind":"Em_Co","description":"Mide las concentraciones de CO que es uno de los componentes de los gases efecto invernadero, en un tiempo determinado.","unit":"ug/m3","color":"#616A6B","icon":"default.png","colorname":"Gris","maxv":"200","info":"Este indicador mide las concentraciones de CO que es uno de los componentes de los gases efecto invernadero, en un tiempo determinado. Es importante el c\xe1lculo de este indicador pues permitir\xe1 conocer si las emisiones actuales de CO sobrepasan los l\xedmites establecidos, adem\xe1s de ser la base para an\xe1lisis comparativos posteriores. Las mediciones de este indicador ser realizaron con el apoyo de la Facultad de Ciencias Qu\xedmicas de la Universidad de Cuenca (Ing. Xavier Capa).","formula":"image012","data":"x, y, z = Distancias axial, transversal y vertical, relativas a la direcci\xf3n hacia donde sopla el viento\\r\\nQ = Tasa de emisi\xf3n del contaminante.\\r\\nu = Velocidad de viento\\r\\nH = Altura efectiva de la chimenea\\r\\n= Desviaci\xf3n est\xe1ndar de la distribuci\xf3n de Gauss\\r\\nEl Programa Disper 5.1 aplica el modelo de distribuci\xf3n de gases del ISCT3 de la EPA, el cual tiene como principio fundamental el modelo de distribuci\xf3n de gauss.\\r\\n","type":"geometry","cat":"false"},{"number":"7","category":"Tr\xe1nsito","label":"Emisiones de NOx provocado por el transporte","name_ind":"Em_Nox","description":"Mide las concentraciones de NOx que es uno de los componentes de los gases efecto invernadero, en funci\xf3n del n\xfamero de veh\xedculos motorizados en circulaci\xf3n.","unit":"ug/m3","color":"#27AE60","icon":"default.png","colorname":"Verde moco","maxv":"50","info":"Este indicador mide las concentraciones de NOx que es uno de los componentes de los gases efecto invernadero, en funci\xf3n del n\xfamero de veh\xedculos motorizados en circulaci\xf3n. Estos \xf3xidos son perjudiciales para los seres vivos, adem\xe1s contribuyen a la lluvia \xe1cida y destruyen la capa de Ozono. Por ello su emisi\xf3n se encuentra reglamentada en varias ciudades del mundo. Por lo tanto, es importante conocer las emisiones de NOx causadas por los veh\xedculos motorizados, debido a que permitir\xe1 conocer la contaminaci\xf3n actual y a la vez servir de base para futuras mediciones. . Las mediciones de este indicador ser realizaron con el apoyo de la Facultad de Ciencias Qu\xedmicas de la Universidad de Cuenca (Ing. Xavier Capa).","formula":"image014","data":"x, y, z = Distancias axial, transversal y vertical, relativas a la direcci\xf3n hacia donde sopla el viento\\r\\nQ = Tasa de emisi\xf3n del contaminante\\r\\nu = Velocidad de viento\\r\\nH = Altura efectiva de la chimenea\\r\\n= Desviaci\xf3n est\xe1ndar de la distribuci\xf3n de Gauss\\r\\n","type":"geometry","cat":"false"},{"number":"8","category":"Tr\xe1nsito","label":"Emisiones de CxHy provocado por el transporte","name_ind":"EM_CxHy","description":"Mide las concentraciones de CxHy que es uno de los componentes de los gases efecto invernadero, en un tiempo determinado.","unit":"ug/m3","color":"#7B241C","icon":"default.png","colorname":"rojo","maxv":"1","info":"Este indicador mide las concentraciones de CxHy que es uno de los componentes de los gases efecto invernadero, en un tiempo determinado. En general los hidrocarburos presentan una baja toxicidad, el problema principal que tiene, es la reactividad fotoqu\xedmica en presencia de la luz solar para dar compuestos oxidados. . Las mediciones de este indicador ser realizaron con el apoyo de la Facultad de Ciencias Qu\xedmicas de la Universidad de Cuenca (Ing. Xavier Capa).","formula":"image016","data":"x, y, z = Distancias axial, transversal y vertical, relativas a la direcci\xf3n hacia donde sopla el viento\\r\\nQ = Tasa de emisi\xf3n del contaminante\\r\\nu = Velocidad de viento\\r\\nH = Altura efectiva de la chimenea\\r\\n= Desviaci\xf3n est\xe1ndar de la distribuci\xf3n de Gauss\\r\\n","type":"geometry","cat":"false"},{"number":"9","category":"Tr\xe1nsito","label":"Nivel de ruido","name_ind":"Ruido","description":"El nivel de ruido mide las variaciones de presi\xf3n audibles en determinadas zonas, permitiendo identificar aquellas que sobrepasan el rango recomendado por instituciones internacionales o nacionales.","unit":"dB (A)","color":"#F57844","icon":"default.png","colorname":"tomate","maxv":"100","info":"El nivel de ruido mide las variaciones de presi\xf3n audibles en determinadas zonas, permitiendo identificar aquellas que sobrepasan el rango recomendado por instituciones internacionales o nacionales.","formula":"image018","data":"Leq, tp (5) = Nivel de presi\xf3n sonora equivalente total promedio. El nivel monitoreado es ponderado bajo la curva A, respuesta audible, por lo que los niveles indicadores corresponden a dB(A), medido cada 5 segundos\\r\\nLeq, rp = Nivel de presi\xf3n sonora equivalente residual promedio. El nivel monitoreado es ponderado bajo la curva A, respuesta audible, por lo que los niveles indicadores corresponden a dB(A)             \\r\\nn = N\xfamero de muestras\\r\\nTi = Fracci\xf3n de tiempo total\\r\\nNPSi = Nivel de ruido en cada intervalo de tiempo\\r\\nK = Factor de Correcci\xf3n por ruido residual\\r\\n\u2206L = Leq,tp-Leq,rp \\r\\n","type":"geometry","cat":"false"},{"number":"10","category":"Tr\xe1nsito","label":"Veh\xedculos que consumen energ\xeda alternativa","name_ind":"energia","description":"Este indicador mide el porcentaje de veh\xedculos matriculados en el cant\xf3n Cuenca que utilizan energ\xeda alternativa / renovable para su funcionamiento.","unit":"%","color":"#2ECC71","icon":"default.png","colorname":"Verde","maxv":"1","info":"Este indicador mide el porcentaje de veh\xedculos matriculados en el cant\xf3n Cuenca que utilizan energ\xeda alternativa / renovable para su funcionamiento.","formula":"image020","data":"PVEAR = Porcentaje de veh\xedculos matriculados en el cant\xf3n Cuenca que utilizan energ\xeda alternativa / renovable\\r\\nNvear = N\xfamero de veh\xedculos matriculados en el cant\xf3n Cuenca que utilizan energ\xeda alternativa / renovable\\r\\nNv = N\xfamero de veh\xedculos matriculados en el cant\xf3n Cuenca\\r\\n","type":"geometry","cat":"false"},{"number":"11","category":"Transporte","label":"Viajes con transbordos hacia el \xe1rea urbana","name_ind":"transb","description":"Mide el porcentaje de viajes que necesitan m\xe1s de un medio de transporte para llegar al \xe1rea urbana del Cant\xf3n.","unit":"%","color":"#E67E22","icon":"default.png","colorname":"tomate","maxv":"100","info":"Este indicador mide el porcentaje de viajes que necesitan m\xe1s de un medio de transporte para llegar al \xe1rea urbana del Cant\xf3n. Resulta fundamental su c\xe1lculo para identificar el porcentaje de poblaci\xf3n que necesitan realizar transbordos (entendido como transbordo al cambio de medio de transporte) para llegar a sus destinos y en funci\xf3n de ello plantear soluciones que permitan mejorar la calidad de vida de la poblaci\xf3n en cuanto a la movilidad.","formula":"image022","data":"TR = Porcentaje de viajes que necesitan realizar transbordos para llegar a su destino (ciudad de Cuenca)\\r\\nVt = N\xfamero de viajes que realizan transbordos (viajes que se ejecutan con m\xe1s de un medio)\\r\\nTv = Total de viajes realizados\\r\\n","type":"geometry","cat":"false"},{"number":"12","category":"Transporte","label":"Tiempo medio de viajes en transporte p\xfablico por motivo trabajo","name_ind":"vtrab","description":"Rango medio de tiempo en que las personas tardan en trasladarse desde su vivienda (origen) al lugar de trabajo (destino) a trav\xe9s de transporte p\xfablico (transporte p\xfablico colectivo, taxis, camionetas de alquiler).","unit":"minutos","color":"#707B7C","icon":"default.png","colorname":"gris","maxv":"60","info":"Es el rango medio de tiempo que las personas tardan en trasladarse desde su vivienda (origen) al lugar de trabajo (destino) a trav\xe9s de transporte p\xfablico (transporte p\xfablico colectivo, taxis, camionetas de alquiler). Con este indicador se conoce la relaci\xf3n que guarda las zonas de residencia con los destinos. Esta relaci\xf3n se conoce como la localizaci\xf3n y denota la conjunci\xf3n de tres condiciones:\\r\\n-  La cercan\xeda de las zonas concentradoras de actividad econ\xf3mica y de equipamientos.\\r\\n-  El acceso r\xe1pido a vialidades principales.\\r\\n-  La disponibilidad de modos de transporte.\\r\\n","formula":"image024","data":"TMVT = Tiempo medio de viajes por motivo trabajo\\r\\nTvt = Tiempo de viajes empleado en transporte p\xfablico por motivo trabajo\\r\\nPt = Poblaci\xf3n que se moviliza por razones de trabajo en transporte p\xfablico\\r\\n","type":"geometry","cat":"false"},{"number":"13","category":"Transporte","label":"Tiempo medio de viajes en transporte p\xfablico por motivo estudio","name_ind":"vest","description":"Tiempo promedio en minutos requerido para el traslado del lugar de residencia hacia el equipamiento educativo (escuela, colegio, universidad, etc.) mediante el uso del transporte p\xfablico (buses, taxis, camionetas de alquiler).","unit":"minutos","color":"#2E86C1","icon":"default.png","colorname":"celeste","maxv":"60","info":"Es el tiempo promedio en minutos requerido para el traslado del lugar de residencia hacia el equipamiento educativo (escuela, colegio, universidad, etc.) mediante el uso del transporte p\xfablico (buses, taxis, camionetas de alquiler).","formula":"image026","data":"TMVE = Tiempo medio de viajes por motivo estudio\\r\\nTve = Tiempo de viaje empleado en transporte p\xfablico por motivo estudio\\r\\nPt = Poblaci\xf3n que se moviliza por razones de estudio en transporte p\xfablico\\r\\n","type":"geometry","cat":"false"},{"number":"14","category":"Transporte","label":"Tiempo medio de viajes cotidianos hacia el \xe1rea urbana","name_ind":"vcot","description":"Rango medio de tiempo en que las personas tardan en trasladarse desde su vivienda (origen) a la ciudad por motivo de estudio y trabajo mediante el uso del transporte p\xfablico.","unit":"minutos","color":"#F1C40F","icon":"default.png","colorname":"mostaza","maxv":"60","info":"Es el rango medio de tiempo en que las personas tardan en trasladarse desde su vivienda (origen) a la ciudad por motivo de estudio y trabajo mediante el uso del transporte p\xfablico. El incremento desmesurado del parque automotor y el estacionamiento en las v\xedas provoca que la capacidad de la estructura vial rebase sus l\xedmites provocando disminuci\xf3n de la velocidad e inclusive congestionamiento vehicular que inciden directamente en el tiempo de viaje.","formula":"image028","data":"TMVU = Tiempo medio de viajes cotidianos hacia el \xe1rea urbana\\r\\nTvu = Sumatoria de los tiempos de viajes que se realizan hacia la ciudad de Cuenca por motivo estudio y trabajo en transporte p\xfablico\\r\\nPt = Poblaci\xf3n que se moviliza hacia el \xe1rea urbana (ciudad de Cuenca) por motivos cotidianos en transporte p\xfablico\\r\\n","type":"geometry","cat":"false"},{"number":"15","category":"Transporte","label":"Costes en transporte p\xfablico por motivo estudio. Tarifa completa","name_ind":"costoestc","description":"Este indicador mide el coste promedio del usuario del transporte p\xfablico que paga tarifa completa, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de estudio.","unit":"d\xf3lar","color":"#F1C40F","icon":"default.png","colorname":"dorado","maxv":"1","info":"Este indicador mide el coste promedio del usuario del transporte p\xfablico que paga tarifa completa, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de estudio. Considerando que el transporte es parte de la canasta familiar b\xe1sica, resulta un tema importante de ser considerado, puesto que a pesar de que las tarifas de transporte p\xfablico han sido fijadas desde hace algunos a\xf1os atr\xe1s, se ha detectado que los habitantes de las zonas periurbanas y rurales gastan un valor mayor a los residentes de la zona urbana.","formula":"image030","data":"CPUTPE = Costes promedio del usuario de transporte p\xfablico por motivo de estudio y que paga tarifa completa\\r\\nTctpe = Total del coste del usuario de transporte p\xfablico que paga tarifa completa por motivo de estudio\\r\\nTutpe = Total de usuarios de transporte p\xfabico consultados, que pagan tarifa completa y se movilizan por motivo de estudio\\r\\n","type":"geometry","cat":"false"},{"number":"16","category":"Transporte","label":"Costes en transporte p\xfablico por motivo estudio. Tarifa diferenciada","name_ind":"costoestd","description":"Este indicador mide el coste promedio del usuario del transporte p\xfablico que paga tarifa diferenciada, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de estudio.","unit":"d\xf3lar","color":"#F39C12","icon":"default.png","colorname":"amarillo-tomate","maxv":"1","info":"Este indicador mide el coste promedio del usuario del transporte p\xfablico que paga tarifa diferenciada, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de estudio.","formula":"image032","data":"CPUTPE = Costes promedio del usuario de transporte p\xfablico por motivo de estudio y que paga tarifa diferenciada\\r\\nTctpe = Total del coste del usuario de transporte p\xfablico que paga tarifa diferenciada por motivo de estudio\\r\\nTutpe = Total de usuarios de transporte p\xfabico consultados, que pagan tarifa diferenciada y se movilizan por motivo de estudio\\r\\n","type":"geometry","cat":"false"},{"number":"17","category":"Transporte","label":"Costes en transporte p\xfablico por motivo trabajo","name_ind":"costotrab","description":"Este indicador mide el coste promedio del usuario del transporte p\xfablico, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de trabajo.","unit":"d\xf3lar","color":"#A6ACAF","icon":"default.png","colorname":"plata","maxv":"1","info":"Este indicador mide el coste promedio del usuario del transporte p\xfablico, por movilizarse desde las \xe1reas de estudio localizadas en el sector rural, por motivo de trabajo.","formula":"image034","data":"CPUTPT = Costes promedio del usuario de transporte p\xfablico por motivo de trabajo\\r\\nTctpt = Total del coste del usuario de transporte p\xfablico por motivo de trabajo\\r\\nTutpt = Total de usuarios de transporte p\xfabico consultados, que se movilizan por motivo de trabajo\\r\\n","type":"geometry","cat":"false"},{"number":"18","category":"Transporte","label":"Estudiantes que pagan m\xe1s de una tarifa completa","name_ind":"esttc","description":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga  m\xe1s de una tarifa completa por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de estudio.","unit":"%","color":"#7B1F68","icon":"default.png","colorname":"morado","maxv":"100","info":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de estudio.","formula":"image036","data":"PUTPM = Porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por motivo de estudio\\r\\nTctpm = Total de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por motivo de estudio\\r\\nTutpe = Total de usuarios de transporte p\xfablico consultados que se movilizan por motivo de estudio y pagan tarifa completa\\r\\n","type":"geometry","cat":"false"},{"number":"19","category":"Transporte","label":"Estudiantes que pagan m\xe1s de una tarifa diferenciada","name_ind":"esttd","description":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga  m\xe1s de una tarifa diferenciada por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de estudio.","unit":"%","color":"#DA6112","icon":"default.png","colorname":"tomatillo","maxv":"100","info":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa diferenciada por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de estudio.","formula":"image038","data":"PUTPM = Porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa diferenciada por motivo de estudio\\r\\nTctpm = Total de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa diferenciada por motivo de estudio\\r\\nTutpe = Total de usuarios de transporte p\xfablico consultados que se movilizan por motivo de estudio y pagan tarifa diferenciada\\r\\n","type":"geometry","cat":"false"},{"number":"20","category":"Transporte","label":"Poblaci\xf3n que paga m\xe1s de una tarifa completa por motivo trabajo","name_ind":"pobtc","description":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga  m\xe1s de una tarifa completa por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de trabajo.","unit":"%","color":"#A01A5D","icon":"default.png","colorname":"fucsia","maxv":"100","info":"Este indicador mide el porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por movilizarse desde las \xe1reas de estudio localizadas en el sector rural por motivo de trabajo.","formula":"image040","data":"PUTPM = Porcentaje de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por motivo de trabajo\\r\\nTctpm = Total de usuarios de transporte p\xfablico que paga m\xe1s de una tarifa completa por motivo de trabajo\\r\\nTutpt = Total de usuarios de transporte p\xfablico consultados que se movilizan por motivo de trabajo y pagan tarifa completa\\r\\n","type":"geometry","cat":"false"},{"number":"21","category":"Transporte","label":"Gasto en transportaci\xf3n en funci\xf3n de la canasta b\xe1sica familiar","name_ind":"gtranscb","description":"Este indicador mide el porcentaje del gasto mensual que una familia realiza en transporte p\xfablico, en funci\xf3n de la canasta familiar b\xe1sica.","unit":"%","color":"#DBC118","icon":"default.png","colorname":"amarillo","maxv":"20","info":"Este indicador mide el porcentaje del gasto mensual que una familia realiza en transporte p\xfablico, en funci\xf3n de la canasta familiar b\xe1sica. Si bien las tarifas de transporte p\xfablico han sido fijadas desde hace algunos a\xf1os atr\xe1s se presumen que para movilizarse desde las zonas rurales del cant\xf3n se requiere un mayor presupuesto debido a que deben realizar m\xe1s de un transbordo para llegar a su lugar de destino.","formula":"image042","data":"PCFBGTP = Porcentaje de la canasta familiar b\xe1sica que gasta en transporte p\xfablico\\r\\nGmftp = Gasto mensual de una familia en transporte p\xfablico\\r\\nCfb = Canasta familiar b\xe1sica\\r\\n","type":"geometry","cat":"false"},{"number":"22","category":"Transporte","label":"Comunidades con acceso al servicio de transporte p\xfablico colectivo","name_ind":"comtrans","description":"Relaci\xf3n entre las comunidades que se encuentran servidos por una l\xednea de transporte p\xfablico colectivo y el total de existente.","unit":"%","color":"#219439","icon":"default.png","colorname":"verde","maxv":"100","info":"Es la relaci\xf3n entre las comunidades que se encuentran servidos por una l\xednea de transporte p\xfablico colectivo y el total existente. Este indicador es importante debido a que permite identificar las comunidades que de una u otra forma se encuentran servidos por el transporte p\xfablico colectivo. Sin embargo, el porcentaje que no se encuentre servido debe ser analizado para que se puedan dar soluciones alternativas que permitan mejorar la conectividad y accesibilidad.","formula":"image044","data":"PCATPC = Porcentaje de comunidades con acceso al transporte p\xfablico colectivo\\r\\nTc = Total de comunidades de la parroquia\\r\\nCastpc = Comunidades con servicio de transporte p\xfablico colectivo\\r\\n","type":"geometry","cat":"false"},{"number":"23","category":"Transporte","label":"Uso del transporte p\xfablico colectivo","name_ind":"usotransp","description":"Relaci\xf3n entre el n\xfamero de viajes realizados en transporte p\xfablico colectivo y el total generado.","unit":"%","color":"#753910","icon":"default.png","colorname":"caf\xe9","maxv":"100","info":"Es la relaci\xf3n entre el n\xfamero de viajes realizados en transporte p\xfablico colectivo y el total generado. Conocer el grado de utilizaci\xf3n del transporte p\xfablico resulta fundamental, ya que permite determinar la incidencia que este medio tiene en el \xe1rea de estudio y en base a esto proponer proyectos que mejoren su servicio e incentiven su uso.","formula":"image046","data":"UTPC = Uso del transporte p\xfablico colectivo\\r\\nVtpc = Viajes en transporte p\xfablico colectivo\\r\\nTv = N\xfamero total de viajes realizados seg\xfan las encuestas realizadas\\r\\n","type":"geometry","cat":"false"},{"number":"24","category":"Transporte","label":"Capacidad vehicular del transporte p\xfablico colectivo por habitantes","name_ind":"captrans","description":"Es la relaci\xf3n que existe entre la capacidad del transporte p\xfablico colectivo (n\xfamero de asientos y unidades de transporte) y el total de la poblaci\xf3n de un territorio, en un per\xedodo de tiempo determinado.","unit":"%","color":"#5025A6","icon":"default.png","colorname":"morado","maxv":"20","info":"Es la relaci\xf3n que existe entre la capacidad del transporte p\xfablico colectivo (n\xfamero de asientos y unidades de transporte) y el total de la poblaci\xf3n de un territorio, en un per\xedodo de tiempo determinado. Es necesario fomentar la utilizaci\xf3n del transporte p\xfablico colectivo como medio principal de movilizaci\xf3n, sin embargo, previo a ello es necesario conocer el porcentaje de poblaci\xf3n que puede estar servido por las unidades disponibles, para as\xed determinar si la oferta puede cubrir la demanda.","formula":"image048","type":"geometry","cat":"false"},{"number":"25","category":"Transporte","label":"Velocidad promedio de transporte p\xfablico colectivo","name_ind":"velotrans","description":"Es la relaci\xf3n que existe entre la distancia recorrida mediante el transporte p\xfablico colectivo y el tiempo utilizado para ejecutarlo.","unit":"km/h","color":"#D5670B","icon":"default.png","colorname":"tomate","maxv":"25","info":"Es la relaci\xf3n que existe entre la distancia recorrida mediante el transporte p\xfablico colectivo y el tiempo utilizado para ejecutarlo. Es importante conocer la velocidad promedio en la que circula el transporte p\xfablico colectivo con el fin de determinar si la misma se encuentra dentro o fuera del rango establecido como \xf3ptimo. Si la velocidad es muy baja, se deben pensar en proyectos que permitan incrementar la misma, con el fin de disminuir tiempos de viaje y de esta manera incentivar el uso de este sistema sostenible de movilizaci\xf3n.","formula":"image050","data":"VPTP = Velocidad promedio del transporte p\xfablico\\r\\nDr = Distancia total recorrida\\r\\nTt = Tiempo total empleado para el desplazamiento\\r\\n","type":"geometry","cat":"false"},{"number":"26","category":"Transporte","label":"Frecuencia de paso del transporte p\xfablico colectivo","name_ind":"frectrans","description":"Tiempo medio de paso de las unidades de transporte p\xfablico colectivo. En el caso de que el \xe1rea de estudio este servida por m\xe1s de una l\xednea de bus la frecuencia estar\xe1 dada por el promedio del tiempo de cada una de ellas.","unit":"minutos","color":"#9B15B5","icon":"default.png","colorname":"moradin","maxv":"15","info":"Es el tiempo medio de paso de las unidades de transporte p\xfablico colectivo. En el caso de que el \xe1rea de estudio este servida por m\xe1s de una l\xednea de bus, la frecuencia estar\xe1 dada por el promedio del tiempo de cada una de ellas. La frecuencia de paso cumple un rol fundamental para el incentivo del transporte p\xfablico colectivo, debido a que mientras menor sea el tiempo de espera para acceder a las unidades de transporte mayor ser\xe1 la satisfacci\xf3n de los usuarios de este servicio.","formula":"image052","data":"FTPC = Frecuencia del transporte p\xfablico colectivo\\r\\nFL1; FL2; FLn = Frecuencia de cada l\xednea de transporte p\xfablico que sirva al \xe1rea de estudio\\r\\nTl = Total de l\xedneas que abastecen al \xe1rea de estudio\\r\\n","type":"geometry","cat":"false"},{"number":"27","category":"Transporte","label":"Edad del parque automotor del transporte p\xfablico colectivo","name_ind":"edadtrans","description":"Este indicador mide la edad promedio del parque automotor del transporte p\xfablico colectivo rural.","unit":"a\xf1os","color":"#D5940B","icon":"default.png","colorname":"fierro","maxv":"15","info":"Este indicador mide la edad promedio del parque automotor del transporte p\xfablico colectivo rural. La edad promedio del parque automotor del transporte p\xfablico es una medida de la efectividad y calidad de prestaci\xf3n del servicio de transporte p\xfablico, pues refleja en medida si las empresas y la administraci\xf3n controlan que el parque automotor no sobrepase la edad m\xe1xima recomendada como viable para operaci\xf3n (20 a\xf1os).","formula":"image054","data":"PETP = Promedio de la edad del parque automotor del transporte p\xfablico colectivo rural\\r\\nSeutp = Sumatoria de la edad de las unidades que prestan servicio de transporte p\xfablico colectivo para zonas rurales\\r\\nTutp = Total de unidades que prestan servicio de transporte p\xfablico colectivo para zonas rurales\\r\\n","type":"geometry","cat":"false"},{"number":"28","category":"Transporte","label":"Calidad del transporte p\xfablico colectivo","name_ind":"calidadtrans","description":"Mide la satisfacci\xf3n de los pasajeros sobre el servicio prestado por el transporte p\xfablico colectivo.","unit":"%","color":"#EFEB0B","icon":"default.png","colorname":"amarillo","maxv":"100","info":"Este indicador mide la satisfacci\xf3n de los pasajeros sobre el servicio prestado por el transporte p\xfablico colectivo. Este indicador constituye una base s\xf3lida para que las autoridades y operadores ajusten sus pol\xedticas, regulaciones y programas de inversi\xf3n con el fin de mejorar la calidad del servicio brindado a los usuarios.","formula":"image056","data":"CPTPC = Calidad percibida del transporte p\xfablico colectivo\\r\\nEu = Percepci\xf3n del estado de la unidad (% estado bueno)\\r\\nTu = Percepci\xf3n del trato al usuario (% trato bueno)\\r\\nS = Percepci\xf3n de seguridad (% si es seguro)\\r\\nAc = Percepci\xf3n sobre la actitud del conductor (% de actitud bueno)\\r\\nCh = Cumplimiento del horario (% de poblaci\xf3n que dijo que s\xed cumple)\\r\\nTv = Total de variables analizadas (en este caso 5)\\r\\n","type":"geometry","cat":"false"},{"number":"29","category":"Viabilidad","label":"V\xedas de acceso adecuadas","name_ind":"vias_ade","description":"Este indicador mide el porcentaje de metros lineales de v\xedas que unen la zona urbana con las \xe1reas de estudio rurales que se encuentran en buen estado, su material de calzada es perenne; y su secci\xf3n es \u2265 7,00m por ser de doble sentido de circulaci\xf3n y poseer un carril por cada sentido.","unit":"%","color":"#A04000","icon":"default.png","colorname":"caf\xe9","maxv":"100","info":"Este indicador mide el porcentaje de metros lineales de v\xedas que unen la zona urbana con las \xe1reas de estudio rurales que se encuentran en buen estado, su material de calzada es perenne; y su secci\xf3n es \u2265 7,00m por ser de doble sentido de circulaci\xf3n y poseer un carril por cada sentido.","formula":"image058","data":"PVA = Porcentaje de v\xedas adecuadas\\r\\nLva = Longitud de v\xedas adecuadas (estado bueno y material de asfalto o concreto)\\r\\nLtv = Longitud total de v\xedas que unen el \xe1rea urbana con las \xe1reas de estudio\\r\\n","type":"geometry","cat":"false"},{"number":"30","category":"Viabilidad","label":"Espacio viario para peatones","name_ind":"vias_pea","description":"Este indicador mide el porcentaje de espacio viario para peatones sobre la longitud de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","unit":"%","color":"#BA4A00","icon":"default.png","colorname":"tomate","maxv":"60","info":"Este indicador mide el porcentaje de espacio viario para peatones sobre la longitud de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales. Las facilidades peatonales deben localizarse en zonas en las cuales exista o se pueda proveer de aceras adecuadas, donde puedan esperar los peatones que deseen cruzar.","formula":"image060","data":"VPDP = Viario p\xfablico destinado al peat\xf3n\\r\\nLvpp = Longitud viario p\xfablico peatonal (longitud de acera derecha m\xe1s longitud de acera izquierda)\\r\\nLvpt = Longitud viario p\xfablico total multiplicado por dos\\r\\n","type":"geometry","cat":"false"},{"number":"31","category":"Viabilidad","label":"Accesibilidad del espacio de tr\xe1nsito peatonal","name_ind":"vias_acc","description":"Este indicador mide el porcentaje en longitud de espacio viario para peatones con una secci\xf3n mayor a 2,50m en los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","unit":"%","color":"#286BF9","icon":"default.png","colorname":"azul claro","maxv":"60","info":"Este indicador mide el porcentaje en longitud de espacio viario para peatones con una secci\xf3n mayor a 2,50m en los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales. En \xe1reas urbanas se consideran totalmente accesibles los tramos que poseen un m\xednimo de ancho en ambas aceras (m\xe1s de 2,50m); ancho de acera mayor de 2,00m para permitir el cruce de dos veh\xedculos de personas incapacitadas o de coches para ni\xf1os, m\xe1s anchura suplementaria de 0,50m para considerar el espacio ocupado para la se\xf1alizaci\xf3n de tr\xe1fico y el mobiliario.","formula":"image062","data":"PETPA = Porcentaje de espacio de tr\xe1nsito peatonal accesible.\\r\\nLetpa = Longitud del espacio de tr\xe1nsito peatonal accesible \u2265 2,50m\\r\\nLtetp = Longitud total del espacio de tr\xe1nsito peatonal (de acera derecha m\xe1s acera izquierda)\\r\\n","type":"geometry","cat":"false"},{"number":"32","category":"Viabilidad","label":"Espacio viario para bicicletas","name_ind":"vias_bici","description":"Este indicador mide el espacio viario destinado exclusivamente al desplazamiento en bicicleta en relaci\xf3n a la longitud total de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","unit":"%","color":"#FFFFFF","icon":"default.png","colorname":"Blanco","maxv":"1","info":"Este indicador mide el espacio viario destinado exclusivamente al desplazamiento en bicicleta en relaci\xf3n a la longitud total de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales. La bicicleta se convierte en un verdadero modo de transporte si cuenta con una red propia interconectada en todo el territorio y segregada de los otros modos de transporte de superficie.","formula":"image064","data":"VPDB = Viario p\xfablico destinado a bicicletas\\r\\nLvpb = Longitud de viario p\xfablico para bicicletas\\r\\nLvpt = Longitud viario p\xfablico total\\r\\n","type":"geometry","cat":"false"},{"number":"33","category":"Viabilidad","label":"Nivel de accesibilidad al transporte p\xfablico colectivo","name_ind":"access_pub","description":"Este indicador mide el porcentaje de poblaci\xf3n bajo cobertura de transporte p\xfablico colectivo.","unit":"%","color":"#C0392B","icon":"default.png","colorname":"rojo buses","maxv":"100","info":"Este indicador mide el porcentaje de poblaci\xf3n bajo cobertura de transporte p\xfablico colectivo. Se considera que existe una buena accesibilidad cuando desde cualquier parte del territorio se puede acceder en 10 minutos (500 m) al viario p\xfablico por el que circula el transporte p\xfablico rural; o en 5 minutos (250 m) al viario p\xfablico por el que circula el transporte p\xfablico urbano.","formula":"image066","data":"PPATP = Porcentaje de poblaci\xf3n con acceso a transporte p\xfablico\\r\\nPctp = Poblaci\xf3n bajo cobertura de transporte p\xfablico\\r\\nTp = Total de poblaci\xf3n\\r\\n","type":"geometry","cat":"false"},{"number":"34","category":"Viabilidad","label":"Espacio viario para transporte p\xfablico","name_ind":"vias_pub","description":"Este indicador mide el espacio viario destinado a la circulaci\xf3n de transporte p\xfablico colectivo, en relaci\xf3n a la longitud total de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","unit":"%","color":"#FFFFFF","icon":"default.png","colorname":"Blanco","maxv":"1","info":"Este indicador mide el espacio viario destinado a la circulaci\xf3n de transporte p\xfablico colectivo, en relaci\xf3n a la longitud total de los ejes viales que unen la zona urbana con las \xe1reas de estudio rurales.","formula":"image068","data":"VTP = Viario para transporte p\xfablico\\r\\nLcb = Longitud carril bus\\r\\nLtv = Longitud total de v\xedas\\r\\n","type":"geometry","cat":"false"},{"number":"35","category":"Viabilidad","label":"Proximidad de paradas de transporte p\xfablico colectivo","name_ind":"prox_pub","description":"Porcentaje de poblaci\xf3n que tiene acceso a una parada de transporte p\xfablico colectivo a una distancia inferior de 300m en el \xe1rea urbana y 500 en el \xe1rea rural (distancia m\xe1xima de caminata).","unit":"%","color":"#FFD700","icon":"default.png","colorname":"Dorado","maxv":"50","info":"Es el porcentaje de poblaci\xf3n que tiene acceso a una parada de transporte p\xfablico colectivo a una distancia inferior de 300m en el \xe1rea urbana y 500 en el \xe1rea rural (distancia m\xe1xima de caminata).","formula":"image070","data":"PPTPC = Proximidad de paradas de transporte p\xfablico colectivo\\r\\nPa = Poblaci\xf3n  abastecida por las paradas de buses\\r\\nPt = Poblaci\xf3n total de la parroquia\\r\\n","type":"geometry","cat":"false"},{"number":"36","category":"Demograficos","label":"Superficie Km \xb2","name_ind":"supe","description":"Superficie parroquial: se refiere a la extensi\xf3n de tierra que pertenece a una parroquia.","unit":"Km \xb2","color":"#6EFFAC","icon":"default.png","colorname":"verde","info":"Superficie parroquial: se refiere a la extensi\xf3n de tierra que pertenece a una parroquia.","unita":"kil\xf3metro cuadrado (km2)","maxv":"250","type":"geometry","cat":"false"},{"number":"37","category":"Demograficos","label":"Poblaci\xf3n","name_ind":"pobl","description":"Conjunto de habitantes de una parroquia.","unit":"habit.","color":"#FA8E32","info":"Conjunto de habitantes de una parroquia","unita":"N\xfamero de habitantes (hab.)","icon":"default.png","maxv":"25000","type":"geometry","cat":"false"},{"number":"38","category":"Demograficos","label":"Densidad","name_ind":"dens","description":"Se refiere al promedio de habitantes por kil\xf3metro cuadrado en una parroquia.","unit":"habit/Km \xb2","color":"#E05550","info":"Se refiere al promedio de habitantes por kil\xf3metro cuadrado en una parroquia.","unita":"habitantes por kil\xf3metro cuadrado (hab./km2)","icon":"default.png","maxv":"15","type":"geometry","cat":"false"},{"number":"39","category":"Demograficos","label":"N\xfamero de Comunidades","name_ind":"comu","description":"Hace referencia al n\xfamero de comunidades existentes en una parroquia.","unit":"comunidades","color":"#8D38F5","info":"Hace referencia al n\xfamero de comunidades existentes en una parroquia.","unita":"n\xfamero de comunidades","icon":"default.png","maxv":"40","type":"geometry","cat":"false"},{"number":"40","category":"Demograficos","label":"Poblaci\xf3n Cantonal","name_ind":"pobc","description":"Se refiere al porcentaje de poblaci\xf3n cantonal que reside en una determinada parroquia.","unit":"%","color":"#FAE360","info":"Se refiere al porcentaje de poblaci\xf3n cantonal que reside en una determinada parroquia.","unita":"porcentaje (%)","icon":"default.png","maxv":"5","type":"geometry","cat":"false"},{"number":"41","category":"Demograficos","label":"Poblaci\xf3n Rural","name_ind":"pobr","description":"Se refiere al porcentaje de poblaci\xf3n rural del cant\xf3n que reside en una determinada parroquia.","unit":"%","color":"#70ECFA","info":"Se refiere al porcentaje de poblaci\xf3n rural del cant\xf3n que reside en una determinada parroquia.","unita":"porcentaje (%)","icon":"default.png","maxv":"20","type":"geometry","cat":"false"},{"number":"42","category":"Demograficos","label":"Tasa de crecimiento\\r\\n2001-2010","name_ind":"tasac","description":"Se refiere a la tasa con la que est\xe1 aumentando o disminuyendo la poblaci\xf3n en una parroquia en el periodo comprendido entre 2001 y 2010.","unit":"%","color":"#AB7E74","info":"Se refiere a la tasa con la que est\xe1 aumentando o disminuyendo la poblaci\xf3n en una parroquia en el periodo comprendido entre 2001 y 2010.","unita":"porcentaje (%)","icon":"default.png","maxv":"5","type":"geometry","cat":"false"},{"number":"43","category":"Demograficos","label":"A\xf1o de constituci\xf3n como parroquia","name_ind":"const","description":"Hace referencia al a\xf1o en el que un determinado territorio se formaliz\xf3 como parroquia rural.","unit":"a\xf1o","color":"#ACA392","info":"Hace referencia al a\xf1o en el que un determinado territorio se formaliz\xf3 como parroquia rural.","unita":"a\xf1o","icon":"default.png","colorname":"Gris","maxv":"2000","type":"geometry","cat":"false"},{"number":"44","category":"Demograficos","label":"Principales actividades economicas","name_ind":"aeco","description":"Se refiere a las principales actividades econ\xf3micas realizadas por lo habitantes de una determinada parroquia.","unit":".","color":"#FCFDFF","info":"Se refiere a las principales actividades econ\xf3micas realizadas por lo habitantes de una determinada parroquia.","unita":"actividad","colorname":"blanco","type":"geometry","cat":"true"},{"number":"45","category":"Demograficos","label":"Servicio de transporte p\xfablico","description":"Hace referencia al servicio de transporte p\xfablico con el que cuenta una determinada parroquia, pudiendo ser: urbano, micro regional o rural.","unit":".","name_ind":"tipotr","color":"#FCFDFF","info":"Hace referencia al servicio de transporte p\xfablico con el que cuenta una determinada parroquia, pudiendo ser: urbano, micro regional o rural.","unita":"tipo de servicio","colorname":"banco","type":"geometry","cat":"true"},{"number":"46","category":"Demograficos","label":"Movilizaci\xf3n de Cuenca hacia las parroquias Rurales","name_ind":"movru","unit":"habit.","color":"#ff8f2c","colorname":"tomate","maxv":"10000","type":"geometry","cat":"false","parrq":"true"},{"number":"47","category":"Demograficos","label":"Movilizaci\xf3n desde Parroquias Rurales hacia Cuenca","name_ind":"movcu","unit":"habit.","color":"#b6ff08","colorname":"verde limon","maxv":"10000","type":"geometry","cat":"false","parrq":"true"},{"number":"48","category":"Demograficos","label":"Nivel de servicio Vial a las parroquias rurales","name_ind":"svial","unit":"(nivel)","color":"#89000f","colorname":"caf\xe9 obscuro","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"49","category":"IndicesNull","label":"Indice de desarrollo educacional","name_ind":"indedu","unit":"(Indice)","color":"#004572","colorname":"azul marino","maxv":"30","type":"geometry","cat":"false","parrq":"true"},{"number":"50","category":"IndicesNull","label":"Indice de desarrollo de salud","name_ind":"indsal","unit":"(Indice)","color":"#009b82","colorname":"verde azulado","maxv":"0","type":"geometry","cat":"false","parrq":"true"},{"number":"51","category":"IndicesNull","label":"Indice de desarrollo de vivienda","name_ind":"indviv","unit":"(Indice)","color":"#d0df00","colorname":"amarillo verdoso","maxv":"7","type":"geometry","cat":"false","parrq":"true"},{"number":"52","category":"IndicesNull","label":"Deficit servicios basicos","name_ind":"defsb","unit":"%","color":"#600089","colorname":"morado","maxv":"60","type":"geometry","cat":"false","parrq":"true"},{"number":"53","category":"IndicesNull","label":"Deficit Inicial","name_ind":"defini","unit":"%","color":"#FFACD5","colorname":"rosa","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"54","category":"IndicesNull","label":"Deficit Basico","name_ind":"defbas","unit":"%","color":"#A765F7","colorname":"purpura","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"55","category":"IndicesNull","label":"Deficit Bachillerato","name_ind":"defbac","unit":"%","color":"#5B69FC","colorname":"azul","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"56","category":"IndicesNull","label":"Deficit Centro","name_ind":"defcen","unit":"%","color":"#E05187","colorname":"rojo","maxv":"100","type":"geometry","cat":"false","parrq":"true"},{"number":"57","category":"Intervenciones","label":"Proyectos Sep. 2020 Feb 2021","name_ind":"1","color":"#8F1F7E","type":"point","cat":"false"},{"number":"58","category":"Intervenciones","label":"Proyectos Mar. - Ago. 2020","name_ind":"2","color":"#DBC45C","type":"point","cat":"false"},{"number":"59","category":"Intervenciones","label":"Proyectos Sep. 2019 - Feb. 2020","name_ind":"3","color":"#DB47C6","type":"point","cat":"false"},{"number":"60","category":"Intervenciones","label":"Proyectos Mar. - Ago. 2019","name_ind":"4","color":"#30DBD0","type":"point","cat":"false"},{"number":"61","category":"Intervenciones","label":"Proyectos Sep. 2018 - Feb. 2019","name_ind":"5","color":"#278F88","type":"point","cat":"false"},{"number":"62","category":"Intervenciones","label":"Proyectos Mar. - Ago. 2018","name_ind":"6","color":"#8F2545","type":"point","cat":"false"},{"number":"63","category":"Intervenciones","label":"Proyectos Sep. 2017 - Feb. 2018","name_ind":"7","color":"#DBD365","type":"point","cat":"false"},{"number":"64","category":"Intervenciones","label":"Proyectos Anteriores a 2017","name_ind":"8","color":"#39B6DB","type":"point","cat":"false"}]}'),RC=["tooltip"];function PC(t,e){if(1&t){var n=Lo();Fo(0,"li",34),Fo(1,"label",35),Mo(2,"i",36),va(3),Fo(4,"input",37),zo("click",function(t){var e=Me(n).$implicit;return Go().clickCheckPoint(t,e)})("change",function(t){var e=Me(n).$implicit;return Go().ruidoCheck(t,e)}),jo(),jo(),jo()}if(2&t){var r=e.$implicit;ci(2),ma("color: ",r.color,"  "),ci(1),ya(" ",r.label," \xa0 "),ci(1),Io("checked",r.show)}}function IC(t,e){if(1&t&&(Fo(0,"div"),Fo(1,"canvas",44),va(2," Your browser does not support the HTML5 canvas tag."),jo(),Fo(3,"div",1),Fo(4,"p",45),va(5),jo(),Fo(6,"p",46),va(7),jo(),jo(),jo()),2&t){var n=Go(2).$implicit;ci(1),ma("border:1px solid #d3d3d3; background-image: linear-gradient(to right, #FFFFFF,",n.color,");"),ci(4),ya(" ",n.min,""),ci(2),ya(" ",n.max,"")}}function AC(t,e){if(1&t&&(Fo(0,"li"),Mo(1,"img",48),va(2),jo()),2&t){var n=e.$implicit;ci(1),Uo("src","assets/img/icons/",n.value,".png",yr),ci(1),ga(n.key)}}function FC(t,e){if(1&t&&(Fo(0,"div"),Fo(1,"ul"),Ro(2,AC,3,2,"li",47),function(t,e){var n,r=je();r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if("keyvalue"===r.name)return r}throw new yt("302","The pipe 'keyvalue' could not be found!")}(0,r.pipeRegistry),r.data[23]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(23,n.onDestroy)):n=r.data[23];var i=n.factory||(n.factory=fe(n.type)),o=At(Po);try{var a=Sn(!1),s=i();Sn(a),function(t,e,n,r){23>=t.data.length&&(t.data[23]=null,t.blueprint[23]=null),e[23]=r}(r,Fe(),0,s)}finally{At(o)}}(),jo(),jo()),2&t){var n=Go(2).$implicit,r=Go();ci(2),Io("ngForOf",(i=3,o=1,a=r.iconMap[n.name_ind],s=i+20,u=Fe(),l=function(t,e){return t[e]}(u,s),function(t,e){return Co.isWrapped(e)&&(e=Co.unwrap(e),t[Ie.lFrame.bindingIndex]=li),e}(u,function(t,e){return t[1].data[e].pure}(u,s)?function(t,e,n,r,i,o){var a=e+n;return Eo(t,a,i)?function(t,e,n){return t[e]=n}(t,a+1,o?r.call(o,i):r(i)):function(t,e){var n=t[e];return n===li?void 0:n}(t,a+1)}(u,function(){var t=Ie.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),o,l.transform,a,l):l.transform(a))))}var i,o,a,s,u,l}function jC(t,e){if(1&t&&(Fo(0,"div",43),Ro(1,IC,8,5,"div",33),Ro(2,FC,4,3,"div",33),jo()),2&t){var n=Go().$implicit;ci(1),Io("ngIf",!n.cat),ci(1),Io("ngIf",n.cat)}}function MC(t,e){if(1&t){var n=Lo();Fo(0,"li",34),Fo(1,"label",35),an(),Fo(2,"svg",38),Fo(3,"title"),va(4),jo(),Mo(5,"path",39),Mo(6,"path",40),jo(),va(7),sn(),Fo(8,"input",41),zo("click",function(t){var e=Me(n).$implicit;return Go().clickCheck(t,e)})("change",function(t){var e=Me(n).$implicit;return Go().ruidoCheck(t,e)}),jo(),jo(),Ro(9,jC,3,2,"div",42),jo()}if(2&t){var r=e.$implicit;ci(4),ga(r.description),ci(3),ya(" ",r.label," \xa0 "),ci(1),Io("checked",r.show),ci(1),Io("ngIf",r.show)}}function LC(t,e){if(1&t&&(Fo(0,"div",43),Fo(1,"canvas",44),va(2," Your browser does not support the HTML5 canvas tag."),jo(),Fo(3,"div",1),Fo(4,"p",45),va(5),jo(),Fo(6,"p",46),va(7),jo(),jo(),jo()),2&t){var n=Go().$implicit;ci(1),ma("border:1px solid #d3d3d3; background-image: linear-gradient(to right, #FFFFFF,",n.color,");"),ci(4),ya(" ",n.min,""),ci(2),ya(" ",n.max,"")}}function DC(t,e){if(1&t){var n=Lo();Fo(0,"li",34),Fo(1,"label",35),an(),Fo(2,"svg",38),Fo(3,"title"),va(4),jo(),Mo(5,"path",39),Mo(6,"path",40),jo(),va(7),sn(),Fo(8,"input",41),zo("click",function(t){var e=Me(n).$implicit;return Go().clickCheck(t,e)})("change",function(t){var e=Me(n).$implicit;return Go().ruidoCheck(t,e)}),jo(),jo(),Ro(9,LC,8,5,"div",42),jo()}if(2&t){var r=e.$implicit;ci(4),ga(r.description),ci(3),ya(" ",r.label," \xa0 "),ci(1),Io("checked",r.show),ci(1),Io("ngIf",r.show)}}function NC(t,e){if(1&t&&(Fo(0,"div",43),Fo(1,"canvas",44),va(2," Your browser does not support the HTML5 canvas tag."),jo(),Fo(3,"div",1),Fo(4,"p",45),va(5),jo(),Fo(6,"p",46),va(7),jo(),jo(),jo()),2&t){var n=Go().$implicit;ci(1),ma("border:1px solid #d3d3d3; background-image: linear-gradient(to right, #FFFFFF,",n.color,");"),ci(4),ya(" ",n.min,""),ci(2),ya(" ",n.max,"")}}function zC(t,e){if(1&t){var n=Lo();Fo(0,"li",34),Fo(1,"label",35),an(),Fo(2,"svg",38),Fo(3,"title"),va(4),jo(),Mo(5,"path",39),Mo(6,"path",40),jo(),va(7),sn(),Fo(8,"input",49),zo("click",function(t){var e=Me(n).$implicit;return Go().clickCheck(t,e)})("change",function(t){var e=Me(n).$implicit;return Go().ruidoCheck(t,e)}),jo(),jo(),Ro(9,NC,8,5,"div",42),jo()}if(2&t){var r=e.$implicit;ci(4),ga(r.description),ci(3),ya(" ",r.label," \xa0 "),ci(1),Io("checked",r.show),ci(1),Io("ngIf",r.show)}}function qC(t,e){if(1&t&&(Fo(0,"div",43),Fo(1,"canvas",44),va(2," Your browser does not support the HTML5 canvas tag."),jo(),Fo(3,"div",1),Fo(4,"p",45),va(5),jo(),Fo(6,"p",46),va(7),jo(),jo(),jo()),2&t){var n=Go().$implicit;ci(1),ma("border:1px solid #d3d3d3;  background-image: linear-gradient(to right, #FFFFFF,",n.color,");"),ci(4),ya(" ",n.min,""),ci(2),ya(" ",n.max,"")}}function VC(t,e){if(1&t){var n=Lo();Fo(0,"li",34),Fo(1,"label",35),an(),Fo(2,"svg",38),Fo(3,"title"),va(4),jo(),Mo(5,"path",39),Mo(6,"path",40),jo(),va(7),sn(),Fo(8,"input",41),zo("click",function(t){var e=Me(n).$implicit;return Go().clickCheck(t,e)})("change",function(t){var e=Me(n).$implicit;return Go().ruidoCheck(t,e)}),jo(),jo(),Ro(9,qC,8,5,"div",42),jo()}if(2&t){var r=e.$implicit;ci(4),ga(r.description),ci(3),ya(" ",r.label," \xa0 "),ci(1),Io("checked",r.show),ci(1),Io("ngIf",r.show)}}function GC(t,e){if(1&t&&(Fo(0,"span"),Fo(1,"small"),Fo(2,"strong"),va(3," Formula:"),jo(),jo(),Mo(4,"img",52),Mo(5,"br"),jo()),2&t){var n=Go(3);ci(4),Uo("src","assets/img/",n.activeInd.formula,".gif",yr)}}function UC(t,e){if(1&t&&(Fo(0,"span"),Fo(1,"small"),Fo(2,"strong"),va(3," Variables: "),jo(),jo(),Fo(4,"small"),va(5),jo(),Mo(6,"br"),jo()),2&t){var n=Go(3);ci(5),ya(" ",n.activeInd.data," ")}}function BC(t,e){if(1&t&&(Fo(0,"span"),Fo(1,"small"),Fo(2,"strong"),va(3," Unidad de an\xe1lisis: "),jo(),jo(),Fo(4,"small"),va(5),jo(),jo()),2&t){var n=Go(3);ci(5),ya(" ",n.activeInd.unita," ")}}function HC(t,e){if(1&t&&(Fo(0,"div",51),Fo(1,"p"),Fo(2,"small"),Fo(3,"strong"),va(4," Descripci\xf3n del indicador :"),jo(),jo(),Fo(5,"small"),va(6),jo(),Mo(7,"br"),Ro(8,GC,6,1,"span",33),Ro(9,UC,7,1,"span",33),Ro(10,BC,6,1,"span",33),Mo(11,"br"),jo(),jo()),2&t){var n=Go(2);ci(6),ya(" ",n.activeInd.info," "),ci(2),Io("ngIf",n.activeInd.formula),ci(1),Io("ngIf",n.activeInd.data),ci(1),Io("ngIf",n.activeInd.unita)}}function WC(t,e){if(1&t&&(Fo(0,"div"),Ro(1,HC,12,4,"div",50),jo()),2&t){var n=Go();ci(1),Io("ngIf",n.activeInd.info)}}var XC=function(){var t=function(){function t(){v(this,t),this.indicatorsMetadataList=[],this.indicatorsVia=[],this.indicatorsTrans=[],this.indicatorsTransp=[],this.indicatorsdemo=[],this.indicatorsInter=[],this.indicesPa=[],this.intervPoints=[],this.activeIndicatorPoints={},this.calculateColors=function(t,e,n,r,i,o,a){t.getSource().getFeatures();var s=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;t.getSource().forEachFeature(function(t){var n=Number(t.get(e));n<u&&(u=n),n>s&&(s=n),console.log(e,u,n)}),console.log(e,u),o&&(s=o),i.min=u,i.max=s,t.getSource().forEachFeature(function(t){var o=(Number(t.get(e))-u)/(s-u),a=function(t){return 1==(t=t.toString(16)).length?"0"+t:t},l=Math.ceil(parseInt(n.substring(0,2),16)*o+parseInt(r.substring(0,2),16)*(1-o)),c=Math.ceil(parseInt(n.substring(2,4),16)*o+parseInt(r.substring(2,4),16)*(1-o)),h=Math.ceil(parseInt(n.substring(4,6),16)*o+parseInt(r.substring(4,6),16)*(1-o)),d="#"+a(l)+a(c)+a(h);t.ccolor||(t.ccolor={}),t.meta||(t.meta={}),l&&c&&h||(d="#DCDCDC"),t.ccolor[e]=d,t.meta[e]=i})},this.iconMap={aeco:{Manufactura:"manuf",Comercio:"shop",Agricultura:"camion","Construcci\xf3n":"const"},tipotr:{Urbano:"busr",Interparroquial:"bus_v",Microregional:"bus_a"}};var n,r=e(OC.v);try{for(r.s();!(n=r.n()).done;){var i=n.value;switch(i.category){case"Tr\xe1nsito":this.indicatorsTrans.push(i);break;case"Viabilidad":this.indicatorsVia.push(i);break;case"Transporte":this.indicatorsTransp.push(i);break;case"Demograficos":this.indicatorsdemo.push(i);break;case"Indices":this.indicesPa.push(i);break;case"Intervenciones":this.intervPoints.push(i)}}}catch(a){r.e(a)}finally{r.f()}this.indicatorsMetadataList=OC.v;var o=this;this.highlightStyle=new Fb({fill:new xb({color:"rgba(255,255,255,0.4)"}),stroke:new Cb({color:"#000010",width:3})}),this.pointStyle=function(t){var e=o.intervPoints.filter(function(e){return Number(e.name_ind)===t.get("clasf")})[0];return new Fb({image:new wb({radius:5,fill:new xb({color:e.color})})})},this.calcpointstyle=function(t){return o.activeIndicatorPoints[t.get("clasf")]&&o.activeIndicatorPoints[t.get("clasf")].show?o.pointStyle(t):new Fb({})},this.normalStyle=function(t){var e;return e=t.get("A_estudio")?"rgba(220, 220, 220, 0.7)":"rgba(255, 250, 250, 0.4)",new Fb({fill:new xb({color:e}),stroke:new Cb({color:"rgba(4, 4, 4, 1)",width:1})})},this.stylop=function(t){var e;return e=t.get("A_estudio")?"rgba(220, 220, 220, 0.1)":"rgba(255, 250, 250, 0.1)",new Fb({fill:new xb({color:e}),stroke:new Cb({color:"rgba(4, 4, 4, 1)",width:1})})},this.calculatedStyle=function(t){var n,r=o.activeIndicatorFieldName,i=null!=t.get("A_estudio")||t.meta[r].parrq;n=i?t.ccolor[r]:"rgba(255, 250, 250, 0.4)";var s=[new Fb({fill:new xb({color:n}),stroke:new Cb({color:"rgba(4, 4, 4, 1)",width:1})})];if(i&&"true"==t.meta[r].cat){var u,l=-30,c=0,h=e(t.get(r).split(";"));try{for(h.s();!(u=h.n()).done;){var d=u.value;s.push(new Fb({geometry:function(t){var e=t.getGeometry(),n=e.getType();return"Polygon"==n?e.getInteriorPoint():"MultiPolygon"==n?e.getInteriorPoints():e},image:new Fw({anchor:[0,0],displacement:[l,c],scale:.75,anchorXUnits:"pixels",anchorYUnits:"pixels",src:"assets/img/icons/"+o.iconMap[r][d]+".png"})})),l+=40,c+=15}}catch(a){h.e(a)}finally{h.f()}}return s},this.baseMapOSM=new db({source:new kC}),this.parroquiasBaseLayer=new Hw({source:new rx({format:new Lx,url:"assets/capas/parroquias_complete.geo.json"})}),this.puntosBaseLayer=new Hw({source:new rx({format:new Lx,url:"assets/capas/intervencionespunt.geo.json"})}),this.cabecerasBaseLayer=new Hw({source:new rx({format:new Lx,url:"assets/capas/cabeceras.geo.json"})}),this.comunidadesBaseLayer=new Hw({source:new rx({format:new Lx,url:"assets/capas/comunidades.geo.json"})})}return y(t,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var t;this.olMapObj=new J_({view:new Rm({center:(t=[-79,-2.89],fy(t,"EPSG:4326","EPSG:3857")),zoom:10}),layers:[this.baseMapOSM,this.parroquiasBaseLayer,this.comunidadesBaseLayer,this.cabecerasBaseLayer,this.puntosBaseLayer],target:"ol-map"}),this.comunidadesBaseLayer.setVisible(!1),this.cabecerasBaseLayer.setStyle(this.stylop),this.parroquiasBaseLayer.setStyle(this.normalStyle),this.comunidadesBaseLayer.setStyle(this.normalStyle),this.puntosBaseLayer.setStyle(this.calcpointstyle);var e=this.indicatorsMetadataList,n=this.calculateColors,r=this.parroquiasBaseLayer;this.parroquiasBaseLayer.getSource().on("change",function(t){if("ready"==t.target.getState())for(var i=0;i<e.length;i++)"geometry"==e[i].type&&n(r,e[i].name_ind,e[i].color.replace("#",""),"FFFFFF",e[i],e[i].maxv,0)});var i=this;this.olMapObj.on("pointermove",function(t){null!=i.selectedFeature&&(i.selectedFeature.setStyle(void 0),i.selectedFeature=null);var e=!0;i.olMapObj.forEachFeatureAtPixel(t.pixel,function(n,r){var o=n.getProperties().geometry.ol_uid,a=i.parroquiasBaseLayer.getSource().getFeatures(),s=[].concat(a),u=(s=(s=(s=s.concat(i.cabecerasBaseLayer.getSource().getFeatures())).concat(i.comunidadesBaseLayer.getSource().getFeatures())).concat(i.puntosBaseLayer.getSource().getFeatures())).filter(function(t){return t.getProperties().geometry.ol_uid==o});if(i.selectedFeature=u[0],i.selectedFeature)if(i.overlay.setPosition(t.coordinate),i.selectedFeature.get("name"))e=!1,f=i.selectedFeature.get("name"),i.selectedFeature.get("description")&&(f+="<br/>Descripci\xf3n:"+i.selectedFeature.get("description")),i.selectedFeature.get("folders")&&(f+="<br/>Intervenci\xf2n:"+i.selectedFeature.get("folders")),i.toolTipHTMLElement.nativeElement.innerHTML=f;else{var l=i.selectedFeature.get("nombre_par");l||(l=i.selectedFeature.get("nombre")),l||(l=i.selectedFeature.get("PARROQUIA"));var c=a.filter(function(t){return t.getProperties().nombre_par.toLowerCase()==l.toLowerCase()}),h=!1;c[0]&&c[0].meta&&i.activeIndicatorFieldName&&(h=c[0].meta[i.activeIndicatorFieldName].parrq);var d=["El Valle","Ricaurte","Ba\xf1os","Sinincay"].some(function(t){return t.toLowerCase()==l.toLowerCase()});if(d||h){e=!1,"aeco"!=i.activeIndicatorFieldName&&"tipotr"!=i.activeIndicatorFieldName&&i.selectedFeature.setStyle(i.highlightStyle),i.overlay.setPosition(t.coordinate);var f=l,p=void 0;null!=i.activeIndicatorFieldName&&(r==i.comunidadesBaseLayer&&h&&!d||r==i.cabecerasBaseLayer&&d||!d&&h&&r==i.parroquiasBaseLayer)&&(f+=p="<br/> Valor : "+c[0].get(i.activeIndicatorFieldName)+" "+c[0].meta[i.activeIndicatorFieldName].unit),r==i.comunidadesBaseLayer&&(f=i.selectedFeature.get("REC_COM_BA"),p&&(f+=p)),i.toolTipHTMLElement.nativeElement.innerHTML=f}}return!0}),e&&(i.toolTipHTMLElement.nativeElement.innerHTML="")}),this.toolTipHTMLElement.nativeElement.value="Whale!",this.overlay=new TC({element:this.toolTipHTMLElement.nativeElement,offset:[10,0],positioning:"bottom-left"}),this.olMapObj.addOverlay(this.overlay),this.olMapObj.updateSize(),setTimeout(function(){i.olMapObj.updateSize()},500)}},{key:"parroquiasChange",value:function(t){t.target.checked?(this.parroquiasBaseLayer.setVisible(!0),this.cabecerasBaseLayer.setVisible(!0)):(this.parroquiasBaseLayer.setVisible(!1),this.cabecerasBaseLayer.setVisible(!1))}},{key:"comunidadesChange",value:function(t){this.comunidadesBaseLayer.setVisible(!!t.target.checked)}},{key:"intervChange",value:function(t){var n,r=e(this.intervPoints);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.activeIndicatorPoints[i.name_ind]=i,i.show=!!t.target.checked}}catch(o){r.e(o)}finally{r.f()}this.puntosBaseLayer.setStyle(this.calcpointstyle)}},{key:"baseMapChange",value:function(t){this.baseMapOSM.setVisible(!!t.target.checked)}},{key:"cleanCategory",value:function(t){this.activeInd&&(this.activeInd.show=!1),this.activeIndicatorFieldName=null,this.activeInd=void 0,this.parroquiasBaseLayer.setStyle(this.normalStyle)}},{key:"clickCheckPoint",value:function(t,e){}},{key:"clickCheck",value:function(t,e){this.activeInd==e&&(t.target.checked=!1,e.show=!1,this.activeInd=void 0,this.activeIndicatorFieldName=null,this.parroquiasBaseLayer.setStyle(this.normalStyle))}},{key:"ruidoCheck",value:function(t,n){if(n.show=t.target.checked,this.activeIndicatorFieldName=null,"point"==n.type)this.activeIndicatorPoints[n.name_ind]=n,this.puntosBaseLayer.setStyle(this.calcpointstyle);else{this.parroquiasBaseLayer.setStyle(this.normalStyle);var r,i=[],o=e(i=(i=(i=(i=(i=i.concat(this.indicatorsTrans)).concat(this.indicatorsVia)).concat(this.indicatorsTransp)).concat(this.indicatorsdemo)).concat(this.indicesPa));try{for(o.s();!(r=o.n()).done;){r.value.show=!1}}catch(a){o.e(a)}finally{o.f()}n.show=t.target.checked,t.target.checked?(this.activeIndicatorFieldName=n.name_ind,this.parroquiasBaseLayer.setStyle(this.calculatedStyle),n.data&&(n.data=n.data.replaceAll("\r\n",", ")),this.activeInd=n):this.activeInd=void 0}}},{key:"baseMapOp",value:function(t){this.baseMapOSM.setOpacity(t.target.value/100)}},{key:"parroquiasOp",value:function(t){this.parroquiasBaseLayer.setOpacity(t.target.value/100),this.cabecerasBaseLayer.setOpacity(t.target.value/100)}},{key:"comunidadesOp",value:function(t){this.comunidadesBaseLayer.setOpacity(t.target.value/100)}},{key:"intervOp",value:function(t){this.puntosBaseLayer.setOpacity(t.target.value/100)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Qt({type:t,selectors:[["app-root"]],viewQuery:function(t,e){var n;(1&t&&Ns(RC,5),2&t)&&(Ds(n=zs())&&(e.toolTipHTMLElement=n.first))},decls:87,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-md-4"],["id","navbar",1,"d-flex","flex-column","flex-shrink-0","p-3","bg-light"],["id","logoarea",1,"nav-link","px-0","align-middle"],["href","https://citmovucuenca.com/","target","_blank",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","link-dark","text-decoration-none",2,"color","white"],["width","100","height","32",1,"bi","me-2"],["src","assets/img/Logo_Citmov.png","alt","CITMOV","width","80",1,"fs-4"],["id","menu",1,"nav","nav-pills","flex-column","mb-auto"],["for","customRange1",1,"form-label"],["type","checkbox","checked","",3,"change"],["type","range","value","100","id","customRange1",1,"form-range",3,"change"],["for","customRange2",1,"form-label"],["type","range","value","100","id","customRange2",1,"form-range",3,"change"],["type","checkbox",3,"change"],["type","range","value","100","id","customRange3",1,"form-range",3,"change"],["type","range","value","100","id","customRange4",1,"form-range",3,"change"],["id","menubar","href","#intervenciones","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["data-toggle","collapse",1,"ms-1","d-none","d-sm-inline",2,"padding","5px"],["id","intervenciones","data-bs-parent","#menu",1,"collapse","show","nav","flex-column","ms-1"],["class","w-100",4,"ngFor","ngForOf"],["id","menubar","href","#demograficos","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["id","demograficos","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],["id","menubar","href","#viabilidad","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["id","viabilidad","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],["id","menubar","href","#transito","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["id","transito","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],["id","menubar","href","#transporte","data-bs-toggle","collapse",1,"dropdown-toggle","nav-link","px-0","align-middle",3,"click"],["id","transporte","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],[1,"col-md-8"],["id","ol-map",1,"map-container"],[1,"tooltip"],["tooltip",""],[4,"ngIf"],[1,"w-100"],["for","customRange3",1,"form-label"],[1,"bi","bi-suit-diamond-fill"],["type","checkbox","name","indRadio",3,"checked","click","change"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-square",2,"font-size","0.95rem"],["d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],["type","radio","name","indRadio",3,"checked","click","change"],["id","Barra",4,"ngIf"],["id","Barra"],["id","myCanvas","width","250","height","10"],[1,"col-md-9"],[1,"col-md-3","text-center"],[4,"ngFor","ngForOf"],["width","25",3,"src"],["type","radio","id","indRadio","name","indRadio",3,"checked","click","change"],["class","infobar",4,"ngIf"],[1,"infobar"],[3,"src"]],template:function(t,e){1&t&&(Mo(0,"header"),Fo(1,"main"),Fo(2,"div",0),Fo(3,"h2"),va(4," GeoPortal"),jo(),Fo(5,"div",1),Fo(6,"div",2),Fo(7,"div",3),Fo(8,"div",4),Fo(9,"a",5),an(),Mo(10,"svg",6),sn(),Mo(11,"img",7),jo(),jo(),Mo(12,"hr"),Fo(13,"ul",8),Fo(14,"li"),Fo(15,"label",9),va(16,"Mapa Base"),jo(),va(17," \xa0 "),Fo(18,"input",10),zo("change",function(t){return e.baseMapChange(t)}),jo(),Fo(19,"input",11),zo("change",function(t){return e.baseMapOp(t)}),jo(),jo(),Fo(20,"li"),Fo(21,"label",12),va(22,"Parroquias"),jo(),va(23," \xa0 "),Fo(24,"input",10),zo("change",function(t){return e.parroquiasChange(t)}),jo(),Fo(25,"input",13),zo("change",function(t){return e.parroquiasOp(t)}),jo(),jo(),Fo(26,"li"),Fo(27,"label",12),va(28,"Comunidades"),jo(),va(29," \xa0 "),Fo(30,"input",14),zo("change",function(t){return e.comunidadesChange(t)}),jo(),Fo(31,"input",15),zo("change",function(t){return e.comunidadesOp(t)}),jo(),jo(),Fo(32,"li"),Fo(33,"label",12),va(34,"Intervenciones"),jo(),va(35," \xa0 "),Fo(36,"input",14),zo("change",function(t){return e.intervChange(t)}),jo(),Fo(37,"input",16),zo("change",function(t){return e.intervOp(t)}),jo(),jo(),Mo(38,"hr"),Fo(39,"li"),Fo(40,"a",17),zo("click",function(t){return e.cleanCategory(t)}),Fo(41,"span",18),Fo(42,"strong"),va(43,"Intervenciones Urbanas"),jo(),va(44," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),jo(),jo(),Fo(45,"ul",19),Ro(46,PC,5,5,"li",20),jo(),jo(),Fo(47,"li"),Fo(48,"a",21),zo("click",function(t){return e.cleanCategory(t)}),Fo(49,"span",18),Fo(50,"strong"),va(51," Indicadores Parroquiales "),jo(),va(52," \xa0\xa0\xa0\xa0"),jo(),jo(),Fo(53,"ul",22),Ro(54,MC,10,4,"li",20),jo(),jo(),Fo(55,"li"),Fo(56,"a",23),zo("click",function(t){return e.cleanCategory(t)}),Fo(57,"span",18),Fo(58,"strong"),va(59," Indicadores de Vialidad "),jo(),va(60," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),jo(),jo(),Fo(61,"ul",24),Ro(62,DC,10,4,"li",20),jo(),jo(),Fo(63,"li"),Fo(64,"a",25),zo("click",function(t){return e.cleanCategory(t)}),Fo(65,"span",18),Fo(66,"strong"),va(67," Indicadores de Tr\xe1nsito "),jo(),va(68," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),jo(),jo(),Fo(69,"ul",26),Ro(70,zC,10,4,"li",20),jo(),jo(),Fo(71,"li"),Fo(72,"a",27),zo("click",function(t){return e.cleanCategory(t)}),Fo(73,"span",18),Fo(74,"b"),va(75," Indicadores de Transporte "),jo(),va(76," \xa0\xa0\xa0\xa0"),jo(),jo(),Fo(77,"ul",28),Ro(78,VC,10,4,"li",20),jo(),jo(),jo(),Mo(79,"hr"),jo(),jo(),Fo(80,"div",29),Fo(81,"div",30),Mo(82,"div",31,32),jo(),Ro(84,WC,2,1,"div",33),jo(),jo(),jo(),jo(),Fo(85,"footer"),va(86," Footer\n"),jo()),2&t&&(ci(46),Io("ngForOf",e.intervPoints),ci(8),Io("ngForOf",e.indicatorsdemo),ci(8),Io("ngForOf",e.indicatorsVia),ci(8),Io("ngForOf",e.indicatorsTrans),ci(8),Io("ngForOf",e.indicatorsTransp),ci(6),Io("ngIf",e.activeInd))},directives:[ul,cl],pipes:[fl],styles:['@import url("https://fonts.googleapis.com/css?family=Roboto");body[_ngcontent-%COMP%]{font-family:Roboto;color:var(--text-color);margin:0;--header-color:#d1dfb7;--sidebar-color:#fae6be;--text-color:#000}#ol-map[_ngcontent-%COMP%]{height:500px;width:800px;border-radius:15px}#logoarea[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;border:2px inset #a9a9a9}.infobar[_ngcontent-%COMP%]{min-height:60px;border-style:solid;width:800px;border-width:1px;margin-top:10px;padding:10px}.tooltip[_ngcontent-%COMP%]{position:relative;padding:3px;background:#e1e1dc;color:#000;opacity:1;white-space:nowrap;font:10pt sans-serif}#menubar[_ngcontent-%COMP%]{color:#333435;margin-bottom:10px;background-color:#fff;border-radius:5px;border:1px inset #a9a9a9}#navbar[_ngcontent-%COMP%]{height:500px;overflow-y:auto}#navbar[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%]{border-radius:15px}#myCanvas[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:15px}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}header[_ngcontent-%COMP%]{background-color:var(--header-color);padding:2em}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:28px}main[_ngcontent-%COMP%]{display:flex;flex-grow:1}.left-bar[_ngcontent-%COMP%]{width:20em;background-color:var(--sidebar-color)}.map-container[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{background-color:var(--header-color);padding:1em}']}),t}();function ZC(t,e,r,i){return f(r)&&(i=r,r=void 0),i?ZC(t,e,r).pipe(z(function(t){return w(t)?i.apply(void 0,n(t)):i(t)})):new I(function(n){YC(t,e,function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},n,r)})}function YC(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,c=t.length;l<c;l++)YC(t[l],e,n,r,i)}r.add(o)}var KC=function(t){u(n,t);var e=c(n);function n(t,r){return v(this,n),e.call(this)}return y(n,[{key:"schedule",value:function(t){return this}}]),n}(S),JC=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;v(this,t),this.SchedulerAction=e,this.now=n}return y(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),QC=new(function(t){u(n,t);var e=c(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JC.now;return v(this,n),(r=e.call(this,t,function(){return n.delegate&&n.delegate!==d(r)?n.delegate.now():i()})).actions=[],r.active=!1,r.scheduled=void 0,r}return y(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):s(p(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(JC))(function(t){u(n,t);var e=c(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return y(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(KC));function $C(t){return!w(t)&&t-parseFloat(t)+1>=0}function tS(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var eS=function(){function t(){v(this,t)}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new nS(t))}}]),t}(),nS=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return y(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=$l(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)}}]),n}(Jl);function rS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r&&e.pop(),nt(e,void 0).lift(new iS(r))}new I(Lc);var iS=function(){function t(e){v(this,t),this.resultSelector=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new oS(t,this.resultSelector))}}]),t}(),oS=function(t){u(n,t);var e=c(n);function n(t,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return v(this,n),(i=e.call(this,t)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return y(n,[{key:"_next",value:function(t){var e=this.iterators;w(t)?e.push(new sS(t)):e.push("function"==typeof t[U]?new aS(t[U]()):new uS(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<e;s++){var u=t[s],l=u.next();if(u.hasCompleted()&&(o=!0),l.done)return void n.complete();a.push(l.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(T),aS=function(){function t(e){v(this,t),this.iterator=e,this.nextResult=e.next()}return y(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),sS=function(){function t(e){v(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return y(t,[{key:U,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),uS=function(t){u(n,t);var e=c(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return y(n,[{key:U,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return J(this.observable,new Y(this))}}]),n}(K);function lS(t){return function(e){return e.lift(new cS(t))}}var cS=function(){function t(e){v(this,t),this.notifier=e}return y(t,[{key:"call",value:function(t,e){var n=new hS(t),r=J(this.notifier,new Y(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),hS=function(t){u(n,t);var e=c(n);function n(t){var r;return v(this,n),(r=e.call(this,t)).seenValue=!1,r}return y(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(K);function dS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new fS(e,n))}}var fS=function(){function t(e,n){v(this,t),this.observables=e,this.project=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new pS(t,this.observables,this.project))}}]),t}(),pS=function(t){u(r,t);var e=c(r);function r(t,n,i){var o;v(this,r),(o=e.call(this,t)).observables=n,o.project=i,o.toRespond=[];var a=n.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++)o.add($l(d(o),n[u],void 0,u));return o}return y(r,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(n(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),r}(Jl),vS=function(){function t(e,n,r){v(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return y(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Yl(this.value);case"E":return t=this.error,new I(function(e){return e.error(t)});case"C":return ac()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();vS.completeNotification=new vS("C"),vS.undefinedValueNotification=new vS("N",void 0);var gS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({}),t}(),yS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[gS]]}),t}(),mS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[yS]}),t}(),_S=["*"],bS=["dialog"];function wS(t){return null!=t}function xS(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var CS=!0,SS=5,kS=function(){var t=function t(){v(this,t),this.animation=CS};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),ES=function(){},TS=SS,OS=new Map,RS=function(t,e,n,r){var i=r.context||{},o=OS.get(e);if(o)switch(r.runningTransition){case"continue":return oc;case"stop":t.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),OS.delete(e)}var a=n(e,r.animation,i)||ES;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return a()}),Yl(void 0).pipe(function(t){return function(e){return new I(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var s=new L,u=new L,l=s.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return ic(t,Yl.apply(void 0,e))}}(!0));OS.set(e,{transition$:s,complete:function(){u.next(),u.complete()},context:i});var c=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,r=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(e);return t.runOutsideAngular(function(){var n=ZC(e,"transitionend").pipe(lS(l),mc(function(t){return t.target===e}));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!w(e[0]))return e[0];e=e[0]}return nt(e,void 0).lift(new eS)})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return $C(e)?r=Number(e)<1?1:Number(e):N(e)&&(n=e),N(n)||(n=QC),new I(function(e){var i=$C(t)?t:+t-n.now();return n.schedule(tS,i,{index:0,period:r,subscriber:e})})}(c+TS).pipe(lS(l)),n,u).pipe(lS(l)).subscribe(function(){OS.delete(e),t.run(function(){a(),s.next(),s.complete()})})}),s.asObservable()},PS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),IS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),AS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({}),t}(),FS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),jS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({}),t}(),MS=(function(t){t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}(MS||(MS={})),MS);"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var LS=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function DS(t){var e=Array.from(t.querySelectorAll(LS)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}new(function(){function e(){v(this,e)}return y(e,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(e,n,r,i){var o=t(r.split("-"),2),a=o[0],s=void 0===a?"top":a,u=o[1],l=void 0===u?"center":u,c=i?this.offset(e,!1):this.position(e,!1),h=this.getAllStyles(n),d=parseFloat(h.marginTop),f=parseFloat(h.marginBottom),p=parseFloat(h.marginLeft),v=parseFloat(h.marginRight),g=0,y=0;switch(s){case"top":g=c.top-(n.offsetHeight+d+f);break;case"bottom":g=c.top+c.height;break;case"left":y=c.left-(n.offsetWidth+p+v);break;case"right":y=c.left+c.width}switch(l){case"top":g=c.top;break;case"bottom":g=c.top+c.height-n.offsetHeight;break;case"left":y=c.left;break;case"right":y=c.left+c.width-n.offsetWidth;break;case"center":"top"===s||"bottom"===s?y=c.left+c.width/2-n.offsetWidth/2:g=c.top+c.height/2-n.offsetHeight/2}n.style.transform="translate(".concat(Math.round(y),"px, ").concat(Math.round(g),"px)");var m=n.getBoundingClientRect(),_=document.documentElement,b=window.innerHeight||_.clientHeight,w=window.innerWidth||_.clientWidth;return m.left>=0&&m.top>=0&&m.right<=w&&m.bottom<=b}}]),e}()),new Date(1882,10,12),new Date(2174,10,25);var NS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl,mS]]}),t}(),zS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({}),t}(),qS=function(){var t=function(){function t(e){v(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return y(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(kS))},t.\u0275prov=wt({factory:function(){return new t(ar(kS))},token:t,providedIn:"root"}),t}(),VS=function t(e,n,r){v(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},GS=function(){},US=function(){var t=function(){function t(e){v(this,t),this._document=e}return y(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):GS}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(qu))},t.\u0275prov=wt({factory:function(){return new t(ar(qu))},token:t,providedIn:"root"}),t}(),BS=function(){var t=function(){function t(e,n){v(this,t),this._el=e,this._zone=n}return y(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(dc(1)).subscribe(function(){RS(t._zone,t._el.nativeElement,function(t,e){e&&xS(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return RS(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Po(Pa),Po(uu))},t.\u0275cmp=Qt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(ra("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),ea("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t}(),HS=function(){function t(){v(this,t)}return y(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),WS=function(){function t(e,n,r,i){var o=this;v(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new L,this._dismissed=new L,this._hidden=new L,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return y(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(lS(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(lS(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Yl(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),rS(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),XS=(function(t){t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC"}(XS||(XS={})),XS),ZS=function(){var t=function(){function t(e,n,r){v(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new L,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ks,this.shown=new L,this.hidden=new L}return y(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){var t=this;this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(dc(1)).subscribe(function(){t._show()})}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=rS(RS(this._zone,e,function(){return e.classList.remove("show")},n),RS(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};rS(RS(this._zone,this._elRef.nativeElement,function(t,e){e&&xS(t),t.classList.add("show")},e),RS(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){ZC(e,"keydown").pipe(lS(t._closed$),mc(function(t){return t.which===MS.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(XS.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;ZC(t._dialogEl.nativeElement,"mousedown").pipe(lS(t._closed$),Dc(function(){return n=!1}),uc(function(){return ZC(e,"mouseup").pipe(lS(t._closed$),dc(1))}),mc(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),ZC(e,"click").pipe(lS(t._closed$)).subscribe(function(r){var i=r.target;e===i&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(XS.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=DS(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&RS(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Po(qu),Po(Pa),Po(uu))},t.\u0275cmp=Qt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;(1&t&&Ns(bS,7),2&t)&&(Ds(n=zs())&&(e._dialogEl=n.first))},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(To("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),ra("modal d-block"+(e.windowClass?" "+e.windowClass:"")),ea("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:_S,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(function(t){var e=Fe()[16][6];if(!e.projection)for(var n=e.projection=Kn(1,null),r=n.slice(),i=e.child;null!==i;){r[0]?r[0].projectionNext=i:n[0]=i,r[0]=i,i=i.next}}(),Fo(0,"div",0,1),Fo(2,"div",2),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Fe(),i=je(),o=bi(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),qe(),64!=(64&o.flags)&&function(t,e,n){Kr(e[11],0,e,n,Dr(t,n,e),Gr(n.parent||e[6],n,e))}(i,r,o)}(3),jo(),jo()),2&t&&ra("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t}(),YS=function(){var e=function(){function e(n,r,i,o,a,s){var u=this;v(this,e),this._applicationRef=n,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=a,this._ngZone=s,this._activeWindowCmptHasChanged=new L,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new ks,this._activeWindowCmptHasChanged.subscribe(function(){if(u._windowCmpts.length){var e=u._windowCmpts[u._windowCmpts.length-1];(function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];u._ngZone.runOutsideAngular(function(){var e=ZC(n,"focusin").pipe(lS(r),z(function(t){return t.target}));ZC(n,"keydown").pipe(lS(r),mc(function(t){return t.which===MS.Tab}),dS(e)).subscribe(function(e){var r=t(e,2),i=r[0],o=r[1],a=t(DS(n),2),s=a[0],u=a[1];o!==s&&o!==n||!i.shiftKey||(u.focus(),i.preventDefault()),o!==u||i.shiftKey||(s.focus(),i.preventDefault())}),i&&ZC(n,"click").pipe(lS(r),dS(e),z(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,e.location.nativeElement,u._activeWindowCmptHasChanged),u._revertAriaHidden(),u._setAriaHidden(e.location.nativeElement)}})}return y(e,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:wS(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var l=new HS,c=this._getContentRef(t,r.injector||e,n,l,r),h=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,d=this._attachWindowComponent(t,o,c),f=new WS(d,c,h,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(d),f.result.then(s,s),f.result.then(u,u),l.close=function(t){f.close(t)},l.dismiss=function(t){f.dismiss(t)},this._applyWindowOptions(d.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,r),h.changeDetectorRef.detectChanges()),d.changeDetectorRef.detectChanges(),f}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(BS).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(ZS).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){wS(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){wS(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof is?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new VS([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new VS([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new VS([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),a=_o.create({providers:[{provide:HS,useValue:r}],parent:e}),s=o.create(a),u=s.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(s.hostView),new VS([[u]],s.hostView,s)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ar(Ou),ar(_o),ar(qu),ar(US),ar(Aa),ar(uu))},e.\u0275prov=wt({factory:function(){return new e(ar(Ou),ar(oo),ar(qu),ar(US),ar(Aa),ar(uu))},token:e,providedIn:"root"}),e}(),KS=function(){var t=function(){function t(e,n,r,i){v(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return y(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ar(Ea),ar(_o),ar(YS),ar(qS))},t.\u0275prov=wt({factory:function(){return new t(ar(Ea),ar(oo),ar(YS),ar(qS))},token:t,providedIn:"root"}),t}(),JS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({providers:[KS]}),t}(),QS=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),$S=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),tk=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),ek=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),nk=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),rk=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),ik=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),ok=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({}),t}();new Un("live announcer delay",{providedIn:"root",factory:function(){return 100}});var ak=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[[vl]]}),t}(),sk=[PS,IS,AS,FS,jS,NS,zS,JS,QS,$S,tk,ek,nk,rk,ik,ok,ak],uk=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=xt({imports:[sk,PS,IS,AS,FS,jS,NS,zS,JS,QS,$S,tk,ek,nk,rk,ik,ok,ak]}),t}(),lk=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t,bootstrap:[XC]}),t.\u0275inj=xt({providers:[],imports:[[Zl,Df,uk]]}),t}();(function(){if(bu)throw new Error("Cannot enable prod mode after platform setup.");_u=!1})(),Wl().bootstrapModule(lk).catch(function(t){return console.error(t)})}},function(t){"use strict";t(t.s=2667)}])}();